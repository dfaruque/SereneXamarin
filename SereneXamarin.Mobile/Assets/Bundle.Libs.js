/*! pace 1.0.2 */
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X=[].slice,Y={}.hasOwnProperty,Z=function(a,b){function c(){this.constructor=a}for(var d in b)Y.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},$=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};for(u={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},C=function(){var a;return null!=(a="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?a:+new Date},E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==E&&(E=function(a){return setTimeout(a,50)},t=function(a){return clearTimeout(a)}),G=function(a){var b,c;return b=C(),(c=function(){var d;return d=C()-b,d>=33?(b=C(),a(d,function(){return E(c)})):setTimeout(c,33-d)})()},F=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?X.call(arguments,2):[],"function"==typeof c[b]?c[b].apply(c,a):c[b]},v=function(){var a,b,c,d,e,f,g;for(b=arguments[0],d=2<=arguments.length?X.call(arguments,1):[],f=0,g=d.length;g>f;f++)if(c=d[f])for(a in c)Y.call(c,a)&&(e=c[a],null!=b[a]&&"object"==typeof b[a]&&null!=e&&"object"==typeof e?v(b[a],e):b[a]=e);return b},q=function(a){var b,c,d,e,f;for(c=b=0,e=0,f=a.length;f>e;e++)d=a[e],c+=Math.abs(d),b++;return c/b},x=function(a,b){var c,d,e;if(null==a&&(a="options"),null==b&&(b=!0),e=document.querySelector("[data-pace-"+a+"]")){if(c=e.getAttribute("data-pace-"+a),!b)return c;try{return JSON.parse(c)}catch(f){return d=f,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",d):void 0}}},g=function(){function a(){}return a.prototype.on=function(a,b,c,d){var e;return null==d&&(d=!1),null==this.bindings&&(this.bindings={}),null==(e=this.bindings)[a]&&(e[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,b){var c,d,e;if(null!=(null!=(d=this.bindings)?d[a]:void 0)){if(null==b)return delete this.bindings[a];for(c=0,e=[];c<this.bindings[a].length;)e.push(this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):c++);return e}},a.prototype.trigger=function(){var a,b,c,d,e,f,g,h,i;if(c=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],null!=(g=this.bindings)?g[c]:void 0){for(e=0,i=[];e<this.bindings[c].length;)h=this.bindings[c][e],d=h.handler,b=h.ctx,f=h.once,d.apply(null!=b?b:this,a),i.push(f?this.bindings[c].splice(e,1):e++);return i}},a}(),j=window.Pace||{},window.Pace=j,v(j,g.prototype),D=j.options=v({},u,window.paceOptions,x()),U=["ajax","document","eventLag","elements"],Q=0,S=U.length;S>Q;Q++)K=U[Q],D[K]===!0&&(D[K]=u[K]);i=function(a){function b(){return V=b.__super__.constructor.apply(this,arguments)}return Z(b,a),b}(Error),b=function(){function a(){this.progress=0}return a.prototype.getElement=function(){var a;if(null==this.el){if(a=document.querySelector(D.target),!a)throw new i;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=a.firstChild?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},a.prototype.finish=function(){var a;return a=this.getElement(),a.className=a.className.replace("pace-active",""),a.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},a.prototype.update=function(a){return this.progress=a,this.render()},a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){i=a}return this.el=void 0},a.prototype.render=function(){var a,b,c,d,e,f,g;if(null==document.querySelector(D.target))return!1;for(a=this.getElement(),d="translate3d("+this.progress+"%, 0, 0)",g=["webkitTransform","msTransform","transform"],e=0,f=g.length;f>e;e++)b=g[e],a.children[0].style[b]=d;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(a.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?c="99":(c=this.progress<10?"0":"",c+=0|this.progress),a.children[0].setAttribute("data-progress",""+c)),this.lastRenderedProgress=this.progress},a.prototype.done=function(){return this.progress>=100},a}(),h=function(){function a(){this.bindings={}}return a.prototype.trigger=function(a,b){var c,d,e,f,g;if(null!=this.bindings[a]){for(f=this.bindings[a],g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c.call(this,b));return g}},a.prototype.on=function(a,b){var c;return null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push(b)},a}(),P=window.XMLHttpRequest,O=window.XDomainRequest,N=window.WebSocket,w=function(a,b){var c,d,e;e=[];for(d in b.prototype)try{e.push(null==a[d]&&"function"!=typeof b[d]?"function"==typeof Object.defineProperty?Object.defineProperty(a,d,{get:function(){return b.prototype[d]},configurable:!0,enumerable:!0}):a[d]=b.prototype[d]:void 0)}catch(f){c=f}return e},A=[],j.ignore=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift("ignore"),c=b.apply(null,a),A.shift(),c},j.track=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift("track"),c=b.apply(null,a),A.shift(),c},J=function(a){var b;if(null==a&&(a="GET"),"track"===A[0])return"force";if(!A.length&&D.ajax){if("socket"===a&&D.ajax.trackWebSockets)return!0;if(b=a.toUpperCase(),$.call(D.ajax.trackMethods,b)>=0)return!0}return!1},k=function(a){function b(){var a,c=this;b.__super__.constructor.apply(this,arguments),a=function(a){var b;return b=a.open,a.open=function(d,e){return J(d)&&c.trigger("request",{type:d,url:e,request:a}),b.apply(a,arguments)}},window.XMLHttpRequest=function(b){var c;return c=new P(b),a(c),c};try{w(window.XMLHttpRequest,P)}catch(d){}if(null!=O){window.XDomainRequest=function(){var b;return b=new O,a(b),b};try{w(window.XDomainRequest,O)}catch(d){}}if(null!=N&&D.ajax.trackWebSockets){window.WebSocket=function(a,b){var d;return d=null!=b?new N(a,b):new N(a),J("socket")&&c.trigger("request",{type:"socket",url:a,protocols:b,request:d}),d};try{w(window.WebSocket,N)}catch(d){}}}return Z(b,a),b}(h),R=null,y=function(){return null==R&&(R=new k),R},I=function(a){var b,c,d,e;for(e=D.ajax.ignoreURLs,c=0,d=e.length;d>c;c++)if(b=e[c],"string"==typeof b){if(-1!==a.indexOf(b))return!0}else if(b.test(a))return!0;return!1},y().on("request",function(b){var c,d,e,f,g;return f=b.type,e=b.request,g=b.url,I(g)?void 0:j.running||D.restartOnRequestAfter===!1&&"force"!==J(f)?void 0:(d=arguments,c=D.restartOnRequestAfter||0,"boolean"==typeof c&&(c=0),setTimeout(function(){var b,c,g,h,i,k;if(b="socket"===f?e.readyState<2:0<(h=e.readyState)&&4>h){for(j.restart(),i=j.sources,k=[],c=0,g=i.length;g>c;c++){if(K=i[c],K instanceof a){K.watch.apply(K,d);break}k.push(void 0)}return k}},c))}),a=function(){function a(){var a=this;this.elements=[],y().on("request",function(){return a.watch.apply(a,arguments)})}return a.prototype.watch=function(a){var b,c,d,e;return d=a.type,b=a.request,e=a.url,I(e)?void 0:(c="socket"===d?new n(b):new o(b),this.elements.push(c))},a}(),o=function(){function a(a){var b,c,d,e,f,g,h=this;if(this.progress=0,null!=window.ProgressEvent)for(c=null,a.addEventListener("progress",function(a){return h.progress=a.lengthComputable?100*a.loaded/a.total:h.progress+(100-h.progress)/2},!1),g=["load","abort","timeout","error"],d=0,e=g.length;e>d;d++)b=g[d],a.addEventListener(b,function(){return h.progress=100},!1);else f=a.onreadystatechange,a.onreadystatechange=function(){var b;return 0===(b=a.readyState)||4===b?h.progress=100:3===a.readyState&&(h.progress=50),"function"==typeof f?f.apply(null,arguments):void 0}}return a}(),n=function(){function a(a){var b,c,d,e,f=this;for(this.progress=0,e=["error","open"],c=0,d=e.length;d>c;c++)b=e[c],a.addEventListener(b,function(){return f.progress=100},!1)}return a}(),d=function(){function a(a){var b,c,d,f;for(null==a&&(a={}),this.elements=[],null==a.selectors&&(a.selectors=[]),f=a.selectors,c=0,d=f.length;d>c;c++)b=f[c],this.elements.push(new e(b))}return a}(),e=function(){function a(a){this.selector=a,this.progress=0,this.check()}return a.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},D.elements.checkInterval)},a.prototype.done=function(){return this.progress=100},a}(),c=function(){function a(){var a,b,c=this;this.progress=null!=(b=this.states[document.readyState])?b:100,a=document.onreadystatechange,document.onreadystatechange=function(){return null!=c.states[document.readyState]&&(c.progress=c.states[document.readyState]),"function"==typeof a?a.apply(null,arguments):void 0}}return a.prototype.states={loading:0,interactive:50,complete:100},a}(),f=function(){function a(){var a,b,c,d,e,f=this;this.progress=0,a=0,e=[],d=0,c=C(),b=setInterval(function(){var g;return g=C()-c-50,c=C(),e.push(g),e.length>D.eventLag.sampleCount&&e.shift(),a=q(e),++d>=D.eventLag.minSamples&&a<D.eventLag.lagThreshold?(f.progress=100,clearInterval(b)):f.progress=100*(3/(a+3))},50)}return a}(),m=function(){function a(a){this.source=a,this.last=this.sinceLastUpdate=0,this.rate=D.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=F(this.source,"progress"))}return a.prototype.tick=function(a,b){var c;return null==b&&(b=F(this.source,"progress")),b>=100&&(this.done=!0),b===this.last?this.sinceLastUpdate+=a:(this.sinceLastUpdate&&(this.rate=(b-this.last)/this.sinceLastUpdate),this.catchup=(b-this.progress)/D.catchupTime,this.sinceLastUpdate=0,this.last=b),b>this.progress&&(this.progress+=this.catchup*a),c=1-Math.pow(this.progress/100,D.easeFactor),this.progress+=c*this.rate*a,this.progress=Math.min(this.lastProgress+D.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},a}(),L=null,H=null,r=null,M=null,p=null,s=null,j.running=!1,z=function(){return D.restartOnPushState?j.restart():void 0},null!=window.history.pushState&&(T=window.history.pushState,window.history.pushState=function(){return z(),T.apply(window.history,arguments)}),null!=window.history.replaceState&&(W=window.history.replaceState,window.history.replaceState=function(){return z(),W.apply(window.history,arguments)}),l={ajax:a,elements:d,document:c,eventLag:f},(B=function(){var a,c,d,e,f,g,h,i;for(j.sources=L=[],g=["ajax","elements","document","eventLag"],c=0,e=g.length;e>c;c++)a=g[c],D[a]!==!1&&L.push(new l[a](D[a]));for(i=null!=(h=D.extraSources)?h:[],d=0,f=i.length;f>d;d++)K=i[d],L.push(new K(D));return j.bar=r=new b,H=[],M=new m})(),j.stop=function(){return j.trigger("stop"),j.running=!1,r.destroy(),s=!0,null!=p&&("function"==typeof t&&t(p),p=null),B()},j.restart=function(){return j.trigger("restart"),j.stop(),j.start()},j.go=function(){var a;return j.running=!0,r.render(),a=C(),s=!1,p=G(function(b,c){var d,e,f,g,h,i,k,l,n,o,p,q,t,u,v,w;for(l=100-r.progress,e=p=0,f=!0,i=q=0,u=L.length;u>q;i=++q)for(K=L[i],o=null!=H[i]?H[i]:H[i]=[],h=null!=(w=K.elements)?w:[K],k=t=0,v=h.length;v>t;k=++t)g=h[k],n=null!=o[k]?o[k]:o[k]=new m(g),f&=n.done,n.done||(e++,p+=n.tick(b));return d=p/e,r.update(M.tick(b,d)),r.done()||f||s?(r.update(100),j.trigger("done"),setTimeout(function(){return r.finish(),j.running=!1,j.trigger("hide")},Math.max(D.ghostTime,Math.max(D.minTime-(C()-a),0)))):c()})},j.start=function(a){v(D,a),j.running=!0;try{r.render()}catch(b){i=b}return document.querySelector(".pace")?(j.trigger("start"),j.go()):setTimeout(j.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return j}):"object"==typeof exports?module.exports=j:D.startOnPageLoad&&j.start()}).call(this);



/*!
 * @overview RSVP - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/tildeio/rsvp.js/master/LICENSE
 * @version   3.0.14
 */
(function(){"use strict";function t(t,r){for(var e=0,n=t.length;e<n;e++){if(t[e]===r){return e}}return-1}function r(t){var r=t._promiseCallbacks;if(!r){r=t._promiseCallbacks={}}return r}var e={mixin:function(t){t["on"]=this["on"];t["off"]=this["off"];t["trigger"]=this["trigger"];t._promiseCallbacks=undefined;return t},on:function(e,n){var i=r(this),o;o=i[e];if(!o){o=i[e]=[]}if(t(o,n)===-1){o.push(n)}},off:function(e,n){var i=r(this),o,u;if(!n){i[e]=[];return}o=i[e];u=t(o,n);if(u!==-1){o.splice(u,1)}},trigger:function(t,e){var n=r(this),i,o;if(i=n[t]){for(var u=0;u<i.length;u++){o=i[u];o(e)}}}};var n={instrument:false};e.mixin(n);function i(t,r){if(t==="onerror"){n.on("error",r);return}if(arguments.length===2){n[t]=r}else{return n[t]}}function o(t){return typeof t==="function"||typeof t==="object"&&t!==null}function u(t){return typeof t==="function"}function a(t){return typeof t==="object"&&t!==null}var s;if(!Array.isArray){s=function(t){return Object.prototype.toString.call(t)==="[object Array]"}}else{s=Array.isArray}var f=s;var c=Date.now||function(){return(new Date).getTime()};function l(){}var h=Object.create||function(t){if(arguments.length>1){throw new Error("Second argument not supported")}if(typeof t!=="object"){throw new TypeError("Argument must be an object")}l.prototype=t;return new l};var v=[];function p(){setTimeout(function(){var t;for(var r=0;r<v.length;r++){t=v[r];var e=t.payload;e.guid=e.key+e.id;e.childGuid=e.key+e.childId;if(e.error){e.stack=e.error.stack}n["trigger"](t.name,t.payload)}v.length=0},50)}var _=function zr(t,r,e){if(1===v.push({name:t,payload:{key:r._guidKey,id:r._id,eventName:t,detail:r._result,childId:e&&e._id,label:r._label,timeStamp:c(),error:n["instrument-with-stack"]?new Error(r._label):null}})){p()}};function d(){return new TypeError("A promises callback cannot return that same promise.")}function y(){}var m=void 0;var w=1;var g=2;var b=new M;function A(t){try{return t.then}catch(r){b.error=r;return b}}function E(t,r,e,n){try{t.call(r,e,n)}catch(i){return i}}function j(t,r,e){n.async(function(t){var n=false;var i=E(e,r,function(e){if(n){return}n=true;if(r!==e){S(t,e)}else{O(t,e)}},function(r){if(n){return}n=true;R(t,r)},"Settle: "+(t._label||" unknown promise"));if(!n&&i){n=true;R(t,i)}},t)}function T(t,r){if(r._state===w){O(t,r._result)}else if(t._state===g){R(t,r._result)}else{I(r,undefined,function(e){if(r!==e){S(t,e)}else{O(t,e)}},function(r){R(t,r)})}}function k(t,r){if(r.constructor===t.constructor){T(t,r)}else{var e=A(r);if(e===b){R(t,b.error)}else if(e===undefined){O(t,r)}else if(u(e)){j(t,r,e)}else{O(t,r)}}}function S(t,r){if(t===r){O(t,r)}else if(o(r)){k(t,r)}else{O(t,r)}}function C(t){if(t._onerror){t._onerror(t._result)}x(t)}function O(t,r){if(t._state!==m){return}t._result=r;t._state=w;if(t._subscribers.length===0){if(n.instrument){_("fulfilled",t)}}else{n.async(x,t)}}function R(t,r){if(t._state!==m){return}t._state=g;t._result=r;n.async(C,t)}function I(t,r,e,i){var o=t._subscribers;var u=o.length;t._onerror=null;o[u]=r;o[u+w]=e;o[u+g]=i;if(u===0&&t._state){n.async(x,t)}}function x(t){var r=t._subscribers;var e=t._state;if(n.instrument){_(e===w?"fulfilled":"rejected",t)}if(r.length===0){return}var i,o,u=t._result;for(var a=0;a<r.length;a+=3){i=r[a];o=r[a+e];if(i){Y(e,i,o,u)}else{o(u)}}t._subscribers.length=0}function M(){this.error=null}var N=new M;function P(t,r){try{return t(r)}catch(e){N.error=e;return N}}function Y(t,r,e,n){var i=u(e),o,a,s,f;if(i){o=P(e,n);if(o===N){f=true;a=o.error;o=null}else{s=true}if(r===o){R(r,d());return}}else{o=n;s=true}if(r._state!==m){}else if(i&&s){S(r,o)}else if(f){R(r,a)}else if(t===w){O(r,o)}else if(t===g){R(r,o)}}function D(t,r){try{r(function n(r){S(t,r)},function i(r){R(t,r)})}catch(e){R(t,e)}}function K(t,r,e){if(t===w){return{state:"fulfilled",value:e}}else{return{state:"rejected",reason:e}}}function U(t,r,e,n){this._instanceConstructor=t;this.promise=new t(y,n);this._abortOnReject=e;if(this._validateInput(r)){this._input=r;this.length=r.length;this._remaining=r.length;this._init();if(this.length===0){O(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){O(this.promise,this._result)}}}else{R(this.promise,this._validationError())}}U.prototype._validateInput=function(t){return f(t)};U.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};U.prototype._init=function(){this._result=new Array(this.length)};var q=U;U.prototype._enumerate=function(){var t=this.length;var r=this.promise;var e=this._input;for(var n=0;r._state===m&&n<t;n++){this._eachEntry(e[n],n)}};U.prototype._eachEntry=function(t,r){var e=this._instanceConstructor;if(a(t)){if(t.constructor===e&&t._state!==m){t._onerror=null;this._settledAt(t._state,r,t._result)}else{this._willSettleAt(e.resolve(t),r)}}else{this._remaining--;this._result[r]=this._makeResult(w,r,t)}};U.prototype._settledAt=function(t,r,e){var n=this.promise;if(n._state===m){this._remaining--;if(this._abortOnReject&&t===g){R(n,e)}else{this._result[r]=this._makeResult(t,r,e)}}if(this._remaining===0){O(n,this._result)}};U.prototype._makeResult=function(t,r,e){return e};U.prototype._willSettleAt=function(t,r){var e=this;I(t,undefined,function(t){e._settledAt(w,r,t)},function(t){e._settledAt(g,r,t)})};var F=function Br(t,r){return new q(this,t,true,r).promise};var G=function Hr(t,r){var e=this;var n=new e(y,r);if(!f(t)){R(n,new TypeError("You must pass an array to race."));return n}var i=t.length;function o(t){S(n,t)}function u(t){R(n,t)}for(var a=0;n._state===m&&a<i;a++){I(e.resolve(t[a]),undefined,o,u)}return n};var L=function Jr(t,r){var e=this;if(t&&typeof t==="object"&&t.constructor===e){return t}var n=new e(y,r);S(n,t);return n};var V=function Qr(t,r){var e=this;var n=new e(y,r);R(n,t);return n};var W="rsvp_"+c()+"-";var z=0;function B(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var J=Q;function Q(t,r){this._id=z++;this._label=r;this._state=undefined;this._result=undefined;this._subscribers=[];if(n.instrument){_("created",this)}if(y!==t){if(!u(t)){B()}if(!(this instanceof Q)){H()}D(this,t)}}Q.cast=L;Q.all=F;Q.race=G;Q.resolve=L;Q.reject=V;Q.prototype={constructor:Q,_guidKey:W,_onerror:function(t){n["trigger"]("error",t)},then:function(t,r,e){var i=this;var o=i._state;if(o===w&&!t||o===g&&!r){if(n.instrument){_("chained",this,this)}return this}i._onerror=null;var u=new this.constructor(y,e);var a=i._result;if(n.instrument){_("chained",i,u)}if(o){var s=arguments[o-1];n.async(function(){Y(o,u,s,a)})}else{I(i,u,t,r)}return u},"catch":function(t,r){return this.then(null,t,r)},"finally":function(t,r){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})},r)}};function X(){this.value=undefined}var Z=new X;var $=new X;function tr(t){try{return t.then}catch(r){Z.value=r;return Z}}function rr(t,r,e){try{t.apply(r,e)}catch(n){Z.value=n;return Z}}function er(t,r){var e={};var n;var i;var o=t.length;var u=new Array(o);for(var a=0;a<o;a++){u[a]=t[a]}for(i=0;i<r.length;i++){n=r[i];e[n]=u[i+1]}return e}function nr(t){var r=t.length;var e=new Array(r-1);for(var n=1;n<r;n++){e[n-1]=t[n]}return e}function ir(t,r){return{then:function(e,n){return t.call(r,e,n)}}}var or=function Xr(t,r){var e=function(){var e=this;var n=arguments.length;var i=new Array(n+1);var o;var u=false;for(var a=0;a<n;++a){o=arguments[a];if(!u){u=sr(o);if(u===$){var s=new J(y);R(s,$.value);return s}else if(u&&u!==true){o=ir(u,o)}}i[a]=o}var c=new J(y);i[n]=function(t,e){if(t)R(c,t);else if(r===undefined)S(c,e);else if(r===true)S(c,nr(arguments));else if(f(r))S(c,er(arguments,r));else S(c,e)};if(u){return ar(c,i,t,e)}else{return ur(c,i,t,e)}};e.__proto__=t;return e};function ur(t,r,e,n){var i=rr(e,n,r);if(i===Z){R(t,i.value)}return t}function ar(t,r,e,n){return J.all(r).then(function(r){var i=rr(e,n,r);if(i===Z){R(t,i.value)}return t})}function sr(t){if(t&&typeof t==="object"){if(t.constructor===J){return true}else{return tr(t)}}else{return false}}var fr=function Zr(t,r){return J.all(t,r)};function cr(t,r,e){this._superConstructor(t,r,false,e)}cr.prototype=h(q.prototype);cr.prototype._superConstructor=q;cr.prototype._makeResult=K;cr.prototype._validationError=function(){return new Error("allSettled must be called with an array")};var lr=function $r(t,r){return new cr(J,t,r).promise};var hr=function te(t,r){return J.race(t,r)};function vr(t,r,e){this._superConstructor(t,r,true,e)}var pr=vr;vr.prototype=h(q.prototype);vr.prototype._superConstructor=q;vr.prototype._init=function(){this._result={}};vr.prototype._validateInput=function(t){return t&&typeof t==="object"};vr.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")};vr.prototype._enumerate=function(){var t=this.promise;var r=this._input;var e=[];for(var n in r){if(t._state===m&&r.hasOwnProperty(n)){e.push({position:n,entry:r[n]})}}var i=e.length;this._remaining=i;var o;for(var u=0;t._state===m&&u<i;u++){o=e[u];this._eachEntry(o.entry,o.position)}};var _r=function re(t,r){return new pr(J,t,r).promise};function dr(t,r,e){this._superConstructor(t,r,false,e)}dr.prototype=h(pr.prototype);dr.prototype._superConstructor=q;dr.prototype._makeResult=K;dr.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};var yr=function ee(t,r){return new dr(J,t,r).promise};var mr=function ne(t){setTimeout(function(){throw t});throw t};var wr=function ie(t){var r={};r["promise"]=new J(function(t,e){r["resolve"]=t;r["reject"]=e},t);return r};var gr=function oe(t,r,e){return J.all(t,e).then(function(t){if(!u(r)){throw new TypeError("You must pass a function as map's second argument.")}var n=t.length;var i=new Array(n);for(var o=0;o<n;o++){i[o]=r(t[o])}return J.all(i,e)})};var br=function ue(t,r){return J.resolve(t,r)};var Ar=function ae(t,r){return J.reject(t,r)};var Er=function se(t,r,e){return J.all(t,e).then(function(t){if(!u(r)){throw new TypeError("You must pass a function as filter's second argument.")}var n=t.length;var i=new Array(n);for(var o=0;o<n;o++){i[o]=r(t[o])}return J.all(i,e).then(function(r){var e=new Array(n);var i=0;for(var o=0;o<n;o++){if(r[o]){e[i]=t[o];i++}}e.length=i;return e})})};var jr=0;var Tr=function fe(t,r){Pr[jr]=t;Pr[jr+1]=r;jr+=2;if(jr===2){Kr()}};var kr=typeof window!=="undefined"?window:undefined;var Sr=kr||{};var Cr=Sr.MutationObserver||Sr.WebKitMutationObserver;var Or=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function Rr(){return function(){process.nextTick(Yr)}}function Ir(){return function(){vertxNext(Yr)}}function xr(){var t=0;var r=new Cr(Yr);var e=document.createTextNode("");r.observe(e,{characterData:true});return function(){e.data=t=++t%2}}function Mr(){var t=new MessageChannel;t.port1.onmessage=Yr;return function(){t.port2.postMessage(0)}}function Nr(){return function(){setTimeout(Yr,1)}}var Pr=new Array(1e3);function Yr(){for(var t=0;t<jr;t+=2){var r=Pr[t];var e=Pr[t+1];r(e);Pr[t]=undefined;Pr[t+1]=undefined}jr=0}function Dr(){try{var t=require("vertx");var r=t.runOnLoop||t.runOnContext;return Ir()}catch(e){return Nr()}}var Kr;if(typeof process!=="undefined"&&{}.toString.call(process)==="[object process]"){Kr=Rr()}else if(Cr){Kr=xr()}else if(Or){Kr=Mr()}else if(kr===undefined&&typeof require==="function"){Kr=Dr()}else{Kr=Nr()}n.async=Tr;var Ur=br;function qr(t,r){n.async(t,r)}function Fr(){n.on.apply(n,arguments)}function Gr(){n.off.apply(n,arguments)}if(typeof window!=="undefined"&&typeof window["__PROMISE_INSTRUMENTATION__"]==="object"){var Lr=window["__PROMISE_INSTRUMENTATION__"];i("instrument",true);for(var Vr in Lr){if(Lr.hasOwnProperty(Vr)){Fr(Vr,Lr[Vr])}}}var Wr={race:hr,Promise:J,allSettled:lr,hash:_r,hashSettled:yr,denodeify:or,on:Fr,off:Gr,map:gr,filter:Er,resolve:br,reject:Ar,all:fr,rethrow:mr,defer:wr,EventTarget:e,configure:i,async:qr};if(typeof define==="function"&&define["amd"]){define(function(){return Wr})}else if(typeof module!=="undefined"&&module["exports"]){module["exports"]=Wr}else if(typeof this!=="undefined"){this["RSVP"]=Wr}}).call(this);



/*! jQuery v3.1.1 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=[],d=a.document,e=Object.getPrototypeOf,f=c.slice,g=c.concat,h=c.push,i=c.indexOf,j={},k=j.toString,l=j.hasOwnProperty,m=l.toString,n=m.call(Object),o={};function p(a,b){b=b||d;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}var q="3.1.1",r=function(a,b){return new r.fn.init(a,b)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t=/^-ms-/,u=/-([a-z])/g,v=function(a,b){return b.toUpperCase()};r.fn=r.prototype={jquery:q,constructor:r,length:0,toArray:function(){return f.call(this)},get:function(a){return null==a?f.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=r.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return r.each(this,a)},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:c.sort,splice:c.splice},r.extend=r.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||r.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(r.isPlainObject(d)||(e=r.isArray(d)))?(e?(e=!1,f=c&&r.isArray(c)?c:[]):f=c&&r.isPlainObject(c)?c:{},g[b]=r.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},r.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===r.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=r.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==k.call(a))&&(!(b=e(a))||(c=l.call(b,"constructor")&&b.constructor,"function"==typeof c&&m.call(c)===n))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[k.call(a)]||"object":typeof a},globalEval:function(a){p(a)},camelCase:function(a){return a.replace(t,"ms-").replace(u,v)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(w(a)){for(c=a.length;d<c;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(s,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(w(Object(a))?r.merge(c,"string"==typeof a?[a]:a):h.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:i.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,f=0,h=[];if(w(a))for(d=a.length;f<d;f++)e=b(a[f],f,c),null!=e&&h.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&h.push(e);return g.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),r.isFunction(a))return d=f.call(arguments,2),e=function(){return a.apply(b||this,d.concat(f.call(arguments)))},e.guid=a.guid=a.guid||r.guid++,e},now:Date.now,support:o}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=c[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()});function w(a){var b=!!a&&"length"in a&&a.length,c=r.type(a);return"function"!==c&&!r.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}var x=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+K+"*("+L+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+K+"*\\]",N=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(K+"+","g"),P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(N),U=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),aa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ba=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ca=function(a,b){return b?"\0"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},da=function(){m()},ea=ta(function(a){return a.disabled===!0&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{G.apply(D=H.call(v.childNodes),v.childNodes),D[v.childNodes.length].nodeType}catch(fa){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s=b&&b.ownerDocument,w=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==w&&9!==w&&11!==w)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==w&&(l=Z.exec(a)))if(f=l[1]){if(9===w){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(s&&(j=s.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(l[2])return G.apply(d,b.getElementsByTagName(a)),d;if((f=l[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==w)s=b,r=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(ba,ca):b.setAttribute("id",k=u),o=g(a),h=o.length;while(h--)o[h]="#"+k+" "+sa(o[h]);r=o.join(","),s=$.test(a)&&qa(b.parentNode)||b}if(r)try{return G.apply(d,s.querySelectorAll(r)),d}catch(x){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(P,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ea(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function pa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function qa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),v!==n&&(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(n.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){return a.getAttribute("id")===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}}):(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c,d,e,f=b.getElementById(a);if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];e=b.getElementsByName(a),d=0;while(f=e[d++])if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&p)return b.getElementsByClassName(a)},r=[],q=[],(c.qsa=Y.test(n.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+K+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&q.push(":enabled",":disabled"),o.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Y.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"*"),s.call(a,"[s!='']:x"),r.push("!=",N)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Y.test(o.compareDocumentPosition),t=b||Y.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?I(k,a)-I(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?I(k,a)-I(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?la(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(S,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.escape=function(a){return(a+"").replace(ba,ca)},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(_,aa),a[3]=(a[3]||a[4]||a[5]||"").replace(_,aa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return V.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&T.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(_,aa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(O," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(_,aa),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return U.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(_,aa).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:oa(!1),disabled:oa(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:pa(function(){return[0]}),last:pa(function(a,b){return[b-1]}),eq:pa(function(a,b,c){return[c<0?c+b:c]}),even:pa(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:pa(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:pa(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:pa(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function ra(){}ra.prototype=d.filters=d.pseudos,d.setFilters=new ra,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=Q.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function sa(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function ta(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=x++;return b.first?function(b,c,e){while(b=b[d])if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[w,h];if(i){while(b=b[d])if((1===b.nodeType||g)&&a(b,c,i))return!0}else while(b=b[d])if(1===b.nodeType||g)if(l=b[u]||(b[u]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===w&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function ua(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function va(a,b,c){for(var d=0,e=b.length;d<e;d++)ga(a,b[d],c);return c}function wa(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function xa(a,b,c,d,e,f){return d&&!d[u]&&(d=xa(d)),e&&!e[u]&&(e=xa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||va(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:wa(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=wa(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=wa(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ya(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ta(function(a){return a===b},h,!0),l=ta(function(a){return I(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];i<f;i++)if(c=d.relative[a[i].type])m=[ta(ua(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;e<f;e++)if(d.relative[a[e].type])break;return xa(i>1&&ua(m),i>1&&sa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(P,"$1"),c,i<e&&ya(a.slice(i,e)),e<f&&ya(a=a.slice(e)),e<f&&sa(a))}m.push(c)}return ua(m)}function za(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=E.call(i));u=wa(u)}G.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&ga.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=ya(b[c]),f[u]?d.push(f):e.push(f);f=A(a,za(e,d)),f.selector=a}return f},i=ga.select=function(a,b,c,e){var f,i,j,k,l,m="function"==typeof a&&a,n=!e&&g(a=m.selector||a);if(c=c||[],1===n.length){if(i=n[0]=n[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&9===b.nodeType&&p&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(_,aa),b)||[])[0],!b)return c;m&&(b=b.parentNode),a=a.slice(i.shift().value.length)}f=V.needsContext.test(a)?0:i.length;while(f--){if(j=i[f],d.relative[k=j.type])break;if((l=d.find[k])&&(e=l(j.matches[0].replace(_,aa),$.test(i[0].type)&&qa(b.parentNode)||b))){if(i.splice(f,1),a=e.length&&sa(i),!a)return G.apply(c,e),c;break}}}return(m||h(a,n))(e,b,!p,c,!b||$.test(a)&&qa(b.parentNode)||b),c},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("fieldset"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(J,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);r.find=x,r.expr=x.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=x.uniqueSort,r.text=x.getText,r.isXMLDoc=x.isXML,r.contains=x.contains,r.escapeSelector=x.escape;var y=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&r(a).is(c))break;d.push(a)}return d},z=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},A=r.expr.match.needsContext,B=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,C=/^.[^:#\[\.,]*$/;function D(a,b,c){return r.isFunction(b)?r.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?r.grep(a,function(a){return a===b!==c}):"string"!=typeof b?r.grep(a,function(a){return i.call(b,a)>-1!==c}):C.test(b)?r.filter(b,a,c):(b=r.filter(b,a),r.grep(a,function(a){return i.call(b,a)>-1!==c&&1===a.nodeType}))}r.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?r.find.matchesSelector(d,a)?[d]:[]:r.find.matches(a,r.grep(b,function(a){return 1===a.nodeType}))},r.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(r(a).filter(function(){for(b=0;b<d;b++)if(r.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)r.find(a,e[b],c);return d>1?r.uniqueSort(c):c},filter:function(a){return this.pushStack(D(this,a||[],!1))},not:function(a){return this.pushStack(D(this,a||[],!0))},is:function(a){return!!D(this,"string"==typeof a&&A.test(a)?r(a):a||[],!1).length}});var E,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,G=r.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||E,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:F.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof r?b[0]:b,r.merge(this,r.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),B.test(e[1])&&r.isPlainObject(b))for(e in b)r.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):r.isFunction(a)?void 0!==c.ready?c.ready(a):a(r):r.makeArray(a,this)};G.prototype=r.fn,E=r(d);var H=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(a){var b=r(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(r.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&r(a);if(!A.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&r.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?r.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?i.call(r(a),this[0]):i.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function J(a,b){while((a=a[b])&&1!==a.nodeType);return a}r.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return y(a,"parentNode")},parentsUntil:function(a,b,c){return y(a,"parentNode",c)},next:function(a){return J(a,"nextSibling")},prev:function(a){return J(a,"previousSibling")},nextAll:function(a){return y(a,"nextSibling")},prevAll:function(a){return y(a,"previousSibling")},nextUntil:function(a,b,c){return y(a,"nextSibling",c)},prevUntil:function(a,b,c){return y(a,"previousSibling",c)},siblings:function(a){return z((a.parentNode||{}).firstChild,a)},children:function(a){return z(a.firstChild)},contents:function(a){return a.contentDocument||r.merge([],a.childNodes)}},function(a,b){r.fn[a]=function(c,d){var e=r.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=r.filter(d,e)),this.length>1&&(I[a]||r.uniqueSort(e),H.test(a)&&e.reverse()),this.pushStack(e)}});var K=/[^\x20\t\r\n\f]+/g;function L(a){var b={};return r.each(a.match(K)||[],function(a,c){b[c]=!0}),b}r.Callbacks=function(a){a="string"==typeof a?L(a):r.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){r.each(b,function(b,c){r.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==r.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return r.each(arguments,function(a,b){var c;while((c=r.inArray(b,f,c))>-1)f.splice(c,1),c<=h&&h--}),this},has:function(a){return a?r.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j};function M(a){return a}function N(a){throw a}function O(a,b,c){var d;try{a&&r.isFunction(d=a.promise)?d.call(a).done(b).fail(c):a&&r.isFunction(d=a.then)?d.call(a,b,c):b.call(void 0,a)}catch(a){c.call(void 0,a)}}r.extend({Deferred:function(b){var c=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return r.Deferred(function(b){r.each(c,function(c,d){var e=r.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&r.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){var f=0;function g(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(!(b<f)){if(a=d.apply(h,i),a===c.promise())throw new TypeError("Thenable self-resolution");j=a&&("object"==typeof a||"function"==typeof a)&&a.then,r.isFunction(j)?e?j.call(a,g(f,c,M,e),g(f,c,N,e)):(f++,j.call(a,g(f,c,M,e),g(f,c,N,e),g(f,c,M,c.notifyWith))):(d!==M&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},k=e?j:function(){try{j()}catch(a){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(a,k.stackTrace),b+1>=f&&(d!==N&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?k():(r.Deferred.getStackHook&&(k.stackTrace=r.Deferred.getStackHook()),a.setTimeout(k))}}return r.Deferred(function(a){c[0][3].add(g(0,a,r.isFunction(e)?e:M,a.notifyWith)),c[1][3].add(g(0,a,r.isFunction(b)?b:M)),c[2][3].add(g(0,a,r.isFunction(d)?d:N))}).promise()},promise:function(a){return null!=a?r.extend(a,e):e}},f={};return r.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=f.call(arguments),g=r.Deferred(),h=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?f.call(arguments):c,--b||g.resolveWith(d,e)}};if(b<=1&&(O(a,g.done(h(c)).resolve,g.reject),"pending"===g.state()||r.isFunction(e[c]&&e[c].then)))return g.then();while(c--)O(e[c],h(c),g.reject);return g.promise()}});var P=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&P.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},r.readyException=function(b){a.setTimeout(function(){throw b})};var Q=r.Deferred();r.fn.ready=function(a){return Q.then(a)["catch"](function(a){r.readyException(a)}),this},r.extend({isReady:!1,readyWait:1,holdReady:function(a){a?r.readyWait++:r.ready(!0)},ready:function(a){(a===!0?--r.readyWait:r.isReady)||(r.isReady=!0,a!==!0&&--r.readyWait>0||Q.resolveWith(d,[r]))}}),r.ready.then=Q.then;function R(){d.removeEventListener("DOMContentLoaded",R),
a.removeEventListener("load",R),r.ready()}"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(r.ready):(d.addEventListener("DOMContentLoaded",R),a.addEventListener("load",R));var S=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===r.type(c)){e=!0;for(h in c)S(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,r.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(r(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},T=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function U(){this.expando=r.expando+U.uid++}U.uid=1,U.prototype={cache:function(a){var b=a[this.expando];return b||(b={},T(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[r.camelCase(b)]=c;else for(d in b)e[r.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][r.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){r.isArray(b)?b=b.map(r.camelCase):(b=r.camelCase(b),b=b in d?[b]:b.match(K)||[]),c=b.length;while(c--)delete d[b[c]]}(void 0===b||r.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!r.isEmptyObject(b)}};var V=new U,W=new U,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Y=/[A-Z]/g;function Z(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:X.test(a)?JSON.parse(a):a)}function $(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Y,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=Z(c)}catch(e){}W.set(a,b,c)}else c=void 0;return c}r.extend({hasData:function(a){return W.hasData(a)||V.hasData(a)},data:function(a,b,c){return W.access(a,b,c)},removeData:function(a,b){W.remove(a,b)},_data:function(a,b,c){return V.access(a,b,c)},_removeData:function(a,b){V.remove(a,b)}}),r.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=W.get(f),1===f.nodeType&&!V.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=r.camelCase(d.slice(5)),$(f,d,e[d])));V.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){W.set(this,a)}):S(this,function(b){var c;if(f&&void 0===b){if(c=W.get(f,a),void 0!==c)return c;if(c=$(f,a),void 0!==c)return c}else this.each(function(){W.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){W.remove(this,a)})}}),r.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=V.get(a,b),c&&(!d||r.isArray(c)?d=V.access(a,b,r.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=r.queue(a,b),d=c.length,e=c.shift(),f=r._queueHooks(a,b),g=function(){r.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return V.get(a,c)||V.access(a,c,{empty:r.Callbacks("once memory").add(function(){V.remove(a,[b+"queue",c])})})}}),r.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?r.queue(this[0],a):void 0===b?this:this.each(function(){var c=r.queue(this,a,b);r._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=r.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=V.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var _=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,aa=new RegExp("^(?:([+-])=|)("+_+")([a-z%]*)$","i"),ba=["Top","Right","Bottom","Left"],ca=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&r.contains(a.ownerDocument,a)&&"none"===r.css(a,"display")},da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};function ea(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return r.css(a,b,"")},i=h(),j=c&&c[3]||(r.cssNumber[b]?"":"px"),k=(r.cssNumber[b]||"px"!==j&&+i)&&aa.exec(r.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,r.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var fa={};function ga(a){var b,c=a.ownerDocument,d=a.nodeName,e=fa[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=r.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),fa[d]=e,e)}function ha(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=V.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&ca(d)&&(e[f]=ga(d))):"none"!==c&&(e[f]="none",V.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}r.fn.extend({show:function(){return ha(this,!0)},hide:function(){return ha(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){ca(this)?r(this).show():r(this).hide()})}});var ia=/^(?:checkbox|radio)$/i,ja=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ka=/^$|\/(?:java|ecma)script/i,la={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};la.optgroup=la.option,la.tbody=la.tfoot=la.colgroup=la.caption=la.thead,la.th=la.td;function ma(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&r.nodeName(a,b)?r.merge([a],c):c}function na(a,b){for(var c=0,d=a.length;c<d;c++)V.set(a[c],"globalEval",!b||V.get(b[c],"globalEval"))}var oa=/<|&#?\w+;/;function pa(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if(f=a[n],f||0===f)if("object"===r.type(f))r.merge(m,f.nodeType?[f]:f);else if(oa.test(f)){g=g||l.appendChild(b.createElement("div")),h=(ja.exec(f)||["",""])[1].toLowerCase(),i=la[h]||la._default,g.innerHTML=i[1]+r.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;r.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",n=0;while(f=m[n++])if(d&&r.inArray(f,d)>-1)e&&e.push(f);else if(j=r.contains(f.ownerDocument,f),g=ma(l.appendChild(f),"script"),j&&na(g),c){k=0;while(f=g[k++])ka.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),o.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",o.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var qa=d.documentElement,ra=/^key/,sa=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ta=/^([^.]*)(?:\.(.+)|)/;function ua(){return!0}function va(){return!1}function wa(){try{return d.activeElement}catch(a){}}function xa(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)xa(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=va;else if(!e)return a;return 1===f&&(g=e,e=function(a){return r().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=r.guid++)),a.each(function(){r.event.add(this,b,e,d,c)})}r.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=V.get(a);if(q){c.handler&&(f=c,c=f.handler,e=f.selector),e&&r.find.matchesSelector(qa,e),c.guid||(c.guid=r.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof r&&r.event.triggered!==b.type?r.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(K)||[""],j=b.length;while(j--)h=ta.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=r.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=r.event.special[n]||{},k=r.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&r.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),r.event.global[n]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=V.hasData(a)&&V.get(a);if(q&&(i=q.events)){b=(b||"").match(K)||[""],j=b.length;while(j--)if(h=ta.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){l=r.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||r.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)r.event.remove(a,n+b[j],c,d,!0);r.isEmptyObject(i)&&V.remove(a,"handle events")}},dispatch:function(a){var b=r.event.fix(a),c,d,e,f,g,h,i=new Array(arguments.length),j=(V.get(this,"events")||{})[b.type]||[],k=r.event.special[b.type]||{};for(i[0]=b,c=1;c<arguments.length;c++)i[c]=arguments[c];if(b.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,b)!==!1){h=r.event.handlers.call(this,b,j),c=0;while((f=h[c++])&&!b.isPropagationStopped()){b.currentTarget=f.elem,d=0;while((g=f.handlers[d++])&&!b.isImmediatePropagationStopped())b.rnamespace&&!b.rnamespace.test(g.namespace)||(b.handleObj=g,b.data=g.data,e=((r.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(b.result=e)===!1&&(b.preventDefault(),b.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||j.disabled!==!0)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?r(e,this).index(j)>-1:r.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(r.Event.prototype,a,{enumerable:!0,configurable:!0,get:r.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[r.expando]?a:new r.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==wa()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===wa()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&r.nodeName(this,"input"))return this.click(),!1},_default:function(a){return r.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},r.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},r.Event=function(a,b){return this instanceof r.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ua:va,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&r.extend(this,b),this.timeStamp=a&&a.timeStamp||r.now(),void(this[r.expando]=!0)):new r.Event(a,b)},r.Event.prototype={constructor:r.Event,isDefaultPrevented:va,isPropagationStopped:va,isImmediatePropagationStopped:va,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ua,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ua,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ua,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&ra.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&sa.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},r.event.addProp),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||r.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),r.fn.extend({on:function(a,b,c,d){return xa(this,a,b,c,d)},one:function(a,b,c,d){return xa(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,r(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=va),this.each(function(){r.event.remove(this,a,c,b)})}});var ya=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,za=/<script|<style|<link/i,Aa=/checked\s*(?:[^=]|=\s*.checked.)/i,Ba=/^true\/(.*)/,Ca=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Da(a,b){return r.nodeName(a,"table")&&r.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function Ea(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Fa(a){var b=Ba.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ga(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(V.hasData(a)&&(f=V.access(a),g=V.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)r.event.add(b,e,j[e][c])}W.hasData(a)&&(h=W.access(a),i=r.extend({},h),W.set(b,i))}}function Ha(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ia.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function Ia(a,b,c,d){b=g.apply([],b);var e,f,h,i,j,k,l=0,m=a.length,n=m-1,q=b[0],s=r.isFunction(q);if(s||m>1&&"string"==typeof q&&!o.checkClone&&Aa.test(q))return a.each(function(e){var f=a.eq(e);s&&(b[0]=q.call(this,e,f.html())),Ia(f,b,c,d)});if(m&&(e=pa(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(h=r.map(ma(e,"script"),Ea),i=h.length;l<m;l++)j=e,l!==n&&(j=r.clone(j,!0,!0),i&&r.merge(h,ma(j,"script"))),c.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,r.map(h,Fa),l=0;l<i;l++)j=h[l],ka.test(j.type||"")&&!V.access(j,"globalEval")&&r.contains(k,j)&&(j.src?r._evalUrl&&r._evalUrl(j.src):p(j.textContent.replace(Ca,""),k))}return a}function Ja(a,b,c){for(var d,e=b?r.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||r.cleanData(ma(d)),d.parentNode&&(c&&r.contains(d.ownerDocument,d)&&na(ma(d,"script")),d.parentNode.removeChild(d));return a}r.extend({htmlPrefilter:function(a){return a.replace(ya,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=r.contains(a.ownerDocument,a);if(!(o.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||r.isXMLDoc(a)))for(g=ma(h),f=ma(a),d=0,e=f.length;d<e;d++)Ha(f[d],g[d]);if(b)if(c)for(f=f||ma(a),g=g||ma(h),d=0,e=f.length;d<e;d++)Ga(f[d],g[d]);else Ga(a,h);return g=ma(h,"script"),g.length>0&&na(g,!i&&ma(a,"script")),h},cleanData:function(a){for(var b,c,d,e=r.event.special,f=0;void 0!==(c=a[f]);f++)if(T(c)){if(b=c[V.expando]){if(b.events)for(d in b.events)e[d]?r.event.remove(c,d):r.removeEvent(c,d,b.handle);c[V.expando]=void 0}c[W.expando]&&(c[W.expando]=void 0)}}}),r.fn.extend({detach:function(a){return Ja(this,a,!0)},remove:function(a){return Ja(this,a)},text:function(a){return S(this,function(a){return void 0===a?r.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return Ia(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Da(this,a);b.appendChild(a)}})},prepend:function(){return Ia(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Da(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ia(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ia(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(r.cleanData(ma(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return r.clone(this,a,b)})},html:function(a){return S(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!za.test(a)&&!la[(ja.exec(a)||["",""])[1].toLowerCase()]){a=r.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(r.cleanData(ma(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ia(this,arguments,function(b){var c=this.parentNode;r.inArray(this,a)<0&&(r.cleanData(ma(this)),c&&c.replaceChild(b,this))},a)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(a){for(var c,d=[],e=r(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),r(e[g])[b](c),h.apply(d,c.get());return this.pushStack(d)}});var Ka=/^margin/,La=new RegExp("^("+_+")(?!px)[a-z%]+$","i"),Ma=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(i){i.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i.innerHTML="",qa.appendChild(h);var b=a.getComputedStyle(i);c="1%"!==b.top,g="2px"===b.marginLeft,e="4px"===b.width,i.style.marginRight="50%",f="4px"===b.marginRight,qa.removeChild(h),i=null}}var c,e,f,g,h=d.createElement("div"),i=d.createElement("div");i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===i.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(i),r.extend(o,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();function Na(a,b,c){var d,e,f,g,h=a.style;return c=c||Ma(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||r.contains(a.ownerDocument,a)||(g=r.style(a,b)),!o.pixelMarginRight()&&La.test(g)&&Ka.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Oa(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Pa=/^(none|table(?!-c[ea]).+)/,Qa={position:"absolute",visibility:"hidden",display:"block"},Ra={letterSpacing:"0",fontWeight:"400"},Sa=["Webkit","Moz","ms"],Ta=d.createElement("div").style;function Ua(a){if(a in Ta)return a;var b=a[0].toUpperCase()+a.slice(1),c=Sa.length;while(c--)if(a=Sa[c]+b,a in Ta)return a}function Va(a,b,c){var d=aa.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Wa(a,b,c,d,e){var f,g=0;for(f=c===(d?"border":"content")?4:"width"===b?1:0;f<4;f+=2)"margin"===c&&(g+=r.css(a,c+ba[f],!0,e)),d?("content"===c&&(g-=r.css(a,"padding"+ba[f],!0,e)),"margin"!==c&&(g-=r.css(a,"border"+ba[f]+"Width",!0,e))):(g+=r.css(a,"padding"+ba[f],!0,e),"padding"!==c&&(g+=r.css(a,"border"+ba[f]+"Width",!0,e)));return g}function Xa(a,b,c){var d,e=!0,f=Ma(a),g="border-box"===r.css(a,"boxSizing",!1,f);if(a.getClientRects().length&&(d=a.getBoundingClientRect()[b]),d<=0||null==d){if(d=Na(a,b,f),(d<0||null==d)&&(d=a.style[b]),La.test(d))return d;e=g&&(o.boxSizingReliable()||d===a.style[b]),d=parseFloat(d)||0}return d+Wa(a,b,c||(g?"border":"content"),e,f)+"px"}r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Na(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=r.camelCase(b),i=a.style;return b=r.cssProps[h]||(r.cssProps[h]=Ua(h)||h),g=r.cssHooks[b]||r.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=aa.exec(c))&&e[1]&&(c=ea(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(r.cssNumber[h]?"":"px")),o.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=r.camelCase(b);return b=r.cssProps[h]||(r.cssProps[h]=Ua(h)||h),g=r.cssHooks[b]||r.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Na(a,b,d)),"normal"===e&&b in Ra&&(e=Ra[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,d){if(c)return!Pa.test(r.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?Xa(a,b,d):da(a,Qa,function(){return Xa(a,b,d)})},set:function(a,c,d){var e,f=d&&Ma(a),g=d&&Wa(a,b,d,"border-box"===r.css(a,"boxSizing",!1,f),f);return g&&(e=aa.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=r.css(a,b)),Va(a,c,g)}}}),r.cssHooks.marginLeft=Oa(o.reliableMarginLeft,function(a,b){if(b)return(parseFloat(Na(a,"marginLeft"))||a.getBoundingClientRect().left-da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+ba[d]+b]=f[d]||f[d-2]||f[0];return e}},Ka.test(a)||(r.cssHooks[a+b].set=Va)}),r.fn.extend({css:function(a,b){return S(this,function(a,b,c){var d,e,f={},g=0;if(r.isArray(b)){for(d=Ma(a),e=b.length;g<e;g++)f[b[g]]=r.css(a,b[g],!1,d);return f}return void 0!==c?r.style(a,b,c):r.css(a,b)},a,b,arguments.length>1)}});function Ya(a,b,c,d,e){return new Ya.prototype.init(a,b,c,d,e)}r.Tween=Ya,Ya.prototype={constructor:Ya,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||r.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(r.cssNumber[c]?"":"px")},cur:function(){var a=Ya.propHooks[this.prop];return a&&a.get?a.get(this):Ya.propHooks._default.get(this)},run:function(a){var b,c=Ya.propHooks[this.prop];return this.options.duration?this.pos=b=r.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ya.propHooks._default.set(this),this}},Ya.prototype.init.prototype=Ya.prototype,Ya.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=r.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){r.fx.step[a.prop]?r.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[r.cssProps[a.prop]]&&!r.cssHooks[a.prop]?a.elem[a.prop]=a.now:r.style(a.elem,a.prop,a.now+a.unit)}}},Ya.propHooks.scrollTop=Ya.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},r.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},r.fx=Ya.prototype.init,r.fx.step={};var Za,$a,_a=/^(?:toggle|show|hide)$/,ab=/queueHooks$/;function bb(){$a&&(a.requestAnimationFrame(bb),r.fx.tick())}function cb(){return a.setTimeout(function(){Za=void 0}),Za=r.now()}function db(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=ba[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function eb(a,b,c){for(var d,e=(hb.tweeners[b]||[]).concat(hb.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function fb(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&ca(a),q=V.get(a,"fxshow");c.queue||(g=r._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,r.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],_a.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||r.style(a,d)}if(i=!r.isEmptyObject(b),i||!r.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=V.get(a,"display")),k=r.css(a,"display"),"none"===k&&(j?k=j:(ha([a],!0),j=a.style.display||j,k=r.css(a,"display"),ha([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===r.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=V.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&ha([a],!0),m.done(function(){p||ha([a]),V.remove(a,"fxshow");for(d in n)r.style(a,d,n[d])})),i=eb(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function gb(a,b){var c,d,e,f,g;for(c in a)if(d=r.camelCase(c),e=b[d],f=a[c],r.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=r.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function hb(a,b,c){var d,e,f=0,g=hb.prefilters.length,h=r.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Za||cb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},c),originalProperties:b,originalOptions:c,startTime:Za||cb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=r.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(gb(k,j.opts.specialEasing);f<g;f++)if(d=hb.prefilters[f].call(j,a,k,j.opts))return r.isFunction(d.stop)&&(r._queueHooks(j.elem,j.opts.queue).stop=r.proxy(d.stop,d)),d;return r.map(k,eb,j),r.isFunction(j.opts.start)&&j.opts.start.call(a,j),r.fx.timer(r.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}r.Animation=r.extend(hb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return ea(c.elem,a,aa.exec(b),c),c}]},tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.match(K);for(var c,d=0,e=a.length;d<e;d++)c=a[d],hb.tweeners[c]=hb.tweeners[c]||[],hb.tweeners[c].unshift(b)},prefilters:[fb],prefilter:function(a,b){b?hb.prefilters.unshift(a):hb.prefilters.push(a)}}),r.speed=function(a,b,c){var e=a&&"object"==typeof a?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};return r.fx.off||d.hidden?e.duration=0:"number"!=typeof e.duration&&(e.duration in r.fx.speeds?e.duration=r.fx.speeds[e.duration]:e.duration=r.fx.speeds._default),null!=e.queue&&e.queue!==!0||(e.queue="fx"),e.old=e.complete,e.complete=function(){r.isFunction(e.old)&&e.old.call(this),e.queue&&r.dequeue(this,e.queue)},e},r.fn.extend({fadeTo:function(a,b,c,d){return this.filter(ca).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=r.isEmptyObject(a),f=r.speed(b,c,d),g=function(){var b=hb(this,r.extend({},a),f);(e||V.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=r.timers,g=V.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ab.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||r.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=V.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=r.timers,g=d?d.length:0;for(c.finish=!0,r.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(db(b,!0),a,d,e)}}),r.each({slideDown:db("show"),slideUp:db("hide"),slideToggle:db("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),r.timers=[],r.fx.tick=function(){var a,b=0,c=r.timers;for(Za=r.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||r.fx.stop(),Za=void 0},r.fx.timer=function(a){r.timers.push(a),a()?r.fx.start():r.timers.pop()},r.fx.interval=13,r.fx.start=function(){$a||($a=a.requestAnimationFrame?a.requestAnimationFrame(bb):a.setInterval(r.fx.tick,r.fx.interval))},r.fx.stop=function(){a.cancelAnimationFrame?a.cancelAnimationFrame($a):a.clearInterval($a),$a=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(b,c){return b=r.fx?r.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",o.checkOn=""!==a.value,o.optSelected=c.selected,a=d.createElement("input"),a.value="t",a.type="radio",o.radioValue="t"===a.value}();var ib,jb=r.expr.attrHandle;r.fn.extend({attr:function(a,b){return S(this,r.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})}}),r.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?r.prop(a,b,c):(1===f&&r.isXMLDoc(a)||(e=r.attrHooks[b.toLowerCase()]||(r.expr.match.bool.test(b)?ib:void 0)),
void 0!==c?null===c?void r.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=r.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!o.radioValue&&"radio"===b&&r.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(K);if(e&&1===a.nodeType)while(c=e[d++])a.removeAttribute(c)}}),ib={set:function(a,b,c){return b===!1?r.removeAttr(a,c):a.setAttribute(c,c),c}},r.each(r.expr.match.bool.source.match(/\w+/g),function(a,b){var c=jb[b]||r.find.attr;jb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=jb[g],jb[g]=e,e=null!=c(a,b,d)?g:null,jb[g]=f),e}});var kb=/^(?:input|select|textarea|button)$/i,lb=/^(?:a|area)$/i;r.fn.extend({prop:function(a,b){return S(this,r.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[r.propFix[a]||a]})}}),r.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&r.isXMLDoc(a)||(b=r.propFix[b]||b,e=r.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=r.find.attr(a,"tabindex");return b?parseInt(b,10):kb.test(a.nodeName)||lb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),o.optSelected||(r.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this});function mb(a){var b=a.match(K)||[];return b.join(" ")}function nb(a){return a.getAttribute&&a.getAttribute("class")||""}r.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,nb(this)))});if("string"==typeof a&&a){b=a.match(K)||[];while(c=this[i++])if(e=nb(c),d=1===c.nodeType&&" "+mb(e)+" "){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=mb(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,b,nb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(K)||[];while(c=this[i++])if(e=nb(c),d=1===c.nodeType&&" "+mb(e)+" "){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=mb(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):r.isFunction(a)?this.each(function(c){r(this).toggleClass(a.call(this,c,nb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=r(this),f=a.match(K)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=nb(this),b&&V.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":V.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+mb(nb(c))+" ").indexOf(b)>-1)return!0;return!1}});var ob=/\r/g;r.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=r.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,r(this).val()):a,null==e?e="":"number"==typeof e?e+="":r.isArray(e)&&(e=r.map(e,function(a){return null==a?"":a+""})),b=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=r.valHooks[e.type]||r.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ob,""):null==c?"":c)}}}),r.extend({valHooks:{option:{get:function(a){var b=r.find.attr(a,"value");return null!=b?b:mb(r.text(a))}},select:{get:function(a){var b,c,d,e=a.options,f=a.selectedIndex,g="select-one"===a.type,h=g?null:[],i=g?f+1:e.length;for(d=f<0?i:g?f:0;d<i;d++)if(c=e[d],(c.selected||d===f)&&!c.disabled&&(!c.parentNode.disabled||!r.nodeName(c.parentNode,"optgroup"))){if(b=r(c).val(),g)return b;h.push(b)}return h},set:function(a,b){var c,d,e=a.options,f=r.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=r.inArray(r.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(a,b){if(r.isArray(b))return a.checked=r.inArray(r(a).val(),b)>-1}},o.checkOn||(r.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var pb=/^(?:focusinfocus|focusoutblur)$/;r.extend(r.event,{trigger:function(b,c,e,f){var g,h,i,j,k,m,n,o=[e||d],p=l.call(b,"type")?b.type:b,q=l.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!pb.test(p+r.event.triggered)&&(p.indexOf(".")>-1&&(q=p.split("."),p=q.shift(),q.sort()),k=p.indexOf(":")<0&&"on"+p,b=b[r.expando]?b:new r.Event(p,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:r.makeArray(c,[b]),n=r.event.special[p]||{},f||!n.trigger||n.trigger.apply(e,c)!==!1)){if(!f&&!n.noBubble&&!r.isWindow(e)){for(j=n.delegateType||p,pb.test(j+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),i=h;i===(e.ownerDocument||d)&&o.push(i.defaultView||i.parentWindow||a)}g=0;while((h=o[g++])&&!b.isPropagationStopped())b.type=g>1?j:n.bindType||p,m=(V.get(h,"events")||{})[b.type]&&V.get(h,"handle"),m&&m.apply(h,c),m=k&&h[k],m&&m.apply&&T(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=p,f||b.isDefaultPrevented()||n._default&&n._default.apply(o.pop(),c)!==!1||!T(e)||k&&r.isFunction(e[p])&&!r.isWindow(e)&&(i=e[k],i&&(e[k]=null),r.event.triggered=p,e[p](),r.event.triggered=void 0,i&&(e[k]=i)),b.result}},simulate:function(a,b,c){var d=r.extend(new r.Event,c,{type:a,isSimulated:!0});r.event.trigger(d,null,b)}}),r.fn.extend({trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return r.event.trigger(a,b,c,!0)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){r.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),r.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),o.focusin="onfocusin"in a,o.focusin||r.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){r.event.simulate(b,a.target,r.event.fix(a))};r.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=V.access(d,b);e||d.addEventListener(a,c,!0),V.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=V.access(d,b)-1;e?V.access(d,b,e):(d.removeEventListener(a,c,!0),V.remove(d,b))}}});var qb=a.location,rb=r.now(),sb=/\?/;r.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+b),c};var tb=/\[\]$/,ub=/\r?\n/g,vb=/^(?:submit|button|image|reset|file)$/i,wb=/^(?:input|select|textarea|keygen)/i;function xb(a,b,c,d){var e;if(r.isArray(b))r.each(b,function(b,e){c||tb.test(a)?d(a,e):xb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==r.type(b))d(a,b);else for(e in b)xb(a+"["+e+"]",b[e],c,d)}r.param=function(a,b){var c,d=[],e=function(a,b){var c=r.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(r.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){e(this.name,this.value)});else for(c in a)xb(c,a[c],b,e);return d.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=r.prop(this,"elements");return a?r.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!r(this).is(":disabled")&&wb.test(this.nodeName)&&!vb.test(a)&&(this.checked||!ia.test(a))}).map(function(a,b){var c=r(this).val();return null==c?null:r.isArray(c)?r.map(c,function(a){return{name:b.name,value:a.replace(ub,"\r\n")}}):{name:b.name,value:c.replace(ub,"\r\n")}}).get()}});var yb=/%20/g,zb=/#.*$/,Ab=/([?&])_=[^&]*/,Bb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Cb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Db=/^(?:GET|HEAD)$/,Eb=/^\/\//,Fb={},Gb={},Hb="*/".concat("*"),Ib=d.createElement("a");Ib.href=qb.href;function Jb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(K)||[];if(r.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Kb(a,b,c,d){var e={},f=a===Gb;function g(h){var i;return e[h]=!0,r.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Lb(a,b){var c,d,e=r.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&r.extend(!0,a,d),a}function Mb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function Nb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qb.href,type:"GET",isLocal:Cb.test(qb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Lb(Lb(a,r.ajaxSettings),b):Lb(r.ajaxSettings,a)},ajaxPrefilter:Jb(Fb),ajaxTransport:Jb(Gb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=r.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?r(p):r.event,s=r.Deferred(),t=r.Callbacks("once memory"),u=o.statusCode||{},v={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h){h={};while(b=Bb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=w[a.toLowerCase()]=w[a.toLowerCase()]||a,v[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)y.always(a[y.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){var b=a||x;return e&&e.abort(b),A(0,b),this}};if(s.promise(y),o.url=((b||o.url||qb.href)+"").replace(Eb,qb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(K)||[""],null==o.crossDomain){j=d.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Ib.protocol+"//"+Ib.host!=j.protocol+"//"+j.host}catch(z){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=r.param(o.data,o.traditional)),Kb(Fb,o,c,y),k)return y;l=r.event&&o.global,l&&0===r.active++&&r.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Db.test(o.type),f=o.url.replace(zb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(yb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(sb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Ab,"$1"),n=(sb.test(f)?"&":"?")+"_="+rb++ +n),o.url=f+n),o.ifModified&&(r.lastModified[f]&&y.setRequestHeader("If-Modified-Since",r.lastModified[f]),r.etag[f]&&y.setRequestHeader("If-None-Match",r.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",o.contentType),y.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Hb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)y.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,y,o)===!1||k))return y.abort();if(x="abort",t.add(o.complete),y.done(o.success),y.fail(o.error),e=Kb(Gb,o,c,y)){if(y.readyState=1,l&&q.trigger("ajaxSend",[y,o]),k)return y;o.async&&o.timeout>0&&(i=a.setTimeout(function(){y.abort("timeout")},o.timeout));try{k=!1,e.send(v,A)}catch(z){if(k)throw z;A(-1,z)}}else A(-1,"No Transport");function A(b,c,d,h){var j,m,n,v,w,x=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",y.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(v=Mb(o,y,d)),v=Nb(o,v,y,j),j?(o.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(r.lastModified[f]=w),w=y.getResponseHeader("etag"),w&&(r.etag[f]=w)),204===b||"HEAD"===o.type?x="nocontent":304===b?x="notmodified":(x=v.state,m=v.data,n=v.error,j=!n)):(n=x,!b&&x||(x="error",b<0&&(b=0))),y.status=b,y.statusText=(c||x)+"",j?s.resolveWith(p,[m,x,y]):s.rejectWith(p,[y,x,n]),y.statusCode(u),u=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[y,o,j?m:n]),t.fireWith(p,[y,x]),l&&(q.trigger("ajaxComplete",[y,o]),--r.active||r.event.trigger("ajaxStop")))}return y},getJSON:function(a,b,c){return r.get(a,b,c,"json")},getScript:function(a,b){return r.get(a,void 0,b,"script")}}),r.each(["get","post"],function(a,b){r[b]=function(a,c,d,e){return r.isFunction(c)&&(e=e||d,d=c,c=void 0),r.ajax(r.extend({url:a,type:b,dataType:e,data:c,success:d},r.isPlainObject(a)&&a))}}),r._evalUrl=function(a){return r.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},r.fn.extend({wrapAll:function(a){var b;return this[0]&&(r.isFunction(a)&&(a=a.call(this[0])),b=r(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return r.isFunction(a)?this.each(function(b){r(this).wrapInner(a.call(this,b))}):this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(a){return!r.expr.pseudos.visible(a)},r.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Ob={0:200,1223:204},Pb=r.ajaxSettings.xhr();o.cors=!!Pb&&"withCredentials"in Pb,o.ajax=Pb=!!Pb,r.ajaxTransport(function(b){var c,d;if(o.cors||Pb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Ob[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}}),r.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return r.globalEval(a),a}}}),r.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),r.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=r("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Qb=[],Rb=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Qb.pop()||r.expando+"_"+rb++;return this[a]=!0,a}}),r.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Rb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=r.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Rb,"$1"+e):b.jsonp!==!1&&(b.url+=(sb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||r.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?r(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Qb.push(e)),g&&r.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),o.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),r.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var e,f,g;return b||(o.createHTMLDocument?(b=d.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=d.location.href,b.head.appendChild(e)):b=d),f=B.exec(a),g=!c&&[],f?[b.createElement(f[1])]:(f=pa([a],b,g),g&&g.length&&r(g).remove(),r.merge([],f.childNodes))},r.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=mb(a.slice(h)),a=a.slice(0,h)),r.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&r.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?r("<div>").append(r.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){r.fn[b]=function(a){return this.on(b,a)}}),r.expr.pseudos.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length};function Sb(a){return r.isWindow(a)?a:9===a.nodeType&&a.defaultView}r.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=r.css(a,"position"),l=r(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=r.css(a,"top"),i=r.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),r.isFunction(b)&&(b=b.call(a,c,r.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},r.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){r.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),d.width||d.height?(e=f.ownerDocument,c=Sb(e),b=e.documentElement,{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}):d):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===r.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),r.nodeName(a[0],"html")||(d=a.offset()),d={top:d.top+r.css(a[0],"borderTopWidth",!0),left:d.left+r.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-r.css(c,"marginTop",!0),left:b.left-d.left-r.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===r.css(a,"position"))a=a.offsetParent;return a||qa})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;r.fn[a]=function(d){return S(this,function(a,d,e){var f=Sb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),r.each(["top","left"],function(a,b){r.cssHooks[b]=Oa(o.pixelPosition,function(a,c){if(c)return c=Na(a,b),La.test(c)?r(a).position()[b]+"px":c})}),r.each({Height:"height",Width:"width"},function(a,b){r.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){r.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return S(this,function(b,c,e){var f;return r.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?r.css(b,c,h):r.style(b,c,e,h)},b,g?e:void 0,g)}})}),r.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),r.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return r});var Tb=a.jQuery,Ub=a.$;return r.noConflict=function(b){return a.$===r&&(a.$=Ub),b&&a.jQuery===r&&(a.jQuery=Tb),r},b||(a.jQuery=a.$=r),r});




/*! jQuery UI - v1.12.1 - 2016-09-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var h=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},h=e.split(".")[0];e=e.split(".")[1];var l=h+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},n=t[h][e],o=t[h][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:h,widgetName:e,widgetFullName:l}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=l.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=l.call(arguments,1),r=this;return o?this.length||"instance"!==n?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+n+"'")}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.on(l,c,r):i.on(l,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,h=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=l.exec(i[0]),e=l.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,h=t(this),l=h.outerWidth(),c=h.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=l+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),I=e(k.my,h.outerWidth(),h.outerHeight());"right"===n.my[0]?D.left-=l:"center"===n.my[0]&&(D.left-=l/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=I[0],D.top+=I[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:l,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+I[0],u[1]+I[1]],my:n.my,at:n.at,within:b,elem:h})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-l,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:h,left:D.left,top:D.top,width:l,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};l>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),h.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-r-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-r-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-h,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var c="ui-effects-",u="ui-effects-style",d="ui-effects-animated",p=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(t,o){var a,r=o.re.exec(i),h=r&&o.parse(r),l=o.space||"rgba";return h?(a=s[l](h),s[c[l].cache]=a[c[l].cache],n=s._rgba=a._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),s):o[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):e},is:function(t){var i=l(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=c[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],c=u[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=l(c(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=n.exec(t)||["",0,i,s,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?s:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(d)||e(i)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var i=0,s=e.length;s>i;i++)null!==e[i]&&t.data(c+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;n>s;s++)null!==e[s]&&(i=t.data(c+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(u,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(u)||"",t.removeData(u)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(e){var i,s=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(c+"placeholder",i)),e.css({position:s,left:n.left,top:n.top}),i},removePlaceholder:function(t){var e=c+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){r.removeData(d),t.effects.cleanUp(r),"hide"===s.mode&&r.hide(),a()}function a(){t.isFunction(h)&&h.call(r[0]),t.isFunction(e)&&e()}var r=t(this);s.mode=c.shift(),t.uiBackCompat===!1||o?"none"===s.mode?(r[l](),a()):n.call(r[0],s,i):(r.is(":hidden")?"hide"===l:"show"===l)?(r[l](),a()):n.call(r[0],s,a)}var s=e.apply(this,arguments),n=t.effects.effect[s.effect],o=n.mode,a=s.queue,r=a||"fx",h=s.complete,l=s.mode,c=[],u=function(e){var i=t(this),s=t.effects.mode(i,l)||o;i.data(d,!0),c.push(s),o&&("show"===s||s===o&&"hide"===s)&&i.show(),o&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!n?l?this[l](s.duration,h):this.each(function(){h&&h.call(this)}):a===!1?this.each(u).each(i):this.queue(r,u).queue(r,i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)
}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();var f=t.effects;t.effects.define("blind","hide",function(e,i){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=t(this),o=e.direction||"up",a=n.cssClip(),r={clip:t.extend({},a)},h=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],"show"===e.mode&&(n.cssClip(r.clip),h&&h.css(t.effects.clipToBox(r)),r.clip=a),h&&h.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var s,n,o,a=t(this),r=e.mode,h="hide"===r,l="show"===r,c=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(l||h?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a["top"===m?"outerHeight":"outerWidth"]()/3),l&&(n={opacity:1},n[m]=o,a.css("opacity",0).css(m,_?2*-u:2*u).animate(n,f,g)),h&&(u/=Math.pow(2,d-1)),n={},n[m]=o;d>v;v++)s={},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g).animate(n,f,g),u=h?2*u:u/2;h&&(s={opacity:0},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1)}),t.effects.define("clip","hide",function(e,i){var s,n={},o=t(this),a=e.direction||"vertical",r="both"===a,h=r||"horizontal"===a,l=r||"vertical"===a;s=o.cssClip(),n.clip={top:l?(s.bottom-s.top)/2:s.top,right:h?(s.right-s.left)/2:s.right,bottom:l?(s.bottom-s.top)/2:s.bottom,left:h?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var s,n=t(this),o=e.mode,a="show"===o,r=e.direction||"left",h="up"===r||"down"===r?"top":"left",l="up"===r||"left"===r?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,u[h]=l+s,a&&(n.css(u),u[h]=c+s,u.opacity=1),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),i()}var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),_=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(h=m.top+o*v,c=o-(u-1)/2,a=0;d>a;a++)r=m.left+a*_,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?l*_:0),top:h+(g?c*v:0),opacity:g?0:1}).animate({left:r+(g?0:l*_),top:h+(g?0:c*v),opacity:g?1:0},e.duration||500,e.easing,s)}),t.effects.define("fade","toggle",function(e,i){var s="show"===e.mode;t(this).css("opacity",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=e.size||15,h=/([0-9]+)%/.exec(r),l=!!e.horizFirst,c=l?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(s),p=s.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],_=s.queue().length;h&&(r=parseInt(h[1],10)/100*m[a?0:1]),f.clip[c[0]]=r,g.clip[c[0]]=r,g.clip[c[1]]=0,o&&(s.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),s.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i()}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(s,_,4)}),t.effects.define("highlight","show",function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var s,n,o,a=t(this),r=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,u="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},("box"===d||"both"===d)&&(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,h,n.from.y,_),v=t.effects.setTransition(a,h,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,l,n.from.x,_),v=t.effects.setTransition(a,l,n.to.x,v))),("content"===d||"both"===d)&&n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),("content"===d||"both"===d)&&(h=h.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,h,n.from.y,o),a=t.effects.setTransition(i,h,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,l,n.from.x,o),a=t.effects.setTransition(i,l,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i)})})),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===v.opacity&&a.css("opacity",_.opacity),u||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})}),t.effects.define("scale",function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)}),t.effects.define("puff","hide",function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i)}),t.effects.define("pulsate","show",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=o||a,h=2*(e.times||5)+(r?1:0),l=e.duration/h,c=0,u=1,d=s.queue().length;for((o||!s.is(":visible"))&&(s.css("opacity",0).show(),c=1);h>u;u++)s.animate({opacity:c},l,e.easing),c=1-c;s.animate({opacity:c},l,e.easing),s.queue(i),t.effects.unshift(s,d,h+1)}),t.effects.define("shake",function(e,i){var s=1,n=t(this),o=e.direction||"left",a=e.distance||20,r=e.times||3,h=2*r+1,l=Math.round(e.duration/h),c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?"-=":"+=")+a,p[c]=(u?"+=":"-=")+2*a,f[c]=(u?"-=":"+=")+2*a,n.animate(d,l,e.easing);r>s;s++)n.animate(p,l,e.easing).animate(f,l,e.easing);n.animate(p,l,e.easing).animate(d,l/2,e.easing).queue(i),t.effects.unshift(n,g,h+1)}),t.effects.define("slide","show",function(e,i){var s,n,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},r=e.mode,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[l],d[l]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[h][1]]=d.clip[a[h][0]],"show"===r&&(o.cssClip(d.clip),o.css(l,d[l]),d.clip=s,d[l]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var f;t.uiBackCompat!==!1&&(f=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)})),t.ui.focusable=function(i,s){var n,o,a,r,h,l=i.nodeName.toLowerCase();return"area"===l?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(l)?(r=!i.disabled,r&&(h=t(i).closest("fieldset")[0],h&&(r=!h.disabled))):r="a"===l?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),s=this.attr("id"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void 0)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],h=r&&n.collapsible,l=h?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:h?t():a,newPanel:l};e.preventDefault(),r&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=h?!1:this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=l&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,h=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=h.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=h.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;
this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var g=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var h=n[s]("widget");t.data(h[0],"ui-controlgroup-data",o?o:n[s]("instance")),i.push(h[0])}})),void 0):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),s=i.data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(g,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")}),s},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?(this._callChildMethod(e?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?(this._super("showLabel",e),void 0):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var m;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.on("focus",this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var r,h,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),m===n&&(m=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,r,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),a(l.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,h,l,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(s,"beforeShow"),o=n?n.apply(e,[e,s]):{},o!==!1&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(s),h=t.datepicker._checkOffset(s,h,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),s.inline||(l=t.datepicker._get(s,"showAnim"),c=t.datepicker._get(s,"duration"),s.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?s.dpDiv.show(l,t.datepicker._get(s,"showOptions"),c):s.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),t.datepicker._curInst=s))
}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=RegExp("^\\d{"+n+","+s+"}"),a=i.substring(h).match(o);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+h},x=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;e.length>n;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":_=w("d");break;case"D":k("D",u,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(i.length>h&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),v>-1)for(m=1,_=v;;){if(o=this._getDaysInMonth(g,m-1),o>=_)break;m++,_-=o}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=h("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}l=h.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,I,T,P,M,S,H,z,O,A,N,W,E,F,L,R=new Date,B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),$=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-$,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+$,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:B,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;U[0]>k;k++){for(x="",this.maxRows=4,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),I=" ui-corner-all",T="",X){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?Y?o:s:"")+(/all|right/.test(I)&&0===k?Y?s:o:"")+this._generateMonthYearHeader(t,Z,te,Q,J,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",P=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+c)%7,P+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[M]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),H=(this._getFirstDayOfMonth(te,Z)-c+7)%7,z=Math.ceil((H+S)/7),O=X?this.maxRows>z?this.maxRows:z:z,this.maxRows=O,A=this._daylightSavingAdjust(new Date(te,Z,1-H)),N=0;O>N;N++){for(T+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(A)+"</td>":"",w=0;7>w;w++)E=m?m.apply(t.input?t.input[0]:null,[A]):[!0,""],F=A.getMonth()!==Z,L=F&&!v||!E[0]||Q&&Q>A||J&&A>J,W+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(A.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+E[1]+(A.getTime()===G.getTime()?" "+this._currentClass:"")+(A.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===B.getTime()?" ui-state-highlight":"")+(A.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);T+=W+"</tr>"}Z++,Z>11&&(Z=0,te++),T+="</tbody></table>"+(X?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=T}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var _=!1;t(document).on("mouseup",function(){_=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!_){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),_=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,_=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}
},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,h,l,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,h-g>_||m>l+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(h-_),r=g>=Math.abs(l-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(h-m),r=g>=Math.abs(l-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),h?(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,h=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&c&&(t.top=h-e.minHeight),n&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,c=h.element,u=l.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(h.containerElement=t(d),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,c=h[1]||1,u=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=h,_&&(p+=l),v&&(f+=c),g&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-u):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog
},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){s.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",function(){n.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(s=o.is(":data(ui-draggable)"),s&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&v(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var v=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=l&&u>=r&&a>=c&&d>=h;case"intersect":return o+e.helperProportions.width/2>l&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>h-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(a>=c&&d>=a||h>=c&&d>=h||c>a&&h>d)&&(o>=l&&u>=o||r>=l&&u>=r||l>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&v(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=v(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?l=!(c.left>r||o>c.right||c.top>h||a>c.bottom):"fit"===n.tolerance&&(l=c.left>o&&r>c.right&&c.top>a&&h>c.bottom),l?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?(this.button.css("width",""),void 0):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1
},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&(s=this._trigger("slide",t,this._uiHash(e,i,a)),s!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.round((t-e)/i)*i;t=s+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,h,l,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[u]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(e[u]-h)&&(n=Math.abs(e[u]-h),o=this.items[s],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;
this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,this.element.val(this._format(i)),void 0):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e),void 0)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:r(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:r(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:r(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(r(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),e===!0||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){l.of=t,a.is(":hidden")||a.position(l)}var o,a,r,h,l=t.extend({},this.options.position);if(s){if(o=this._find(i))return o.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),h=t("<div>").html(a.find(".ui-tooltip-content").html()),h.removeAttr("name").find("[name]").removeAttr("name"),h.removeAttr("id").find("[id]").removeAttr("id"),h.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip});



/*! jQuery UI - v1.11.2 - 2014-10-16
* http://jqueryui.com
* Includes: datepicker-af.js, datepicker-ar-DZ.js, datepicker-ar.js, datepicker-az.js, datepicker-be.js, datepicker-bg.js, datepicker-bs.js, datepicker-ca.js, datepicker-cs.js, datepicker-cy-GB.js, datepicker-da.js, datepicker-de.js, datepicker-el.js, datepicker-en-AU.js, datepicker-en-GB.js, datepicker-en-NZ.js, datepicker-eo.js, datepicker-es.js, datepicker-et.js, datepicker-eu.js, datepicker-fa.js, datepicker-fi.js, datepicker-fo.js, datepicker-fr-CA.js, datepicker-fr-CH.js, datepicker-fr.js, datepicker-gl.js, datepicker-he.js, datepicker-hi.js, datepicker-hr.js, datepicker-hu.js, datepicker-hy.js, datepicker-id.js, datepicker-is.js, datepicker-it-CH.js, datepicker-it.js, datepicker-ja.js, datepicker-ka.js, datepicker-kk.js, datepicker-km.js, datepicker-ko.js, datepicker-ky.js, datepicker-lb.js, datepicker-lt.js, datepicker-lv.js, datepicker-mk.js, datepicker-ml.js, datepicker-ms.js, datepicker-nb.js, datepicker-nl-BE.js, datepicker-nl.js, datepicker-nn.js, datepicker-no.js, datepicker-pl.js, datepicker-pt-BR.js, datepicker-pt.js, datepicker-rm.js, datepicker-ro.js, datepicker-ru.js, datepicker-sk.js, datepicker-sl.js, datepicker-sq.js, datepicker-sr-SR.js, datepicker-sr.js, datepicker-sv.js, datepicker-ta.js, datepicker-th.js, datepicker-tj.js, datepicker-tr.js, datepicker-uk.js, datepicker-vi.js, datepicker-zh-CN.js, datepicker-zh-HK.js, datepicker-zh-TW.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){var t=e.datepicker;t.regional.af={closeText:"Selekteer",prevText:"Vorige",nextText:"Volgende",currentText:"Vandag",monthNames:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"],monthNamesShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],dayNames:["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],dayNamesShort:["Son","Maa","Din","Woe","Don","Vry","Sat"],dayNamesMin:["So","Ma","Di","Wo","Do","Vr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.af),t.regional.af,t.regional["ar-DZ"]={closeText:"إغلاق",prevText:"&#x3C;السابق",nextText:"التالي&#x3E;",currentText:"اليوم",monthNames:["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesMin:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],weekHeader:"أسبوع",dateFormat:"dd/mm/yy",firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["ar-DZ"]),t.regional["ar-DZ"],t.regional.ar={closeText:"إغلاق",prevText:"&#x3C;السابق",nextText:"التالي&#x3E;",currentText:"اليوم",monthNames:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesMin:["ح","ن","ث","ر","خ","ج","س"],weekHeader:"أسبوع",dateFormat:"dd/mm/yy",firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ar),t.regional.ar,t.regional.az={closeText:"Bağla",prevText:"&#x3C;Geri",nextText:"İrəli&#x3E;",currentText:"Bugün",monthNames:["Yanvar","Fevral","Mart","Aprel","May","İyun","İyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],monthNamesShort:["Yan","Fev","Mar","Apr","May","İyun","İyul","Avq","Sen","Okt","Noy","Dek"],dayNames:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"],dayNamesShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayNamesMin:["B","B","Ç","С","Ç","C","Ş"],weekHeader:"Hf",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.az),t.regional.az,t.regional.be={closeText:"Зачыніць",prevText:"&larr;Папяр.",nextText:"Наст.&rarr;",currentText:"Сёньня",monthNames:["Студзень","Люты","Сакавік","Красавік","Травень","Чэрвень","Ліпень","Жнівень","Верасень","Кастрычнік","Лістапад","Сьнежань"],monthNamesShort:["Сту","Лют","Сак","Кра","Тра","Чэр","Ліп","Жні","Вер","Кас","Ліс","Сьн"],dayNames:["нядзеля","панядзелак","аўторак","серада","чацьвер","пятніца","субота"],dayNamesShort:["ндз","пнд","аўт","срд","чцв","птн","сбт"],dayNamesMin:["Нд","Пн","Аў","Ср","Чц","Пт","Сб"],weekHeader:"Тд",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.be),t.regional.be,t.regional.bg={closeText:"затвори",prevText:"&#x3C;назад",nextText:"напред&#x3E;",nextBigText:"&#x3E;&#x3E;",currentText:"днес",monthNames:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],monthNamesShort:["Яну","Фев","Мар","Апр","Май","Юни","Юли","Авг","Сеп","Окт","Нов","Дек"],dayNames:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"],dayNamesShort:["Нед","Пон","Вто","Сря","Чет","Пет","Съб"],dayNamesMin:["Не","По","Вт","Ср","Че","Пе","Съ"],weekHeader:"Wk",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.bg),t.regional.bg,t.regional.bs={closeText:"Zatvori",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Danas",monthNames:["Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],weekHeader:"Wk",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.bs),t.regional.bs,t.regional.ca={closeText:"Tanca",prevText:"Anterior",nextText:"Següent",currentText:"Avui",monthNames:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],monthNamesShort:["gen","feb","març","abr","maig","juny","jul","ag","set","oct","nov","des"],dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],dayNamesMin:["dg","dl","dt","dc","dj","dv","ds"],weekHeader:"Set",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ca),t.regional.ca,t.regional.cs={closeText:"Zavřít",prevText:"&#x3C;Dříve",nextText:"Později&#x3E;",currentText:"Nyní",monthNames:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],monthNamesShort:["led","úno","bře","dub","kvě","čer","čvc","srp","zář","říj","lis","pro"],dayNames:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],dayNamesShort:["ne","po","út","st","čt","pá","so"],dayNamesMin:["ne","po","út","st","čt","pá","so"],weekHeader:"Týd",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.cs),t.regional.cs,t.regional["cy-GB"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"],monthNamesShort:["Ion","Chw","Maw","Ebr","Mai","Meh","Gor","Aws","Med","Hyd","Tac","Rha"],dayNames:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"],dayNamesShort:["Sul","Llu","Maw","Mer","Iau","Gwe","Sad"],dayNamesMin:["Su","Ll","Ma","Me","Ia","Gw","Sa"],weekHeader:"Wy",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["cy-GB"]),t.regional["cy-GB"],t.regional.da={closeText:"Luk",prevText:"&#x3C;Forrige",nextText:"Næste&#x3E;",currentText:"Idag",monthNames:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],dayNamesShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayNamesMin:["Sø","Ma","Ti","On","To","Fr","Lø"],weekHeader:"Uge",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.da),t.regional.da,t.regional.de={closeText:"Schließen",prevText:"&#x3C;Zurück",nextText:"Vor&#x3E;",currentText:"Heute",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.de),t.regional.de,t.regional.el={closeText:"Κλείσιμο",prevText:"Προηγούμενος",nextText:"Επόμενος",currentText:"Σήμερα",monthNames:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],monthNamesShort:["Ιαν","Φεβ","Μαρ","Απρ","Μαι","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],dayNames:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],dayNamesShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayNamesMin:["Κυ","Δε","Τρ","Τε","Πε","Πα","Σα"],weekHeader:"Εβδ",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.el),t.regional.el,t.regional["en-AU"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["en-AU"]),t.regional["en-AU"],t.regional["en-GB"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["en-GB"]),t.regional["en-GB"],t.regional["en-NZ"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["en-NZ"]),t.regional["en-NZ"],t.regional.eo={closeText:"Fermi",prevText:"&#x3C;Anta",nextText:"Sekv&#x3E;",currentText:"Nuna",monthNames:["Januaro","Februaro","Marto","Aprilo","Majo","Junio","Julio","Aŭgusto","Septembro","Oktobro","Novembro","Decembro"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aŭg","Sep","Okt","Nov","Dec"],dayNames:["Dimanĉo","Lundo","Mardo","Merkredo","Ĵaŭdo","Vendredo","Sabato"],dayNamesShort:["Dim","Lun","Mar","Mer","Ĵaŭ","Ven","Sab"],dayNamesMin:["Di","Lu","Ma","Me","Ĵa","Ve","Sa"],weekHeader:"Sb",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.eo),t.regional.eo,t.regional.es={closeText:"Cerrar",prevText:"&#x3C;Ant",nextText:"Sig&#x3E;",currentText:"Hoy",monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["dom","lun","mar","mié","jue","vie","sáb"],dayNamesMin:["D","L","M","X","J","V","S"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.es),t.regional.es,t.regional.et={closeText:"Sulge",prevText:"Eelnev",nextText:"Järgnev",currentText:"Täna",monthNames:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],monthNamesShort:["Jaan","Veebr","Märts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],dayNames:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"],dayNamesShort:["Pühap","Esmasp","Teisip","Kolmap","Neljap","Reede","Laup"],dayNamesMin:["P","E","T","K","N","R","L"],weekHeader:"näd",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.et),t.regional.et,t.regional.eu={closeText:"Egina",prevText:"&#x3C;Aur",nextText:"Hur&#x3E;",currentText:"Gaur",monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua"],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe."],dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig.","al.","ar.","az.","og.","ol.","lr."],dayNamesMin:["ig","al","ar","az","og","ol","lr"],weekHeader:"As",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.eu),t.regional.eu,t.regional.fa={closeText:"بستن",prevText:"&#x3C;قبلی",nextText:"بعدی&#x3E;",currentText:"امروز",monthNames:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["يکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayNamesShort:["ی","د","س","چ","پ","ج","ش"],dayNamesMin:["ی","د","س","چ","پ","ج","ش"],weekHeader:"هف",dateFormat:"yy/mm/dd",firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.fa),t.regional.fa,t.regional.fi={closeText:"Sulje",prevText:"&#xAB;Edellinen",nextText:"Seuraava&#xBB;",currentText:"Tänään",monthNames:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],monthNamesShort:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"],dayNamesShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayNames:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],dayNamesMin:["Su","Ma","Ti","Ke","To","Pe","La"],weekHeader:"Vk",dateFormat:"d.m.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.fi),t.regional.fi,t.regional.fo={closeText:"Lat aftur",prevText:"&#x3C;Fyrra",nextText:"Næsta&#x3E;",currentText:"Í dag",monthNames:["Januar","Februar","Mars","Apríl","Mei","Juni","Juli","August","September","Oktober","November","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],dayNames:["Sunnudagur","Mánadagur","Týsdagur","Mikudagur","Hósdagur","Fríggjadagur","Leyardagur"],dayNamesShort:["Sun","Mán","Týs","Mik","Hós","Frí","Ley"],dayNamesMin:["Su","Má","Tý","Mi","Hó","Fr","Le"],weekHeader:"Vk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.fo),t.regional.fo,t.regional["fr-CA"]={closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"yy-mm-dd",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["fr-CA"]),t.regional["fr-CA"],t.regional["fr-CH"]={closeText:"Fermer",prevText:"&#x3C;Préc",nextText:"Suiv&#x3E;",currentText:"Courant",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sm",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["fr-CH"]),t.regional["fr-CH"],t.regional.fr={closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.fr),t.regional.fr,t.regional.gl={closeText:"Pechar",prevText:"&#x3C;Ant",nextText:"Seg&#x3E;",currentText:"Hoxe",monthNames:["Xaneiro","Febreiro","Marzo","Abril","Maio","Xuño","Xullo","Agosto","Setembro","Outubro","Novembro","Decembro"],monthNamesShort:["Xan","Feb","Mar","Abr","Mai","Xuñ","Xul","Ago","Set","Out","Nov","Dec"],dayNames:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mér","Xov","Ven","Sáb"],dayNamesMin:["Do","Lu","Ma","Mé","Xo","Ve","Sá"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.gl),t.regional.gl,t.regional.he={closeText:"סגור",prevText:"&#x3C;הקודם",nextText:"הבא&#x3E;",currentText:"היום",monthNames:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],monthNamesShort:["ינו","פבר","מרץ","אפר","מאי","יוני","יולי","אוג","ספט","אוק","נוב","דצמ"],dayNames:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],dayNamesShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayNamesMin:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.he),t.regional.he,t.regional.hi={closeText:"बंद",prevText:"पिछला",nextText:"अगला",currentText:"आज",monthNames:["जनवरी ","फरवरी","मार्च","अप्रेल","मई","जून","जूलाई","अगस्त ","सितम्बर","अक्टूबर","नवम्बर","दिसम्बर"],monthNamesShort:["जन","फर","मार्च","अप्रेल","मई","जून","जूलाई","अग","सित","अक्ट","नव","दि"],dayNames:["रविवार","सोमवार","मंगलवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"],dayNamesShort:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],dayNamesMin:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],weekHeader:"हफ्ता",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.hi),t.regional.hi,t.regional.hr={closeText:"Zatvori",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Danas",monthNames:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],monthNamesShort:["Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],dayNames:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],weekHeader:"Tje",dateFormat:"dd.mm.yy.",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.hr),t.regional.hr,t.regional.hu={closeText:"bezár",prevText:"vissza",nextText:"előre",currentText:"ma",monthNames:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],monthNamesShort:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],dayNames:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],dayNamesShort:["Vas","Hét","Ked","Sze","Csü","Pén","Szo"],dayNamesMin:["V","H","K","Sze","Cs","P","Szo"],weekHeader:"Hét",dateFormat:"yy.mm.dd.",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},t.setDefaults(t.regional.hu),t.regional.hu,t.regional.hy={closeText:"Փակել",prevText:"&#x3C;Նախ.",nextText:"Հաջ.&#x3E;",currentText:"Այսօր",monthNames:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],monthNamesShort:["Հունվ","Փետր","Մարտ","Ապր","Մայիս","Հունիս","Հուլ","Օգս","Սեպ","Հոկ","Նոյ","Դեկ"],dayNames:["կիրակի","եկուշաբթի","երեքշաբթի","չորեքշաբթի","հինգշաբթի","ուրբաթ","շաբաթ"],dayNamesShort:["կիր","երկ","երք","չրք","հնգ","ուրբ","շբթ"],dayNamesMin:["կիր","երկ","երք","չրք","հնգ","ուրբ","շբթ"],weekHeader:"ՇԲՏ",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.hy),t.regional.hy,t.regional.id={closeText:"Tutup",prevText:"&#x3C;mundur",nextText:"maju&#x3E;",currentText:"hari ini",monthNames:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agus","Sep","Okt","Nop","Des"],dayNames:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],dayNamesShort:["Min","Sen","Sel","Rab","kam","Jum","Sab"],dayNamesMin:["Mg","Sn","Sl","Rb","Km","jm","Sb"],weekHeader:"Mg",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.id),t.regional.id,t.regional.is={closeText:"Loka",prevText:"&#x3C; Fyrri",nextText:"Næsti &#x3E;",currentText:"Í dag",monthNames:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Maí","Jún","Júl","Ágú","Sep","Okt","Nóv","Des"],dayNames:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"],dayNamesShort:["Sun","Mán","Þri","Mið","Fim","Fös","Lau"],dayNamesMin:["Su","Má","Þr","Mi","Fi","Fö","La"],weekHeader:"Vika",dateFormat:"dd.mm.yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.is),t.regional.is,t.regional["it-CH"]={closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["it-CH"]),t.regional["it-CH"],t.regional.it={closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.it),t.regional.it,t.regional.ja={closeText:"閉じる",prevText:"&#x3C;前",nextText:"次&#x3E;",currentText:"今日",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],dayNamesMin:["日","月","火","水","木","金","土"],weekHeader:"週",dateFormat:"yy/mm/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},t.setDefaults(t.regional.ja),t.regional.ja,t.regional.ka={closeText:"დახურვა",prevText:"&#x3c; წინა",nextText:"შემდეგი &#x3e;",currentText:"დღეს",monthNames:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],monthNamesShort:["იან","თებ","მარ","აპრ","მაი","ივნ","ივლ","აგვ","სექ","ოქტ","ნოე","დეკ"],dayNames:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"],dayNamesShort:["კვ","ორშ","სამ","ოთხ","ხუთ","პარ","შაბ"],dayNamesMin:["კვ","ორშ","სამ","ოთხ","ხუთ","პარ","შაბ"],weekHeader:"კვირა",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ka),t.regional.ka,t.regional.kk={closeText:"Жабу",prevText:"&#x3C;Алдыңғы",nextText:"Келесі&#x3E;",currentText:"Бүгін",monthNames:["Қаңтар","Ақпан","Наурыз","Сәуір","Мамыр","Маусым","Шілде","Тамыз","Қыркүйек","Қазан","Қараша","Желтоқсан"],monthNamesShort:["Қаң","Ақп","Нау","Сәу","Мам","Мау","Шіл","Там","Қыр","Қаз","Қар","Жел"],dayNames:["Жексенбі","Дүйсенбі","Сейсенбі","Сәрсенбі","Бейсенбі","Жұма","Сенбі"],dayNamesShort:["жкс","дсн","ссн","срс","бсн","жма","снб"],dayNamesMin:["Жк","Дс","Сс","Ср","Бс","Жм","Сн"],weekHeader:"Не",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.kk),t.regional.kk,t.regional.km={closeText:"ធ្វើ​រួច",prevText:"មុន",nextText:"បន្ទាប់",currentText:"ថ្ងៃ​នេះ",monthNames:["មករា","កុម្ភៈ","មីនា","មេសា","ឧសភា","មិថុនា","កក្កដា","សីហា","កញ្ញា","តុលា","វិច្ឆិកា","ធ្នូ"],monthNamesShort:["មករា","កុម្ភៈ","មីនា","មេសា","ឧសភា","មិថុនា","កក្កដា","សីហា","កញ្ញា","តុលា","វិច្ឆិកា","ធ្នូ"],dayNames:["អាទិត្យ","ចន្ទ","អង្គារ","ពុធ","ព្រហស្បតិ៍","សុក្រ","សៅរ៍"],dayNamesShort:["អា","ច","អ","ពុ","ព្រហ","សុ","សៅ"],dayNamesMin:["អា","ច","អ","ពុ","ព្រហ","សុ","សៅ"],weekHeader:"សប្ដាហ៍",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.km),t.regional.km,t.regional.ko={closeText:"닫기",prevText:"이전달",nextText:"다음달",currentText:"오늘",monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesShort:["일","월","화","수","목","금","토"],dayNamesMin:["일","월","화","수","목","금","토"],weekHeader:"Wk",dateFormat:"yy-mm-dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"년"},t.setDefaults(t.regional.ko),t.regional.ko,t.regional.ky={closeText:"Жабуу",prevText:"&#x3c;Мур",nextText:"Кий&#x3e;",currentText:"Бүгүн",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["жекшемби","дүйшөмбү","шейшемби","шаршемби","бейшемби","жума","ишемби"],dayNamesShort:["жек","дүй","шей","шар","бей","жум","ише"],dayNamesMin:["Жк","Дш","Шш","Шр","Бш","Жм","Иш"],weekHeader:"Жум",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ky),t.regional.ky,t.regional.lb={closeText:"Fäerdeg",prevText:"Zréck",nextText:"Weider",currentText:"Haut",monthNames:["Januar","Februar","Mäerz","Abrëll","Mee","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mäe","Abr","Mee","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonndeg","Méindeg","Dënschdeg","Mëttwoch","Donneschdeg","Freideg","Samschdeg"],dayNamesShort:["Son","Méi","Dën","Mët","Don","Fre","Sam"],dayNamesMin:["So","Mé","Dë","Më","Do","Fr","Sa"],weekHeader:"W",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.lb),t.regional.lb,t.regional.lt={closeText:"Uždaryti",prevText:"&#x3C;Atgal",nextText:"Pirmyn&#x3E;",currentText:"Šiandien",monthNames:["Sausis","Vasaris","Kovas","Balandis","Gegužė","Birželis","Liepa","Rugpjūtis","Rugsėjis","Spalis","Lapkritis","Gruodis"],monthNamesShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gru"],dayNames:["sekmadienis","pirmadienis","antradienis","trečiadienis","ketvirtadienis","penktadienis","šeštadienis"],dayNamesShort:["sek","pir","ant","tre","ket","pen","šeš"],dayNamesMin:["Se","Pr","An","Tr","Ke","Pe","Še"],weekHeader:"SAV",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},t.setDefaults(t.regional.lt),t.regional.lt,t.regional.lv={closeText:"Aizvērt",prevText:"Iepr.",nextText:"Nāk.",currentText:"Šodien",monthNames:["Janvāris","Februāris","Marts","Aprīlis","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthNamesShort:["Jan","Feb","Mar","Apr","Mai","Jūn","Jūl","Aug","Sep","Okt","Nov","Dec"],dayNames:["svētdiena","pirmdiena","otrdiena","trešdiena","ceturtdiena","piektdiena","sestdiena"],dayNamesShort:["svt","prm","otr","tre","ctr","pkt","sst"],dayNamesMin:["Sv","Pr","Ot","Tr","Ct","Pk","Ss"],weekHeader:"Ned.",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.lv),t.regional.lv,t.regional.mk={closeText:"Затвори",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Денес",monthNames:["Јануари","Февруари","Март","Април","Мај","Јуни","Јули","Август","Септември","Октомври","Ноември","Декември"],monthNamesShort:["Јан","Фев","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Ное","Дек"],dayNames:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"],dayNamesShort:["Нед","Пон","Вто","Сре","Чет","Пет","Саб"],dayNamesMin:["Не","По","Вт","Ср","Че","Пе","Са"],weekHeader:"Сед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.mk),t.regional.mk,t.regional.ml={closeText:"ശരി",prevText:"മുന്നത്തെ",nextText:"അടുത്തത് ",currentText:"ഇന്ന്",monthNames:["ജനുവരി","ഫെബ്രുവരി","മാര്‍ച്ച്","ഏപ്രില്‍","മേയ്","ജൂണ്‍","ജൂലൈ","ആഗസ്റ്റ്","സെപ്റ്റംബര്‍","ഒക്ടോബര്‍","നവംബര്‍","ഡിസംബര്‍"],monthNamesShort:["ജനു","ഫെബ്","മാര്‍","ഏപ്രി","മേയ്","ജൂണ്‍","ജൂലാ","ആഗ","സെപ്","ഒക്ടോ","നവം","ഡിസ"],dayNames:["ഞായര്‍","തിങ്കള്‍","ചൊവ്വ","ബുധന്‍","വ്യാഴം","വെള്ളി","ശനി"],dayNamesShort:["ഞായ","തിങ്ക","ചൊവ്വ","ബുധ","വ്യാഴം","വെള്ളി","ശനി"],dayNamesMin:["ഞാ","തി","ചൊ","ബു","വ്യാ","വെ","ശ"],weekHeader:"ആ",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ml),t.regional.ml,t.regional.ms={closeText:"Tutup",prevText:"&#x3C;Sebelum",nextText:"Selepas&#x3E;",currentText:"hari ini",monthNames:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthNamesShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogo","Sep","Okt","Nov","Dis"],dayNames:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],dayNamesShort:["Aha","Isn","Sel","Rab","kha","Jum","Sab"],dayNamesMin:["Ah","Is","Se","Ra","Kh","Ju","Sa"],weekHeader:"Mg",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ms),t.regional.ms,t.regional.nb={closeText:"Lukk",prevText:"&#xAB;Forrige",nextText:"Neste&#xBB;",currentText:"I dag",monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["søn","man","tir","ons","tor","fre","lør"],dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesMin:["sø","ma","ti","on","to","fr","lø"],weekHeader:"Uke",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.nb),t.regional.nb,t.regional["nl-BE"]={closeText:"Sluiten",prevText:"←",nextText:"→",currentText:"Vandaag",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["nl-BE"]),t.regional["nl-BE"],t.regional.nl={closeText:"Sluiten",prevText:"←",nextText:"→",currentText:"Vandaag",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],weekHeader:"Wk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.nl),t.regional.nl,t.regional.nn={closeText:"Lukk",prevText:"&#xAB;Førre",nextText:"Neste&#xBB;",currentText:"I dag",monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["sun","mån","tys","ons","tor","fre","lau"],dayNames:["sundag","måndag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesMin:["su","må","ty","on","to","fr","la"],weekHeader:"Veke",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.nn),t.regional.nn,t.regional.no={closeText:"Lukk",prevText:"&#xAB;Forrige",nextText:"Neste&#xBB;",currentText:"I dag",monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["søn","man","tir","ons","tor","fre","lør"],dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesMin:["sø","ma","ti","on","to","fr","lø"],weekHeader:"Uke",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.no),t.regional.no,t.regional.pl={closeText:"Zamknij",prevText:"&#x3C;Poprzedni",nextText:"Następny&#x3E;",currentText:"Dziś",monthNames:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthNamesShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],dayNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],dayNamesShort:["Nie","Pn","Wt","Śr","Czw","Pt","So"],dayNamesMin:["N","Pn","Wt","Śr","Cz","Pt","So"],weekHeader:"Tydz",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.pl),t.regional.pl,t.regional["pt-BR"]={closeText:"Fechar",prevText:"&#x3C;Anterior",nextText:"Próximo&#x3E;",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["pt-BR"]),t.regional["pt-BR"],t.regional.pt={closeText:"Fechar",prevText:"Anterior",nextText:"Seguinte",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],weekHeader:"Sem",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.pt),t.regional.pt,t.regional.rm={closeText:"Serrar",prevText:"&#x3C;Suandant",nextText:"Precedent&#x3E;",currentText:"Actual",monthNames:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],monthNamesShort:["Scha","Fev","Mar","Avr","Matg","Zer","Fan","Avu","Sett","Oct","Nov","Dec"],dayNames:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"],dayNamesShort:["Dum","Gli","Mar","Mes","Gie","Ven","Som"],dayNamesMin:["Du","Gl","Ma","Me","Gi","Ve","So"],weekHeader:"emna",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.rm),t.regional.rm,t.regional.ro={closeText:"Închide",prevText:"&#xAB; Luna precedentă",nextText:"Luna următoare &#xBB;",currentText:"Azi",monthNames:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthNamesShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"],dayNamesShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sâm"],dayNamesMin:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],weekHeader:"Săpt",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ro),t.regional.ro,t.regional.ru={closeText:"Закрыть",prevText:"&#x3C;Пред",nextText:"След&#x3E;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ru),t.regional.ru,t.regional.sk={closeText:"Zavrieť",prevText:"&#x3C;Predchádzajúci",nextText:"Nasledujúci&#x3E;",currentText:"Dnes",monthNames:["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december"],monthNamesShort:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],dayNames:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],dayNamesShort:["Ned","Pon","Uto","Str","Štv","Pia","Sob"],dayNamesMin:["Ne","Po","Ut","St","Št","Pia","So"],weekHeader:"Ty",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.sk),t.regional.sk,t.regional.sl={closeText:"Zapri",prevText:"&#x3C;Prejšnji",nextText:"Naslednji&#x3E;",currentText:"Trenutni",monthNames:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"],dayNamesShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayNamesMin:["Ne","Po","To","Sr","Če","Pe","So"],weekHeader:"Teden",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.sl),t.regional.sl,t.regional.sq={closeText:"mbylle",prevText:"&#x3C;mbrapa",nextText:"Përpara&#x3E;",currentText:"sot",monthNames:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],monthNamesShort:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gus","Sht","Tet","Nën","Dhj"],dayNames:["E Diel","E Hënë","E Martë","E Mërkurë","E Enjte","E Premte","E Shtune"],dayNamesShort:["Di","Hë","Ma","Më","En","Pr","Sh"],dayNamesMin:["Di","Hë","Ma","Më","En","Pr","Sh"],weekHeader:"Ja",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.sq),t.regional.sq,t.regional["sr-SR"]={closeText:"Zatvori",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Danas",monthNames:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sre","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],weekHeader:"Sed",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional["sr-SR"]),t.regional["sr-SR"],t.regional.sr={closeText:"Затвори",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Данас",monthNames:["Јануар","Фебруар","Март","Април","Мај","Јун","Јул","Август","Септембар","Октобар","Новембар","Децембар"],monthNamesShort:["Јан","Феб","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Нов","Дец"],dayNames:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"],dayNamesShort:["Нед","Пон","Уто","Сре","Чет","Пет","Суб"],dayNamesMin:["Не","По","Ут","Ср","Че","Пе","Су"],weekHeader:"Сед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.sr),t.regional.sr,t.regional.sv={closeText:"Stäng",prevText:"&#xAB;Förra",nextText:"Nästa&#xBB;",currentText:"Idag",monthNames:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNamesShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayNames:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],dayNamesMin:["Sö","Må","Ti","On","To","Fr","Lö"],weekHeader:"Ve",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.sv),t.regional.sv,t.regional.ta={closeText:"மூடு",prevText:"முன்னையது",nextText:"அடுத்தது",currentText:"இன்று",monthNames:["தை","மாசி","பங்குனி","சித்திரை","வைகாசி","ஆனி","ஆடி","ஆவணி","புரட்டாசி","ஐப்பசி","கார்த்திகை","மார்கழி"],monthNamesShort:["தை","மாசி","பங்","சித்","வைகா","ஆனி","ஆடி","ஆவ","புர","ஐப்","கார்","மார்"],dayNames:["ஞாயிற்றுக்கிழமை","திங்கட்கிழமை","செவ்வாய்க்கிழமை","புதன்கிழமை","வியாழக்கிழமை","வெள்ளிக்கிழமை","சனிக்கிழமை"],dayNamesShort:["ஞாயிறு","திங்கள்","செவ்வாய்","புதன்","வியாழன்","வெள்ளி","சனி"],dayNamesMin:["ஞா","தி","செ","பு","வி","வெ","ச"],weekHeader:"Не",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.ta),t.regional.ta,t.regional.th={closeText:"ปิด",prevText:"&#xAB;&#xA0;ย้อน",nextText:"ถัดไป&#xA0;&#xBB;",currentText:"วันนี้",monthNames:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],monthNamesShort:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],dayNames:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"],dayNamesShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayNamesMin:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.th),t.regional.th,t.regional.tj={closeText:"Идома",prevText:"&#x3c;Қафо",nextText:"Пеш&#x3e;",currentText:"Имрӯз",monthNames:["Январ","Феврал","Март","Апрел","Май","Июн","Июл","Август","Сентябр","Октябр","Ноябр","Декабр"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["якшанбе","душанбе","сешанбе","чоршанбе","панҷшанбе","ҷумъа","шанбе"],dayNamesShort:["якш","душ","сеш","чор","пан","ҷум","шан"],dayNamesMin:["Як","Дш","Сш","Чш","Пш","Ҷм","Шн"],weekHeader:"Хф",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.tj),t.regional.tj,t.regional.tr={closeText:"kapat",prevText:"&#x3C;geri",nextText:"ileri&#x3e",currentText:"bugün",monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],dayNamesMin:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],weekHeader:"Hf",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.tr),t.regional.tr,t.regional.uk={closeText:"Закрити",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Сьогодні",monthNames:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthNamesShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],dayNames:["неділя","понеділок","вівторок","середа","четвер","п’ятниця","субота"],dayNamesShort:["нед","пнд","вів","срд","чтв","птн","сбт"],dayNamesMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Тиж",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.uk),t.regional.uk,t.regional.vi={closeText:"Đóng",prevText:"&#x3C;Trước",nextText:"Tiếp&#x3E;",currentText:"Hôm nay",monthNames:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"],monthNamesShort:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayNames:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"],dayNamesShort:["CN","T2","T3","T4","T5","T6","T7"],dayNamesMin:["CN","T2","T3","T4","T5","T6","T7"],weekHeader:"Tu",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.vi),t.regional.vi,t.regional["zh-CN"]={closeText:"关闭",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},t.setDefaults(t.regional["zh-CN"]),t.regional["zh-CN"],t.regional["zh-HK"]={closeText:"關閉",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"dd-mm-yy",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},t.setDefaults(t.regional["zh-HK"]),t.regional["zh-HK"],t.regional["zh-TW"]={closeText:"關閉",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy/mm/dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},t.setDefaults(t.regional["zh-TW"]),t.regional["zh-TW"]
});



/*! jQuery Validation Plugin - v1.16.0 - 12/2/2016
 * http://jqueryvalidation.org/
 * Copyright (c) 2016 Jörn Zaefferer; Licensed MIT */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(b){function d(){var d,e;return!c.settings.submitHandler||(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),e=c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),void 0!==e&&e)}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is("form")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b,b||(d=d.concat(c.errorList))}),c.errorList=d),b},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(null!=j&&null!=j.form){if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}}),a.extend(a.expr.pseudos||a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){var c=a(b).val();return null!==c&&!!a.trim(""+c)},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:void 0===c?b:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(b)||a.inArray(c.keyCode,d)!==-1||(b.name in this.submitted||b.name in this.invalid)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}."),step:a.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){!this.form&&this.hasAttribute("contenteditable")&&(this.form=a(this).closest("form")[0]);var c=a.data(this.form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!a(this).is(e.ignore)&&e[d].call(c,this,b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",b).on("click.validate","select, option, [type='radio'], [type='checkbox']",b),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c,d,e=this.clean(b),f=this.validationTargetFor(e),g=this,h=!0;return void 0===f?delete this.invalid[e.name]:(this.prepareElement(f),this.currentElements=a(f),d=this.groups[f.name],d&&a.each(this.groups,function(a,b){b===d&&a!==f.name&&(e=g.validationTargetFor(g.clean(g.findByName(a))),e&&e.name in g.invalid&&(g.currentElements.push(e),h=g.check(e)&&h))}),c=this.check(f)!==!1,h=h&&c,c?this.invalid[f.name]=!1:this.invalid[f.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a(b).attr("aria-invalid",!c)),h},showErrors:function(b){if(b){var c=this;a.extend(this.errorMap,b),this.errorList=a.map(this.errorMap,function(a,b){return{message:a,element:c.findByName(b)[0]}}),this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var b=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(b)},resetElements:function(a){var b;if(this.settings.unhighlight)for(b=0;a[b];b++)this.settings.unhighlight.call(this,a[b],this.settings.errorClass,""),this.findByName(a[b].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)a[b]&&c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var d=this.name||a(this).attr("name");return!d&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=a(this).closest("form")[0]),!(d in c||!b.objectLength(a(this).rules()))&&(c[d]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([])},reset:function(){this.resetInternals(),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d,e=a(b),f=b.type;return"radio"===f||"checkbox"===f?this.findByName(b.name).filter(":checked").val():"number"===f&&"undefined"!=typeof b.validity?b.validity.badInput?"NaN":e.val():(c=b.hasAttribute("contenteditable")?e.text():e.val(),"file"===f?"C:\\fakepath\\"===c.substr(0,12)?c.substr(12):(d=c.lastIndexOf("/"),d>=0?c.substr(d+1):(d=c.lastIndexOf("\\"),d>=0?c.substr(d+1):c)):"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);if("function"==typeof f.normalizer){if(i=f.normalizer.call(b,i),"string"!=typeof i)throw new TypeError("The normalizer should return a string value.");delete f.normalizer}for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),"dependency-mismatch"===c&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(j){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",j),j instanceof TypeError&&(j.message+=".  Exception occurred when checking element "+b.id+", check the '"+e.method+"' method."),j}}if(!h)return this.objectLength(f)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){"string"==typeof c&&(c={method:c});var d=this.findDefined(this.customMessage(b.name,c.method),this.customDataMessage(b,c.method),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c.method],"<strong>Warning: No message defined for "+b.name+"</strong>"),e=/\$?\{(\d+)\}/g;return"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),d},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b);this.errorList.push({message:c,element:a,method:b.method}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g,h=this.errorsFor(b),i=this.idOrName(b),j=a(b).attr("aria-describedby");h.length?(h.removeClass(this.settings.validClass).addClass(this.settings.errorClass),h.html(c)):(h=a("<"+this.settings.errorElement+">").attr("id",i+"-error").addClass(this.settings.errorClass).html(c||""),d=h,this.settings.wrapper&&(d=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement.call(this,d,a(b)):d.insertAfter(b),h.is("label")?h.attr("for",i):0===h.parents("label[for='"+this.escapeCssMeta(i)+"']").length&&(f=h.attr("id"),j?j.match(new RegExp("\\b"+this.escapeCssMeta(f)+"\\b"))||(j+=" "+f):j=f,a(b).attr("aria-describedby",j),e=this.groups[b.name],e&&(g=this,a.each(g.groups,function(b,c){c===e&&a("[name='"+g.escapeCssMeta(b)+"']",g.currentForm).attr("aria-describedby",h.attr("id"))})))),!c&&this.settings.success&&(h.text(""),"string"==typeof this.settings.success?h.addClass(this.settings.success):this.settings.success(h,b)),this.toShow=this.toShow.add(h)},errorsFor:function(b){var c=this.escapeCssMeta(this.idOrName(b)),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+this.escapeCssMeta(d).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(a){return a.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+this.escapeCssMeta(b)+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,a(b).addClass(this.settings.pendingClass),this.pending[b.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],a(b).removeClass(this.settings.pendingClass),c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b,c){return c="string"==typeof c&&c||"remote",a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,{method:c})})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max|step/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&"range"!==b&&(a[c]=!0)},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0===e.param||e.param:(a.data(c.form,"validator").resetElements(a(c)),delete b[d])}}),a.each(b,function(d,e){b[d]=a.isFunction(e)&&"normalizer"!==d?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:b.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e<=d},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},step:function(b,c,d){var e,f=a(c).attr("type"),g="Step attribute on input type "+f+" is not supported.",h=["text","number","range"],i=new RegExp("\\b"+f+"\\b"),j=f&&!i.test(h.join()),k=function(a){var b=(""+a).match(/(?:\.(\d+))?$/);return b&&b[1]?b[1].length:0},l=function(a){return Math.round(a*Math.pow(10,e))},m=!0;if(j)throw new Error(g);return e=k(d),(k(b)>e||l(b)%l(d)!==0)&&(m=!1),this.optional(c)||m},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.not(".validate-equalTo-blur").length&&e.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d,e){if(this.optional(c))return"dependency-mismatch";e="string"==typeof e&&e||"remote";var f,g,h,i=this.previousValue(c,e);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),i.originalMessage=i.originalMessage||this.settings.messages[c.name][e],this.settings.messages[c.name][e]=i.message,d="string"==typeof d&&{url:d}||d,h=a.param(a.extend({data:b},d.data)),i.old===h?i.valid:(i.old=h,f=this,this.startRequest(c),g={},g[c.name]=b,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:g,context:f.currentForm,success:function(a){var d,g,h,j=a===!0||"true"===a;f.settings.messages[c.name][e]=i.originalMessage,j?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(c),f.formSubmitted=h,f.successList.push(c),f.invalid[c.name]=!1,f.showErrors()):(d={},g=a||f.defaultMessage(c,{method:e,parameters:b}),d[c.name]=i.message=g,f.invalid[c.name]=!0,f.showErrors(d)),i.valid=j,f.stopRequest(c,j)}},d)),"pending")}}});var b,c={};return a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)}),a});



(function(){"use strict";function e(e){e.fn._fadeIn=e.fn.fadeIn;var t=e.noop||function(){};var o=/MSIE/.test(navigator.userAgent);var i=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var n=document.documentMode||0;var l=e.isFunction(document.createElement("div").style.setExpression);e.blockUI=function(e){r(window,e)};e.unblockUI=function(e){d(window,e)};e.growlUI=function(t,o,i,n){var l=e('<div class="growlUI"></div>');if(t)l.append("<h1>"+t+"</h1>");if(o)l.append("<h2>"+o+"</h2>");if(i===undefined)i=3e3;e.blockUI({message:l,fadeIn:700,fadeOut:1e3,centerY:false,timeout:i,showOverlay:false,onUnblock:n,css:e.blockUI.defaults.growlCSS})};e.fn.block=function(t){if(this[0]===window){e.blockUI(t);return this}var o=e.extend({},e.blockUI.defaults,t||{});this.each(function(){var t=e(this);if(o.ignoreIfBlocked&&t.data("blockUI.isBlocked"))return;t.unblock({fadeOut:0})});return this.each(function(){if(e.css(this,"position")=="static"){this.style.position="relative";e(this).data("blockUI.static",true)}this.style.zoom=1;r(this,t)})};e.fn.unblock=function(t){if(this[0]===window){e.unblockUI(t);return this}return this.each(function(){d(this,t)})};e.blockUI.version=2.6;e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1e3,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var s=null;var a=[];function r(n,r){var c,u;var v=n==window;var k=r&&r.message!==undefined?r.message:undefined;r=e.extend({},e.blockUI.defaults,r||{});if(r.ignoreIfBlocked&&e(n).data("blockUI.isBlocked"))return;r.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,r.overlayCSS||{});c=e.extend({},e.blockUI.defaults.css,r.css||{});if(r.onOverlayClick)r.overlayCSS.cursor="pointer";u=e.extend({},e.blockUI.defaults.themedCSS,r.themedCSS||{});k=k===undefined?r.message:k;if(v&&s)d(window,{fadeOut:0});if(k&&typeof k!="string"&&(k.parentNode||k.jquery)){var y=k.jquery?k[0]:k;var m={};e(n).data("blockUI.history",m);m.el=y;m.parent=y.parentNode;m.display=y.style.display;m.position=y.style.position;if(m.parent)m.parent.removeChild(y)}e(n).data("blockUI.onUnblock",r.onUnblock);var g=r.baseZ;var I,w,U,x;if(o||r.forceIframe)I=e('<iframe class="blockUI" style="z-index:'+g++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+r.iframeSrc+'"></iframe>');else I=e('<div class="blockUI" style="display:none"></div>');if(r.theme)w=e('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+g++ +';display:none"></div>');else w=e('<div class="blockUI blockOverlay" style="z-index:'+g++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');if(r.theme&&v){x='<div class="blockUI '+r.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(g+10)+';display:none;position:fixed">';if(r.title){x+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(r.title||"&nbsp;")+"</div>"}x+='<div class="ui-widget-content ui-dialog-content"></div>';x+="</div>"}else if(r.theme){x='<div class="blockUI '+r.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(g+10)+';display:none;position:absolute">';if(r.title){x+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(r.title||"&nbsp;")+"</div>"}x+='<div class="ui-widget-content ui-dialog-content"></div>';x+="</div>"}else if(v){x='<div class="blockUI '+r.blockMsgClass+' blockPage" style="z-index:'+(g+10)+';display:none;position:fixed"></div>'}else{x='<div class="blockUI '+r.blockMsgClass+' blockElement" style="z-index:'+(g+10)+';display:none;position:absolute"></div>'}U=e(x);if(k){if(r.theme){U.css(u);U.addClass("ui-widget-content")}else U.css(c)}if(!r.theme)w.css(r.overlayCSS);w.css("position",v?"fixed":"absolute");if(o||r.forceIframe)I.css("opacity",0);var C=[I,w,U],S=v?e("body"):e(n);e.each(C,function(){this.appendTo(S)});if(r.theme&&r.draggable&&e.fn.draggable){U.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var E=l&&(!e.support.boxModel||e("object,embed",v?null:n).length>0);if(i||E){if(v&&r.allowBodyStretch&&e.support.boxModel)e("html,body").css("height","100%");if((i||!e.support.boxModel)&&!v){var O=h(n,"borderTopWidth"),T=h(n,"borderLeftWidth");var M=O?"(0 - "+O+")":0;var B=T?"(0 - "+T+")":0}e.each(C,function(e,t){var o=t[0].style;o.position="absolute";if(e<2){if(v)o.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+r.quirksmodeOffsetHack+') + "px"');else o.setExpression("height",'this.parentNode.offsetHeight + "px"');if(v)o.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"');else o.setExpression("width",'this.parentNode.offsetWidth + "px"');if(B)o.setExpression("left",B);if(M)o.setExpression("top",M)}else if(r.centerY){if(v)o.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"');o.marginTop=0}else if(!r.centerY&&v){var i=r.css&&r.css.top?parseInt(r.css.top,10):0;var n="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+i+') + "px"';o.setExpression("top",n)}})}if(k){if(r.theme)U.find(".ui-widget-content").append(k);else U.append(k);if(k.jquery||k.nodeType)e(k).show()}if((o||r.forceIframe)&&r.showOverlay)I.show();if(r.fadeIn){var j=r.onBlock?r.onBlock:t;var H=r.showOverlay&&!k?j:t;var z=k?j:t;if(r.showOverlay)w._fadeIn(r.fadeIn,H);if(k)U._fadeIn(r.fadeIn,z)}else{if(r.showOverlay)w.show();if(k)U.show();if(r.onBlock)r.onBlock()}f(1,n,r);if(v){s=U[0];a=e(r.focusableElements,s);if(r.focusInput)setTimeout(b,20)}else p(U[0],r.centerX,r.centerY);if(r.timeout){var W=setTimeout(function(){if(v)e.unblockUI(r);else e(n).unblock(r)},r.timeout);e(n).data("blockUI.timeout",W)}}function d(t,o){var i;var n=t==window;var l=e(t);var r=l.data("blockUI.history");var d=l.data("blockUI.timeout");if(d){clearTimeout(d);l.removeData("blockUI.timeout")}o=e.extend({},e.blockUI.defaults,o||{});f(0,t,o);if(o.onUnblock===null){o.onUnblock=l.data("blockUI.onUnblock");l.removeData("blockUI.onUnblock")}var u;if(n)u=e("body").children().filter(".blockUI").add("body > .blockUI");else u=l.find(">.blockUI");if(o.cursorReset){if(u.length>1)u[1].style.cursor=o.cursorReset;if(u.length>2)u[2].style.cursor=o.cursorReset}if(n)s=a=null;if(o.fadeOut){i=u.length;u.fadeOut(o.fadeOut,function(){if(--i===0)c(u,r,o,t)})}else c(u,r,o,t)}function c(t,o,i,n){var l=e(n);t.each(function(e,t){if(this.parentNode)this.parentNode.removeChild(this)});if(o&&o.el){o.el.style.display=o.display;o.el.style.position=o.position;if(o.parent)o.parent.appendChild(o.el);l.removeData("blockUI.history")}if(l.data("blockUI.static")){l.css("position","static")}if(typeof i.onUnblock=="function")i.onUnblock(n,i);var s=e(document.body),a=s.width(),r=s[0].style.width;s.width(a-1).width(a);s[0].style.width=r}function f(t,o,i){var n=o==window,l=e(o);if(!t&&(n&&!s||!n&&!l.data("blockUI.isBlocked")))return;l.data("blockUI.isBlocked",t);if(!n||!i.bindEvents||t&&!i.showOverlay)return;var a="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(t)e(document).bind(a,i,u);else e(document).unbind(a,u)}function u(t){if(t.keyCode&&t.keyCode==9){if(s&&t.data.constrainTabKey){var o=a;var i=!t.shiftKey&&t.target===o[o.length-1];var n=t.shiftKey&&t.target===o[0];if(i||n){setTimeout(function(){b(n)},10);return false}}}var l=t.data;var r=e(t.target);if(r.hasClass("blockOverlay")&&l.onOverlayClick)l.onOverlayClick();if(r.parents("div."+l.blockMsgClass).length>0)return true;return r.parents().children().filter("div.blockUI").length===0}function b(e){if(!a)return;var t=a[e===true?a.length-1:0];if(t)t.focus()}function p(e,t,o){var i=e.parentNode,n=e.style;var l=(i.offsetWidth-e.offsetWidth)/2-h(i,"borderLeftWidth");var s=(i.offsetHeight-e.offsetHeight)/2-h(i,"borderTopWidth");if(t)n.left=l>0?l+"px":"0";if(o)n.top=s>0?s+"px":"0"}function h(t,o){return parseInt(e.css(t,o),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],e)}else{e(jQuery)}})();



(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){e(require("jquery"))}else{e(jQuery)}})(function(e){var n=/\+/g;function i(e){return f.raw?e:encodeURIComponent(e)}function r(e){return f.raw?e:decodeURIComponent(e)}function o(e){return i(f.json?JSON.stringify(e):String(e))}function t(e){if(e.indexOf('"')===0){e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{e=decodeURIComponent(e.replace(n," "));return f.json?JSON.parse(e):e}catch(i){}}function u(n,i){var r=f.raw?n:t(n);return e.isFunction(i)?i(r):r}var f=e.cookie=function(n,t,c){if(t!==undefined&&!e.isFunction(t)){c=e.extend({},f.defaults,c);if(typeof c.expires==="number"){var a=c.expires,d=c.expires=new Date;d.setTime(+d+a*864e5)}return document.cookie=[i(n),"=",o(t),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}var s=n?undefined:{};var p=document.cookie?document.cookie.split("; "):[];for(var m=0,l=p.length;m<l;m++){var v=p[m].split("=");var x=r(v.shift());var k=v.join("=");if(n&&n===x){s=u(k,t);break}if(!n&&(k=u(k))!==undefined){s[x]=k}}return s};f.defaults={};e.removeCookie=function(n,i){if(e.cookie(n)===undefined){return false}e.cookie(n,"",e.extend({},i,{expires:-1}));return!e.cookie(n)}});



if(!this.JSON){JSON={}}(function(){function f(t){return t<10?"0"+t:t}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(t){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapeable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(t){escapeable.lastIndex=0;return'"'+t.replace(escapeable,function(t){var e=meta[t];if(typeof e==="string"){return e}return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"'}function str(t,e){var n,r,f,u,o=gap,i,a=e[t];if(a&&typeof a==="object"&&typeof a.toJSON==="function"){a=a.toJSON(t)}if(typeof rep==="function"){a=rep.call(e,t,a)}switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a){return"null"}gap+=indent;i=[];if(typeof a.length==="number"&&!a.propertyIsEnumerable("length")){u=a.length;for(n=0;n<u;n+=1){i[n]=str(n,a)||"null"}f=i.length===0?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+o+"]":"["+i.join(",")+"]";gap=o;return f}if(rep&&typeof rep==="object"){u=rep.length;for(n=0;n<u;n+=1){r=rep[n];if(typeof r==="string"){f=str(r,a);if(f){i.push(quote(r)+(gap?": ":":")+f)}}}}else{for(r in a){if(Object.hasOwnProperty.call(a,r)){f=str(r,a);if(f){i.push(quote(r)+(gap?": ":":")+f)}}}}f=i.length===0?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+o+"}":"{"+i.join(",")+"}";gap=o;return f}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(t,e,n){var r;gap="";indent="";if(typeof n==="number"){for(r=0;r<n;r+=1){indent+=" "}}else if(typeof n==="string"){indent=n}rep=e;if(e&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":t})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(t,e){var n,r,f=t[e];if(f&&typeof f==="object"){for(n in f){if(Object.hasOwnProperty.call(f,n)){r=walk(f,n);if(r!==undefined){f[n]=r}else{delete f[n]}}}}return reviver.call(t,e,f)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})();(function(t){t.toJSON=function(t){return JSON.stringify(t)};if(!t.parseJSON)t.parseJSON=function(t){return JSON.parse(t)}})(jQuery);



(function(e){"use strict";function t(e){var t={};if(e.selectionStart===undefined){e.focus();var i=document.selection.createRange();t.length=i.text.length;i.moveStart("character",-e.value.length);t.end=i.text.length;t.start=t.end-t.length}else{t.start=e.selectionStart;t.end=e.selectionEnd;t.length=t.end-t.start}return t}function i(e,t,i){if(e.selectionStart===undefined){e.focus();var n=e.createTextRange();n.collapse(true);n.moveEnd("character",i);n.moveStart("character",t);n.select()}else{e.selectionStart=t;e.selectionEnd=i}}function n(t,i){e.each(i,function(e,n){if(typeof n==="function"){i[e]=n(t,i,e)}else if(typeof t.autoNumeric[n]==="function"){i[e]=t.autoNumeric[n](t,i,e)}})}function r(e,t){if(typeof e[t]==="string"){e[t]*=1}}function a(e,t){n(e,t);t.oEvent=null;t.tagList=["B","CAPTION","CITE","CODE","DD","DEL","DIV","DFN","DT","EM","H1","H2","H3","H4","H5","H6","INS","KDB","LABEL","LI","OUTPUT","P","Q","S","SAMPLE","SPAN","STRONG","TD","TH","U","VAR"];var i=t.vMax.toString().split("."),a=!t.vMin&&t.vMin!==0?[]:t.vMin.toString().split(".");r(t,"vMax");r(t,"vMin");r(t,"mDec");t.mDec=t.mRound==="CHF"?"2":t.mDec;t.allowLeading=true;t.aNeg=t.vMin<0?"-":"";i[0]=i[0].replace("-","");a[0]=a[0].replace("-","");t.mInt=Math.max(i[0].length,a[0].length,1);if(t.mDec===null){var s=0,o=0;if(i[1]){s=i[1].length}if(a[1]){o=a[1].length}t.mDec=Math.max(s,o)}if(t.altDec===null&&t.mDec>0){if(t.aDec==="."&&t.aSep!==","){t.altDec=","}else if(t.aDec===","&&t.aSep!=="."){t.altDec="."}}var u=t.aNeg?"([-\\"+t.aNeg+"]?)":"(-?)";t.aNegRegAutoStrip=u;t.skipFirstAutoStrip=new RegExp(u+"[^-"+(t.aNeg?"\\"+t.aNeg:"")+"\\"+t.aDec+"\\d]"+".*?(\\d|\\"+t.aDec+"\\d)");t.skipLastAutoStrip=new RegExp("(\\d\\"+t.aDec+"?)[^\\"+t.aDec+"\\d]\\D*$");var l="-"+t.aNum+"\\"+t.aDec;t.allowedAutoStrip=new RegExp("[^"+l+"]","gi");t.numRegAutoStrip=new RegExp(u+"(?:\\"+t.aDec+"?(\\d+\\"+t.aDec+"\\d+)|(\\d*(?:\\"+t.aDec+"\\d*)?))");return t}function s(e,t,i){if(t.aSign){while(e.indexOf(t.aSign)>-1){e=e.replace(t.aSign,"")}}e=e.replace(t.skipFirstAutoStrip,"$1$2");e=e.replace(t.skipLastAutoStrip,"$1");e=e.replace(t.allowedAutoStrip,"");if(t.altDec){e=e.replace(t.altDec,t.aDec)}var n=e.match(t.numRegAutoStrip);e=n?[n[1],n[2],n[3]].join(""):"";if((t.lZero==="allow"||t.lZero==="keep")&&i!=="strip"){var r=[],a="";r=e.split(t.aDec);if(r[0].indexOf("-")!==-1){a="-";r[0]=r[0].replace("-","")}if(r[0].length>t.mInt&&r[0].charAt(0)==="0"){r[0]=r[0].slice(1)}e=a+r.join(t.aDec)}if(i&&t.lZero==="deny"||i&&t.lZero==="allow"&&t.allowLeading===false){var s="^"+t.aNegRegAutoStrip+"0*(\\d"+(i==="leading"?")":"|$)");s=new RegExp(s);e=e.replace(s,"$1$2")}return e}function o(e,t,i){t=t.split(",");if(i==="set"||i==="focusout"){e=e.replace("-","");e=t[0]+e+t[1]}else if((i==="get"||i==="focusin"||i==="pageLoad")&&e.charAt(0)===t[0]){e=e.replace(t[0],"-");e=e.replace(t[1],"")}return e}function u(e,t,i){if(t&&i){var n=e.split(t);if(n[1]&&n[1].length>i){if(i>0){n[1]=n[1].substring(0,i);e=n.join(t)}else{e=n[0]}}}return e}function l(e,t,i){if(t&&t!=="."){e=e.replace(t,".")}if(i&&i!=="-"){e=e.replace(i,"-")}if(!e.match(/\d/)){e+="0"}return e}function f(e,t){if(e){var i=+e;if(i<1e-6&&i>-1){e=+e;if(e<1e-6&&e>0){e=(e+10).toString();e=e.substring(1)}if(e<0&&e>-1){e=(e-10).toString();e="-"+e.substring(2)}e=e.toString()}else{var n=e.split(".");if(n[1]!==undefined){if(+n[1]===0){e=n[0]}else{n[1]=n[1].replace(/0*$/,"");e=n.join(".")}}}}return t.lZero==="keep"?e:e.replace(/^0*(\d)/,"$1")}function c(e,t,i){if(i&&i!=="-"){e=e.replace("-",i)}if(t&&t!=="."){e=e.replace(".",t)}return e}function h(t,i){t=s(t,i);t=u(t,i.aDec,i.mDec);t=l(t,i.aDec,i.aNeg);var n=+t;if(i.oEvent==="set"&&(n<i.vMin||n>i.vMax)){e.error("The value ("+n+") from the 'set' method falls outside of the vMin / vMax range")}return n>=i.vMin&&n<=i.vMax}function p(e,t,i){if(e===""||e===t.aNeg){if(t.wEmpty==="zero"){return e+"0"}if(t.wEmpty==="sign"||i){return e+t.aSign}return e}return null}function g(e,t){e=s(e,t);var i=e.replace(",","."),n=p(e,t,true);if(n!==null){return n}var r="";if(t.dGroup===2){r=/(\d)((\d)(\d{2}?)+)$/}else if(t.dGroup===4){r=/(\d)((\d{4}?)+)$/}else{r=/(\d)((\d{3}?)+)$/}var a=e.split(t.aDec);if(t.altDec&&a.length===1){a=e.split(t.altDec)}var u=a[0];if(t.aSep){while(r.test(u)){u=u.replace(r,"$1"+t.aSep+"$2")}}if(t.mDec!==0&&a.length>1){if(a[1].length>t.mDec){a[1]=a[1].substring(0,t.mDec)}e=u+t.aDec+a[1]}else{e=u}if(t.aSign){var l=e.indexOf(t.aNeg)!==-1;e=e.replace(t.aNeg,"");e=t.pSign==="p"?t.aSign+e:e+t.aSign;if(l){e=t.aNeg+e}}if(t.oEvent==="set"&&i<0&&t.nBracket!==null){e=o(e,t.nBracket,t.oEvent)}return e}function d(e,t){e=e===""?"0":e.toString();r(t,"mDec");if(t.mRound==="CHF"){e=(Math.round(e*20)/20).toString()}var i="",n=0,a="",s=typeof t.aPad==="boolean"||t.aPad===null?t.aPad?t.mDec:0:+t.aPad;var o=function(e){var t=s===0?/(\.(?:\d*[1-9])?)0*$/:s===1?/(\.\d(?:\d*[1-9])?)0*$/:new RegExp("(\\.\\d{"+s+"}(?:\\d*[1-9])?)0*$");e=e.replace(t,"$1");if(s===0){e=e.replace(/\.$/,"")}return e};if(e.charAt(0)==="-"){a="-";e=e.replace("-","")}if(!e.match(/^\d/)){e="0"+e}if(a==="-"&&+e===0){a=""}if(+e>0&&t.lZero!=="keep"||e.length>0&&t.lZero==="allow"){e=e.replace(/^0*(\d)/,"$1")}var u=e.lastIndexOf("."),l=u===-1?e.length-1:u,f=e.length-1-l;if(f<=t.mDec){i=e;if(f<s){if(u===-1){i+="."}var c="000000";while(f<s){c=c.substring(0,s-f);i+=c;f+=c.length}}else if(f>s){i=o(i)}else if(f===0&&s===0){i=i.replace(/\.$/,"")}if(t.mRound!=="CHF"){return+i===0?i:a+i}if(t.mRound==="CHF"){u=i.lastIndexOf(".");e=i}}var h=u+t.mDec,p=+e.charAt(h+1),g=e.substring(0,h+1).split(""),d=e.charAt(h)==="."?e.charAt(h-1)%2:e.charAt(h)%2,m=true;d=d===0&&e.substring(h+2,e.length)>0?1:0;if(p>4&&t.mRound==="S"||p>4&&t.mRound==="A"&&a===""||p>5&&t.mRound==="A"&&a==="-"||p>5&&t.mRound==="s"||p>5&&t.mRound==="a"&&a===""||p>4&&t.mRound==="a"&&a==="-"||p>5&&t.mRound==="B"||p===5&&t.mRound==="B"&&d===1||p>0&&t.mRound==="C"&&a===""||p>0&&t.mRound==="F"&&a==="-"||p>0&&t.mRound==="U"||t.mRound==="CHF"){for(n=g.length-1;n>=0;n-=1){if(g[n]!=="."){if(t.mRound==="CHF"&&g[n]<=2&&m){g[n]=0;m=false;break}if(t.mRound==="CHF"&&g[n]<=7&&m){g[n]=5;m=false;break}if(t.mRound==="CHF"&&m){g[n]=10;m=false}else{g[n]=+g[n]+1}if(g[n]<10){break}if(n>0){g[n]="0"}}}}g=g.slice(0,h+1);i=o(g.join(""));return+i===0?i:a+i}function m(t,i){this.settings=i;this.that=t;this.$that=e(t);this.formatted=false;this.settingsClone=a(this.$that,this.settings);this.value=t.value}m.prototype={init:function(e){this.value=this.that.value;this.settingsClone=a(this.$that,this.settings);this.ctrlKey=e.ctrlKey;this.cmdKey=e.metaKey;this.shiftKey=e.shiftKey;this.selection=t(this.that);if(e.type==="keydown"||e.type==="keyup"){this.kdCode=e.keyCode}this.which=e.which;this.processed=false;this.formatted=false},setSelection:function(e,t,n){e=Math.max(e,0);t=Math.min(t,this.that.value.length);this.selection={start:e,end:t,length:t-e};if(n===undefined||n){i(this.that,e,t)}},setPosition:function(e,t){this.setSelection(e,e,t)},getBeforeAfter:function(){var e=this.value,t=e.substring(0,this.selection.start),i=e.substring(this.selection.end,e.length);return[t,i]},getBeforeAfterStriped:function(){var e=this.getBeforeAfter();e[0]=s(e[0],this.settingsClone);e[1]=s(e[1],this.settingsClone);return e},normalizeParts:function(e,t){var i=this.settingsClone;t=s(t,i);var n=t.match(/^\d/)?true:"leading";e=s(e,i,n);if((e===""||e===i.aNeg)&&i.lZero==="deny"){if(t>""){t=t.replace(/^0*(\d)/,"$1")}}var r=e+t;if(i.aDec){var a=r.match(new RegExp("^"+i.aNegRegAutoStrip+"\\"+i.aDec));if(a){e=e.replace(a[1],a[1]+"0");r=e+t}}if(i.wEmpty==="zero"&&(r===i.aNeg||r==="")){e+="0"}return[e,t]},setValueParts:function(e,t){var i=this.settingsClone,n=this.normalizeParts(e,t),r=n.join(""),a=n[0].length;if(h(r,i)){r=u(r,i.aDec,i.mDec);if(a>r.length){a=r.length}this.value=r;this.setPosition(a,false);return true}return false},signPosition:function(){var e=this.settingsClone,t=e.aSign,i=this.that;if(t){var n=t.length;if(e.pSign==="p"){var r=e.aNeg&&i.value&&i.value.charAt(0)===e.aNeg;return r?[1,n+1]:[0,n]}var a=i.value.length;return[a-n,a]}return[1e3,-1]},expandSelectionOnSign:function(e){var t=this.signPosition(),i=this.selection;if(i.start<t[1]&&i.end>t[0]){if((i.start<t[0]||i.end>t[1])&&this.value.substring(Math.max(i.start,t[0]),Math.min(i.end,t[1])).match(/^\s*$/)){if(i.start<t[0]){this.setSelection(i.start,t[0],e)}else{this.setSelection(t[1],i.end,e)}}else{this.setSelection(Math.min(i.start,t[0]),Math.max(i.end,t[1]),e)}}},checkPaste:function(){if(this.valuePartsBeforePaste!==undefined){var e=this.getBeforeAfter(),t=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste;e[0]=e[0].substr(0,t[0].length)+s(e[0].substr(t[0].length),this.settingsClone);if(!this.setValueParts(e[0],e[1])){this.value=t.join("");this.setPosition(t[0].length,false)}}},skipAllways:function(e){var t=this.kdCode,i=this.which,n=this.ctrlKey,r=this.cmdKey,a=this.shiftKey;if((n||r)&&e.type==="keyup"&&this.valuePartsBeforePaste!==undefined||a&&t===45){this.checkPaste();return false}if(t>=112&&t<=123||t>=91&&t<=93||t>=9&&t<=31||t<8&&(i===0||i===t)||t===144||t===145||t===45){return true}if((n||r)&&t===65){return true}if((n||r)&&(t===67||t===86||t===88)){if(e.type==="keydown"){this.expandSelectionOnSign()}if(t===86||t===45){if(e.type==="keydown"||e.type==="keypress"){if(this.valuePartsBeforePaste===undefined){this.valuePartsBeforePaste=this.getBeforeAfter()}}else{this.checkPaste()}}return e.type==="keydown"||e.type==="keypress"||t===67}if(n||r){return true}if(t===37||t===39){var s=this.settingsClone.aSep,o=this.selection.start,u=this.that.value;if(e.type==="keydown"&&s&&!this.shiftKey){if(t===37&&u.charAt(o-2)===s){this.setPosition(o-1)}else if(t===39&&u.charAt(o+1)===s){this.setPosition(o+1)}}return true}if(t>=34&&t<=40){return true}return false},processAllways:function(){var e;if(this.kdCode===8||this.kdCode===46){if(!this.selection.length){e=this.getBeforeAfterStriped();if(this.kdCode===8){e[0]=e[0].substring(0,e[0].length-1)}else{e[1]=e[1].substring(1,e[1].length)}this.setValueParts(e[0],e[1])}else{this.expandSelectionOnSign(false);e=this.getBeforeAfterStriped();this.setValueParts(e[0],e[1])}return true}return false},processKeypress:function(){var e=this.settingsClone,t=String.fromCharCode(this.which),i=this.getBeforeAfterStriped(),n=i[0],r=i[1];if(t===e.aDec||e.altDec&&t===e.altDec||(t==="."||t===",")&&this.kdCode===110){if(!e.mDec||!e.aDec){return true}if(e.aNeg&&r.indexOf(e.aNeg)>-1){return true}if(n.indexOf(e.aDec)>-1){return true}if(r.indexOf(e.aDec)>0){return true}if(r.indexOf(e.aDec)===0){r=r.substr(1)}this.setValueParts(n+e.aDec,r);return true}if(t==="-"||t==="+"){if(!e.aNeg){return true}if(n===""&&r.indexOf(e.aNeg)>-1){n=e.aNeg;r=r.substring(1,r.length)}if(n.charAt(0)===e.aNeg){n=n.substring(1,n.length)}else{n=t==="-"?e.aNeg+n:n}this.setValueParts(n,r);return true}if(t>="0"&&t<="9"){if(e.aNeg&&n===""&&r.indexOf(e.aNeg)>-1){n=e.aNeg;r=r.substring(1,r.length)}if(e.vMax<=0&&e.vMin<e.vMax&&this.value.indexOf(e.aNeg)===-1&&t!=="0"){n=e.aNeg+n}this.setValueParts(n+t,r);return true}return true},formatQuick:function(){var e=this.settingsClone,t=this.getBeforeAfterStriped(),i=this.value;if((e.aSep===""||e.aSep!==""&&i.indexOf(e.aSep)===-1)&&(e.aSign===""||e.aSign!==""&&i.indexOf(e.aSign)===-1)){var n=[],r="";n=i.split(e.aDec);if(n[0].indexOf("-")>-1){r="-";n[0]=n[0].replace("-","");t[0]=t[0].replace("-","")}if(n[0].length>e.mInt&&t[0].charAt(0)==="0"){t[0]=t[0].slice(1)}t[0]=r+t[0]}var a=g(this.value,this.settingsClone),s=a.length;if(a){var o=t[0].split(""),u=0;for(u;u<o.length;u+=1){if(!o[u].match("\\d")){o[u]="\\"+o[u]}}var l=new RegExp("^.*?"+o.join(".*?"));var f=a.match(l);if(f){s=f[0].length;if((s===0&&a.charAt(0)!==e.aNeg||s===1&&a.charAt(0)===e.aNeg)&&e.aSign&&e.pSign==="p"){s=this.settingsClone.aSign.length+(a.charAt(0)==="-"?1:0)}}else if(e.aSign&&e.pSign==="s"){s-=e.aSign.length}}this.that.value=a;this.setPosition(s);this.formatted=true}};function v(t){if(typeof t==="string"){t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]");t="#"+t.replace(/(:|\.)/g,"\\$1")}return e(t)}function y(e,t,i){var n=e.data("autoNumeric");if(!n){n={};e.data("autoNumeric",n)}var r=n.holder;if(r===undefined&&t||i){r=new m(e.get(0),t);n.holder=r}return r}var S={init:function(t){return this.each(function(){var n=e(this),r=n.data("autoNumeric"),a=n.data();if(typeof r!=="object"){var u={aNum:"0123456789",aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"9999999999999.99",vMin:"0.00",mDec:null,mRound:"S",aPad:true,nBracket:null,wEmpty:"empty",lZero:"allow",aForm:true,onSomeEvent:function(){}};r=e.extend({},u,a,t);if(r.aDec===r.aSep){e.error("autoNumeric will not function properly when the decimal character aDec: '"+r.aDec+"' and thousand separator aSep: '"+r.aSep+"' are the same character");return this}n.data("autoNumeric",r)}else{return this}r.runOnce=false;var f=y(n,r);if(e.inArray(n.prop("tagName"),r.tagList)===-1&&n.prop("tagName")!=="INPUT"){e.error("The <"+n.prop("tagName")+"> is not supported by autoNumeric()");return this}if(r.runOnce===false&&r.aForm){if(n.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")){var m=true;if(n[0].value===""&&r.wEmpty==="empty"){n[0].value="";m=false}if(n[0].value===""&&r.wEmpty==="sign"){n[0].value=r.aSign;m=false}if(m){n.autoNumeric("set",n.val())}}if(e.inArray(n.prop("tagName"),r.tagList)!==-1&&n.text()!==""){n.autoNumeric("set",n.text())}}r.runOnce=true;if(n.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")){n.on("keydown.autoNumeric",function(t){f=y(n);if(f.settings.aDec===f.settings.aSep){e.error("autoNumeric will not function properly when the decimal character aDec: '"+f.settings.aDec+"' and thousand separator aSep: '"+f.settings.aSep+"' are the same character");return this}if(f.that.readOnly){f.processed=true;return true}f.init(t);f.settings.oEvent="keydown";if(f.skipAllways(t)){f.processed=true;return true}if(f.processAllways()){f.processed=true;f.formatQuick();t.preventDefault();return false}f.formatted=false;return true});n.on("keypress.autoNumeric",function(e){var t=y(n),i=t.processed;t.init(e);t.settings.oEvent="keypress";if(t.skipAllways(e)){return true}if(i){e.preventDefault();return false}if(t.processAllways()||t.processKeypress()){t.formatQuick();e.preventDefault();return false}t.formatted=false});n.on("keyup.autoNumeric",function(e){var t=y(n);t.init(e);t.settings.oEvent="keyup";var r=t.skipAllways(e);t.kdCode=0;delete t.valuePartsBeforePaste;if(n[0].value===t.settings.aSign){if(t.settings.pSign==="s"){i(this,0,0)}else{i(this,t.settings.aSign.length,t.settings.aSign.length)}}if(r){return true}if(this.value===""){return true}if(!t.formatted){t.formatQuick()}});n.on("focusin.autoNumeric",function(){var e=y(n);e.settingsClone.oEvent="focusin";if(e.settingsClone.nBracket!==null){var t=n.val();n.val(o(t,e.settingsClone.nBracket,e.settingsClone.oEvent))}e.inVal=n.val();var r=p(e.inVal,e.settingsClone,true);if(r!==null){n.val(r);if(e.settings.pSign==="s"){i(this,0,0)}else{i(this,e.settings.aSign.length,e.settings.aSign.length)}}});n.on("focusout.autoNumeric",function(){var e=y(n),t=e.settingsClone,i=n.val(),r=i;e.settingsClone.oEvent="focusout";var a="";if(t.lZero==="allow"){t.allowLeading=false;a="leading"}if(i!==""){i=s(i,t,a);if(p(i,t)===null&&h(i,t,n[0])){i=l(i,t.aDec,t.aNeg);i=d(i,t);i=c(i,t.aDec,t.aNeg)}else{i=""}}var u=p(i,t,false);if(u===null){u=g(i,t)}if(u!==r){n.val(u)}if(u!==e.inVal){n.change();delete e.inVal}if(t.nBracket!==null&&n.autoNumeric("get")<0){e.settingsClone.oEvent="focusout";n.val(o(n.val(),t.nBracket,t.oEvent))}})}})},destroy:function(){return e(this).each(function(){var t=e(this);t.off(".autoNumeric");t.removeData("autoNumeric")})},update:function(t){return e(this).each(function(){var i=v(e(this)),n=i.data("autoNumeric");if(typeof n!=="object"){e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method");return this}var r=i.autoNumeric("get");n=e.extend(n,t);y(i,n,true);if(n.aDec===n.aSep){e.error("autoNumeric will not function properly when the decimal character aDec: '"+n.aDec+"' and thousand separator aSep: '"+n.aSep+"' are the same character");return this}i.data("autoNumeric",n);if(i.val()!==""||i.text()!==""){return i.autoNumeric("set",r)}return})},set:function(t){return e(this).each(function(){var i=v(e(this)),n=i.data("autoNumeric"),r=t.toString(),a=t.toString();if(typeof n!=="object"){e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method");return this}if(a!==i.attr("value")&&i.prop("tagName")==="INPUT"&&n.runOnce===false){r=n.nBracket!==null?o(i.val(),n.nBracket,"pageLoad"):r;r=s(r,n)}if((a===i.attr("value")||a===i.text())&&n.runOnce===false){r=r.replace(",",".")}if(!e.isNumeric(+r)){return""}r=f(r,n);n.oEvent="set";r.toString();if(r!==""){r=d(r,n)}r=c(r,n.aDec,n.aNeg);if(!h(r,n)){r=d("",n)}r=g(r,n);if(i.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")){return i.val(r)}if(e.inArray(i.prop("tagName"),n.tagList)!==-1){return i.text(r)}e.error("The <"+i.prop("tagName")+"> is not supported by autoNumeric()");return false})},get:function(){var t=v(e(this)),i=t.data("autoNumeric");if(typeof i!=="object"){e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method");return this}i.oEvent="get";var n="";if(t.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")){n=t.eq(0).val()}else if(e.inArray(t.prop("tagName"),i.tagList)!==-1){n=t.eq(0).text()}else{e.error("The <"+t.prop("tagName")+"> is not supported by autoNumeric()");return false}if(n===""&&i.wEmpty==="empty"||n===i.aSign&&(i.wEmpty==="sign"||i.wEmpty==="empty")){return""}if(i.nBracket!==null&&n!==""){n=o(n,i.nBracket,i.oEvent)}if(i.runOnce||i.aForm===false){n=s(n,i)}n=l(n,i.aDec,i.aNeg);if(+n===0&&i.lZero!=="keep"){n="0"}if(i.lZero==="keep"){return n}n=f(n,i);return n},getString:function(){var t=false,i=v(e(this)),n=i.serialize(),r=n.split("&"),a=0;for(a;a<r.length;a+=1){var s=r[a].split("=");var o=e('*[name="'+decodeURIComponent(s[0])+'"]').data("autoNumeric");if(typeof o==="object"){if(s[1]!==null&&e('*[name="'+decodeURIComponent(s[0])+'"]').data("autoNumeric")!==undefined){s[1]=e('input[name="'+decodeURIComponent(s[0])+'"]').autoNumeric("get");r[a]=s.join("=");t=true}}}if(t===true){return r.join("&")}e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method");return this},getArray:function(){var t=false,i=v(e(this)),n=i.serializeArray();e.each(n,function(i,n){var r=e('*[name="'+decodeURIComponent(n.name)+'"]').data("autoNumeric");if(typeof r==="object"){if(n.value!==""&&e('*[name="'+decodeURIComponent(n.name)+'"]').data("autoNumeric")!==undefined){n.value=e('input[name="'+decodeURIComponent(n.name)+'"]').autoNumeric("get").toString()}t=true}});if(t===true){return n}e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getArray' method");return this},getSettings:function(){var t=v(e(this));return t.eq(0).data("autoNumeric")}};e.fn.autoNumeric=function(t){if(S[t]){return S[t].apply(this,Array.prototype.slice.call(arguments,1))}if(typeof t==="object"||!t){return S.init.apply(this,arguments)}e.error('Method "'+t+'" is not supported by autoNumeric()')}})(jQuery);



(function(e,t,i){var o={html:false,photo:false,iframe:false,inline:false,transition:"elastic",speed:300,fadeOut:300,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,href:false,title:false,rel:false,opacity:.9,preloading:true,className:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:undefined,closeButton:true,fastIframe:true,open:false,reposition:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,retinaImage:false,retinaUrl:false,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:true,trapFocus:true,onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false},n="colorbox",r="cbox",l=r+"Element",s=r+"_open",a=r+"_load",f=r+"_complete",h=r+"_cleanup",d=r+"_closed",c=r+"_purge",u,p,m,w,g,v,y,x,b,T,C,k,E,H,W,F,L,S,M,R,I=e("<a/>"),K,P,B,O,_,D,A,N,z,j,U,$,q,G="div",Q,J=0,V={},X;function Y(i,o,n){var l=t.createElement(i);if(o){l.id=r+o}if(n){l.style.cssText=n}return e(l)}function Z(){return i.innerHeight?i.innerHeight:e(i).height()}function et(e){var t=b.length,i=(A+e)%t;return i<0?t+i:i}function tt(e,t){return Math.round((/%/.test(e)?(t==="x"?T.width():Z())/100:1)*parseInt(e,10))}function it(e,t){return e.photo||e.photoRegex.test(t)}function ot(e,t){return e.retinaUrl&&i.devicePixelRatio>1?t.replace(e.photoRegex,e.retinaSuffix):t}function nt(e){if("contains"in p[0]&&!p[0].contains(e.target)){e.stopPropagation();p.focus()}}function rt(){var t,i=e.data(D,n);if(i==null){K=e.extend({},o);if(console&&console.log){console.log("Error: cboxElement missing settings object")}}else{K=e.extend({},i)}for(t in K){if(e.isFunction(K[t])&&t.slice(0,2)!=="on"){K[t]=K[t].call(D)}}K.rel=K.rel||D.rel||e(D).data("rel")||"nofollow";K.href=K.href||e(D).attr("href");K.title=K.title||D.title;if(typeof K.href==="string"){K.href=e.trim(K.href)}}function lt(i,o){e(t).trigger(i);I.triggerHandler(i);if(e.isFunction(o)){o.call(D)}}var st=function(){var e,t=r+"Slideshow_",i="click."+r,o;function n(){clearTimeout(o)}function l(){if(K.loop||b[A+1]){n();o=setTimeout(q.next,K.slideshowSpeed)}}function s(){F.html(K.slideshowStop).unbind(i).one(i,d);I.bind(f,l).bind(a,n);p.removeClass(t+"off").addClass(t+"on")}function d(){n();I.unbind(f,l).unbind(a,n);F.html(K.slideshowStart).unbind(i).one(i,function(){q.next();s()});p.removeClass(t+"on").addClass(t+"off")}function c(){e=false;F.hide();n();I.unbind(f,l).unbind(a,n);p.removeClass(t+"off "+t+"on")}return function(){if(e){if(!K.slideshow){I.unbind(h,c);c()}}else{if(K.slideshow&&b[1]){e=true;I.one(h,c);if(K.slideshowAuto){s()}else{d()}F.show()}}}}();function at(i){if(!U){D=i;rt();b=e(D);A=0;if(K.rel!=="nofollow"){b=e("."+l).filter(function(){var t=e.data(this,n),i;if(t){i=e(this).data("rel")||t.rel||this.rel}return i===K.rel});A=b.index(D);if(A===-1){b=b.add(D);A=b.length-1}}u.css({opacity:parseFloat(K.opacity),cursor:K.overlayClose?"pointer":"auto",visibility:"visible"}).show();if(Q){p.add(u).removeClass(Q)}if(K.className){p.add(u).addClass(K.className)}Q=K.className;if(K.closeButton){M.html(K.close).appendTo(w)}else{M.appendTo("<div/>")}if(!z){z=j=true;p.css({visibility:"hidden",display:"block"});C=Y(G,"LoadedContent","width:0; height:0; overflow:hidden");w.css({width:"",height:""}).append(C);P=g.height()+x.height()+w.outerHeight(true)-w.height();B=v.width()+y.width()+w.outerWidth(true)-w.width();O=C.outerHeight(true);_=C.outerWidth(true);K.w=tt(K.initialWidth,"x");K.h=tt(K.initialHeight,"y");C.css({width:"",height:K.h});q.position();lt(s,K.onOpen);R.add(H).hide();p.focus();if(K.trapFocus){if(t.addEventListener){t.addEventListener("focus",nt,true);I.one(d,function(){t.removeEventListener("focus",nt,true)})}}if(K.returnFocus){I.one(d,function(){e(D).focus()})}}dt()}}function ft(){if(!p&&t.body){X=false;T=e(i);p=Y(G).attr({id:n,"class":e.support.opacity===false?r+"IE":"",role:"dialog",tabindex:"-1"}).hide();u=Y(G,"Overlay").hide();E=e([Y(G,"LoadingOverlay")[0],Y(G,"LoadingGraphic")[0]]);m=Y(G,"Wrapper");w=Y(G,"Content").append(H=Y(G,"Title"),W=Y(G,"Current"),S=e('<button type="button"/>').attr({id:r+"Previous"}),L=e('<button type="button"/>').attr({id:r+"Next"}),F=Y("button","Slideshow"),E);M=e('<button type="button"/>').attr({id:r+"Close"});m.append(Y(G).append(Y(G,"TopLeft"),g=Y(G,"TopCenter"),Y(G,"TopRight")),Y(G,false,"clear:left").append(v=Y(G,"MiddleLeft"),w,y=Y(G,"MiddleRight")),Y(G,false,"clear:left").append(Y(G,"BottomLeft"),x=Y(G,"BottomCenter"),Y(G,"BottomRight"))).find("div div").css({"float":"left"});k=Y(G,false,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;");R=L.add(S).add(W).add(F);e(t.body).append(u,p.append(m,k))}}function ht(){function i(e){if(!(e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)){e.preventDefault();at(this)}}if(p){if(!X){X=true;L.click(function(){q.next()});S.click(function(){q.prev()});M.click(function(){q.close()});u.click(function(){if(K.overlayClose){q.close()}});e(t).bind("keydown."+r,function(e){var t=e.keyCode;if(z&&K.escKey&&t===27){e.preventDefault();q.close()}if(z&&K.arrowKey&&b[1]&&!e.altKey){if(t===37){e.preventDefault();S.click()}else if(t===39){e.preventDefault();L.click()}}});if(e.isFunction(e.fn.on)){e(t).on("click."+r,"."+l,i)}else{e("."+l).live("click."+r,i)}}return true}return false}if(e.colorbox){return}e(ft);q=e.fn[n]=e[n]=function(t,i){var r=this;t=t||{};ft();if(ht()){if(e.isFunction(r)){r=e("<a/>");t.open=true}else if(!r[0]){return r}if(i){t.onComplete=i}r.each(function(){e.data(this,n,e.extend({},e.data(this,n)||o,t))}).addClass(l);if(e.isFunction(t.open)&&t.open.call(r)||t.open){at(r[0])}}return r};q.position=function(t,i){var o,n=0,l=0,s=p.offset(),a,f;T.unbind("resize."+r);p.css({top:-9e4,left:-9e4});a=T.scrollTop();f=T.scrollLeft();if(K.fixed){s.top-=a;s.left-=f;p.css({position:"fixed"})}else{n=a;l=f;p.css({position:"absolute"})}if(K.right!==false){l+=Math.max(T.width()-K.w-_-B-tt(K.right,"x"),0)}else if(K.left!==false){l+=tt(K.left,"x")}else{l+=Math.round(Math.max(T.width()-K.w-_-B,0)/2)}if(K.bottom!==false){n+=Math.max(Z()-K.h-O-P-tt(K.bottom,"y"),0)}else if(K.top!==false){n+=tt(K.top,"y")}else{n+=Math.round(Math.max(Z()-K.h-O-P,0)/2)}p.css({top:s.top,left:s.left,visibility:"visible"});m[0].style.width=m[0].style.height="9999px";function h(){g[0].style.width=x[0].style.width=w[0].style.width=parseInt(p[0].style.width,10)-B+"px";w[0].style.height=v[0].style.height=y[0].style.height=parseInt(p[0].style.height,10)-P+"px"}o={width:K.w+_+B,height:K.h+O+P,top:n,left:l};if(t){var d=0;e.each(o,function(e){if(o[e]!==V[e]){d=t;return}});t=d}V=o;if(!t){p.css(o)}p.dequeue().animate(o,{duration:t||0,complete:function(){h();j=false;m[0].style.width=K.w+_+B+"px";m[0].style.height=K.h+O+P+"px";if(K.reposition){setTimeout(function(){T.bind("resize."+r,q.position)},1)}if(i){i()}},step:h})};q.resize=function(e){var t;if(z){e=e||{};if(e.width){K.w=tt(e.width,"x")-_-B}if(e.innerWidth){K.w=tt(e.innerWidth,"x")}C.css({width:K.w});if(e.height){K.h=tt(e.height,"y")-O-P}if(e.innerHeight){K.h=tt(e.innerHeight,"y")}if(!e.innerHeight&&!e.height){t=C.scrollTop();C.css({height:"auto"});K.h=C.height()}C.css({height:K.h});if(t){C.scrollTop(t)}q.position(K.transition==="none"?0:K.speed)}};q.prep=function(i){if(!z){return}var o,l=K.transition==="none"?0:K.speed;C.empty().remove();C=Y(G,"LoadedContent").append(i);function s(){K.w=K.w||C.width();K.w=K.mw&&K.mw<K.w?K.mw:K.w;return K.w}function a(){K.h=K.h||C.height();K.h=K.mh&&K.mh<K.h?K.mh:K.h;return K.h}C.hide().appendTo(k.show()).css({width:s(),overflow:K.scrolling?"auto":"hidden"}).css({height:a()}).prependTo(w);k.hide();e(N).css({"float":"none"});o=function(){var i=b.length,o,s="frameBorder",a="allowTransparency",h;if(!z){return}function d(){if(e.support.opacity===false){p[0].style.removeAttribute("filter")}}h=function(){clearTimeout($);E.hide();lt(f,K.onComplete)};H.html(K.title).add(C).show();if(i>1){if(typeof K.current==="string"){W.html(K.current.replace("{current}",A+1).replace("{total}",i)).show()}L[K.loop||A<i-1?"show":"hide"]().html(K.next);S[K.loop||A?"show":"hide"]().html(K.previous);st();if(K.preloading){e.each([et(-1),et(1)],function(){var i,o,r=b[this],l=e.data(r,n);if(l&&l.href){i=l.href;if(e.isFunction(i)){i=i.call(r)}}else{i=e(r).attr("href")}if(i&&it(l,i)){i=ot(l,i);o=t.createElement("img");o.src=i}})}}else{R.hide()}if(K.iframe){o=Y("iframe")[0];if(s in o){o[s]=0}if(a in o){o[a]="true"}if(!K.scrolling){o.scrolling="no"}e(o).attr({src:K.href,name:(new Date).getTime(),"class":r+"Iframe",allowFullScreen:true,webkitAllowFullScreen:true,mozallowfullscreen:true}).one("load",h).appendTo(C);I.one(c,function(){o.src="//about:blank"});if(K.fastIframe){e(o).trigger("load")}}else{h()}if(K.transition==="fade"){p.fadeTo(l,1,d)}else{d()}};if(K.transition==="fade"){p.fadeTo(l,0,function(){q.position(0,o)})}else{q.position(l,o)}};function dt(){var o,n,l=q.prep,s,f=++J;j=true;N=false;D=b[A];rt();lt(c);lt(a,K.onLoad);K.h=K.height?tt(K.height,"y")-O-P:K.innerHeight&&tt(K.innerHeight,"y");K.w=K.width?tt(K.width,"x")-_-B:K.innerWidth&&tt(K.innerWidth,"x");K.mw=K.w;K.mh=K.h;if(K.maxWidth){K.mw=tt(K.maxWidth,"x")-_-B;K.mw=K.w&&K.w<K.mw?K.w:K.mw}if(K.maxHeight){K.mh=tt(K.maxHeight,"y")-O-P;K.mh=K.h&&K.h<K.mh?K.h:K.mh}o=K.href;$=setTimeout(function(){E.show()},100);if(K.inline){s=Y(G).hide().insertBefore(e(o)[0]);I.one(c,function(){s.replaceWith(C.children())});l(e(o))}else if(K.iframe){l(" ")}else if(K.html){l(K.html)}else if(it(K,o)){o=ot(K,o);N=t.createElement("img");e(N).addClass(r+"Photo").bind("error",function(){K.title=false;l(Y(G,"Error").html(K.imgError))}).one("load",function(){var t;if(f!==J){return}e.each(["alt","longdesc","aria-describedby"],function(t,i){var o=e(D).attr(i)||e(D).attr("data-"+i);if(o){N.setAttribute(i,o)}});if(K.retinaImage&&i.devicePixelRatio>1){N.height=N.height/i.devicePixelRatio;N.width=N.width/i.devicePixelRatio}if(K.scalePhotos){n=function(){N.height-=N.height*t;N.width-=N.width*t};if(K.mw&&N.width>K.mw){t=(N.width-K.mw)/N.width;n()}if(K.mh&&N.height>K.mh){t=(N.height-K.mh)/N.height;n()}}if(K.h){N.style.marginTop=Math.max(K.mh-N.height,0)/2+"px"}if(b[1]&&(K.loop||b[A+1])){N.style.cursor="pointer";N.onclick=function(){q.next()}}N.style.width=N.width+"px";N.style.height=N.height+"px";setTimeout(function(){l(N)},1)});setTimeout(function(){N.src=o},1)}else if(o){k.load(o,K.data,function(t,i){if(f===J){l(i==="error"?Y(G,"Error").html(K.xhrError):e(this).contents())}})}}q.next=function(){if(!j&&b[1]&&(K.loop||b[A+1])){A=et(1);at(b[A])}};q.prev=function(){if(!j&&b[1]&&(K.loop||A)){A=et(-1);at(b[A])}};q.close=function(){if(z&&!U){U=true;z=false;lt(h,K.onCleanup);T.unbind("."+r);u.fadeTo(K.fadeOut||0,0);p.stop().fadeTo(K.fadeOut||0,0,function(){p.add(u).css({opacity:1,cursor:"auto"}).hide();lt(c);C.empty().remove();setTimeout(function(){U=false;lt(d,K.onClosed)},1)})}};q.remove=function(){if(!p){return}p.stop();e.colorbox.close();p.stop().remove();u.remove();U=false;p=null;e("."+l).removeData(n).removeClass(l);e(t).unbind("click."+r)};q.element=function(){return e(D)};q.settings=o})(jQuery,document,window);



(function(){var i;i=jQuery,i.widget("ui.dialogExtend",{version:"2.0.0",modes:{},options:{closable:!0,dblclick:!1,titlebar:!1,icons:{close:"ui-icon-closethick",restore:"ui-icon-newwin"},load:null,beforeRestore:null,restore:null},_create:function(){return this._state="normal",i(this.element[0]).data("ui-dialog")||i.error("jQuery.dialogExtend Error : Only jQuery UI Dialog element is accepted"),this._verifyOptions(),this._initButtons(),this._initTitleBar(),this._setState("normal"),this._on("load",function(i){return console.log("test",i)}),this._trigger("load")},_setState:function(t){return i(this.element[0]).removeClass("ui-dialog-"+this._state).addClass("ui-dialog-"+t),this._state=t},_verifyOptions:function(){var t,e,o;!this.options.dblclick||this.options.dblclick in this.modes||(i.error("jQuery.dialogExtend Error : Invalid <dblclick> value '"+this.options.dblclick+"'"),this.options.dblclick=!1),this.options.titlebar&&"none"!==(e=this.options.titlebar)&&"transparent"!==e&&(i.error("jQuery.dialogExtend Error : Invalid <titlebar> value '"+this.options.titlebar+"'"),this.options.titlebar=!1),o=[];for(t in this.modes)this["_verifyOptions_"+t]?o.push(this["_verifyOptions_"+t]()):o.push(void 0);return o},_initButtons:function(){var t,e,o,n,a,l=this;n=i(this.element[0]).dialog("widget").find(".ui-dialog-titlebar"),t=i('<div class="ui-dialog-titlebar-buttonpane"></div>').appendTo(n),t.css({position:"absolute",top:"50%",right:"0.3em","margin-top":"-10px",height:"18px"}),n.addClass("has-maximize-restore"),t.append('<a class="ui-dialog-titlebar-restore ui-corner-all ui-state-default" href="#"><span class="ui-icon '+this.options.icons.restore+'">Önceki Boyutuna Dön</span></a>').find(".ui-dialog-titlebar-restore").attr("role","button").attr("title",Q.text("Dialogs.RestoreHint")).mouseover(function(){return i(this).addClass("ui-state-hover")}).mouseout(function(){return i(this).removeClass("ui-state-hover")}).focus(function(){return i(this).addClass("ui-state-focus")}).blur(function(){return i(this).removeClass("ui-state-focus")}).end().find(".ui-dialog-titlebar-closex").toggle(this.options.closable).end().find(".ui-dialog-titlebar-restore").hide().click(function(i){return i.preventDefault(),l.restore()}).end(),a=this.modes;for(o in a)e=a[o],this._initModuleButton(o,e);return n.find("a").attr("tabindex",-1),n.dblclick(function(i){return l.options.dblclick?"normal"!==l._state?l.restore():l[l.options.dblclick]():void 0}).select(function(){return!1})},_initModuleButton:function(t,e){var o,n=this;o=i(this.element[0]).dialog("widget").find(".ui-dialog-titlebar-buttonpane");var a=o.append('<a class="ui-dialog-titlebar-'+t+' ui-corner-all ui-state-default" href="#"><span class="ui-icon '+this.options.icons[t]+'">'+t+"</span></a>").find(".ui-dialog-titlebar-"+t).attr("role","button").mouseover(function(){return i(this).addClass("ui-state-hover")}).mouseout(function(){return i(this).removeClass("ui-state-hover")}).focus(function(){return i(this).addClass("ui-state-focus")}).blur(function(){return i(this).removeClass("ui-state-focus")}).end().find(".ui-dialog-titlebar-"+t).toggle(this.options[e.option]).click(function(i){return i.preventDefault(),n[t]()}).end();return"maximize"==t&&o.find("a.ui-dialog-titlebar-maximize").attr("title",Q.text("Dialogs.MaximizeHint")).find("span").text(Q.text("Dialogs.MaximizeHint")),a},_initTitleBar:function(){var t;switch(this.options.titlebar){case!1:return 0;case"none":return i(this.element[0]).dialog("option","draggable")&&(t=i("<div />").addClass("ui-dialog-draggable-handle").css("cursor","move").height(5),i(this.element[0]).dialog("widget").prepend(t).draggable("option","handle",t)),i(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").find(".ui-dialog-title").html("&nbsp;").end().css({"background-color":"transparent","background-image":"none",border:0,position:"absolute",right:0,top:0,"z-index":9999}).end();case"transparent":return i(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").css({"background-color":"transparent","background-image":"none",border:0});default:return i.error("jQuery.dialogExtend Error : Invalid <titlebar> value '"+this.options.titlebar+"'")}},state:function(){return this._state},restore:function(){return this._trigger("beforeRestore"),this._restore(),this._setState("normal"),this._toggleButtons(),this.original_config_resizable&&this.element.closest(".ui-dialog").triggerHandler("resize"),this._trigger("restore")},_restore:function(){return"normal"!==this._state?this["_restore_"+this._state]():void 0},_saveSnapshot:function(){return"normal"===this._state?(this.original_config_resizable=i(this.element[0]).dialog("option","resizable"),this.original_config_draggable=i(this.element[0]).dialog("option","draggable"),this.original_size_height=i(this.element[0]).dialog("widget").outerHeight(),this.original_size_width=i(this.element[0]).dialog("option","width"),this.original_size_maxHeight=i(this.element[0]).dialog("option","maxHeight"),this.original_position_mode=i(this.element[0]).dialog("widget").css("position"),this.original_position_left=i(this.element[0]).dialog("widget").offset().left-i("body").scrollLeft(),this.original_position_top=i(this.element[0]).dialog("widget").offset().top-i("body").scrollTop(),this.original_titlebar_wrap=i(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").css("white-space")):void 0},_loadSnapshot:function(){return{config:{resizable:this.original_config_resizable,draggable:this.original_config_draggable},size:{height:this.original_size_height,width:this.original_size_width,maxHeight:this.original_size_maxHeight},position:{mode:this.original_position_mode,left:this.original_position_left,top:this.original_position_top},titlebar:{wrap:this.original_titlebar_wrap}}},_toggleButtons:function(){var t,e,o,n;i(this.element[0]).dialog("widget").find(".ui-dialog-titlebar-restore").toggle("normal"!==this._state).css({right:"1.4em"}).end(),o=this.modes,n=[];for(e in o)t=o[e],n.push(i(this.element[0]).dialog("widget").find(".ui-dialog-titlebar-"+e).toggle(this._state!==t.state&&this.options[t.option]));return n}})}).call(this),function(){var i;i=jQuery,i.extend(!0,i.ui.dialogExtend.prototype,{modes:{collapse:{option:"collapsable",state:"collapsed"}},options:{collapsable:!1,icons:{collapse:"ui-icon-triangle-1-s"},beforeCollapse:null,collapse:null},collapse:function(){var t;return t=i(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").height()+15,this._trigger("beforeCollapse"),"normal"!==this._state&&this._restore(),this._saveSnapshot(),i(this.element[0]).dialog("option",{resizable:!1,height:t,maxHeight:t}).on("dialogclose",this._collapse_restore).hide().dialog("widget").find(".ui-dialog-buttonpane:visible").hide().end().find(".ui-dialog-titlebar").css("white-space","nowrap").end().find(".ui-dialog-content"),this._setState("collapsed"),this._toggleButtons(),this._trigger("collapse")},_restore_collapsed:function(){var t;return t=this._loadSnapshot(),i(this.element[0]).show().dialog("widget").find(".ui-dialog-buttonpane:hidden").show().end().find(".ui-dialog-titlebar").css("white-space",t.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{resizable:t.config.resizable,height:t.size.height,maxHeight:t.size.maxHeight}).off("dialogclose",this._collapse_restore)},_collapse_restore:function(){return i(this).dialogExtend("restore")}})}.call(this),function(){var i;i=jQuery,i.extend(!0,i.ui.dialogExtend.prototype,{modes:{maximize:{option:"maximizable",state:"maximized"}},options:{maximizable:!1,icons:{maximize:"ui-icon-extlink"},beforeMaximize:null,maximize:null},maximize:function(){var t,e;return t=i(window).height()-1,e=i(window).width()-1,this._trigger("beforeMaximize"),"normal"!==this._state&&this._restore(),this._saveSnapshot(),i(this.element[0]).dialog("option","draggable")&&i(this.element[0]).dialog("widget").draggable("option","handle",null).find(".ui-dialog-draggable-handle").css("cursor","text").end(),i(this.element[0]).dialog("widget").css("position","fixed").find(".ui-dialog-content").show().dialog("widget").find(".ui-dialog-buttonpane").show().end().find(".ui-dialog-content").dialog("option",{resizable:!1,draggable:!1,height:t,width:e,position:{of:window,my:"left top",at:"left top"}}),this._setState("maximized"),this._toggleButtons(),this.original_config_resizable&&this.element.closest(".ui-dialog").triggerHandler("resize"),this._trigger("maximize")},_restore_maximized:function(){var t;return t=this._loadSnapshot(),i(this.element[0]).dialog("widget").css("position",t.position.mode).find(".ui-dialog-titlebar").css("white-space",t.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{resizable:t.config.resizable,draggable:t.config.draggable,height:t.size.height,width:t.size.width,maxHeight:t.size.maxHeight,position:{of:window,my:"left top",at:"left+"+t.position.left+" top+"+t.position.top}}),i(this.element[0]).dialog("option","draggable")?i(this.element[0]).dialog("widget").draggable("option","handle",i(this.element[0]).dialog("widget").find(".ui-dialog-draggable-handle").length?i(this.element[0]).dialog("widget").find(".ui-dialog-draggable-handle"):".ui-dialog-titlebar").find(".ui-dialog-draggable-handle").css("cursor","move"):void 0}})}.call(this),function(){var i;i=jQuery,i.extend(!0,i.ui.dialogExtend.prototype,{modes:{minimize:{option:"minimizable",state:"minimized"}},options:{minimizable:!1,minimizeLocation:"left",icons:{minimize:"ui-icon-minus"},beforeMinimize:null,minimize:null},minimize:function(){var t,e,o,n;return e=i(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").height()+15,o=200,t=i("#dialog-extend-fixed-container").length?i("#dialog-extend-fixed-container"):i('<div id="dialog-extend-fixed-container"></div>').appendTo("body"),t.css({position:"fixed",bottom:1,left:1,right:1,"z-index":9999}),n=i("<div/>").css({"float":this.options.minimizeLocation,margin:1}),t.append(n),i(this.element[0]).data("dialog-extend-minimize-overlay",n),this._trigger("beforeMinimize"),this._saveSnapshot(),i(this.element[0]).dialog("option","draggable")&&i(this.element[0]).dialog("widget").draggable("option","handle",null).find(".ui-dialog-draggable-handle").css("cursor","text").end(),i(this.element[0]).dialog("option",{resizable:!1,draggable:!1,height:e,width:o}).on("dialogclose",this._minimize_removeOverlay).dialog("widget").css("position","static").appendTo(n).find(".ui-dialog-content").dialog("widget").find(".ui-dialog-titlebar").each(function(){var t,e,o;return o=i(this),t=o.find(".ui-dialog-titlebar-buttonpane"),e=o.find(".ui-dialog-title"),e.css({overflow:"hidden",width:o.width()-t.width()+10})}).end().find(".ui-dialog-content").hide().dialog("widget").find(".ui-dialog-buttonpane:visible").hide().end().find(".ui-dialog-titlebar").css("white-space","nowrap").end().find(".ui-dialog-content"),this._setState("minimized"),this._toggleButtons(),this._trigger("minimize")},_restore_minimized:function(){var t;return t=this._loadSnapshot(),i(this.element[0]).dialog("widget").appendTo("body").css({"float":"none",margin:0,position:t.position.mode}).find(".ui-dialog-content").dialog("widget").find(".ui-dialog-title").css("width","auto").end().find(".ui-dialog-content").show().dialog("widget").find(".ui-dialog-buttonpane:hidden").show().end().find(".ui-dialog-titlebar").css("white-space",t.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{resizable:t.config.resizable,draggable:t.config.draggable,height:t.size.height,width:t.size.width,maxHeight:t.size.maxHeight,position:{my:"left top",at:"left+"+t.position.left+" top+"+t.position.top}}).off("dialogclose",this._minimize_removeOverlay),i(this.element[0]).dialog("option","draggable")&&i(this.element[0]).dialog("widget").draggable("option","handle",i(this.element[0]).dialog("widget").find(".ui-dialog-draggable-handle").length?i(this.element[0]).dialog("widget").find(".ui-dialog-draggable-handle"):".ui-dialog-titlebar").find(".ui-dialog-draggable-handle").css("cursor","move"),i(this.element[0]).data("dialog-extend-minimize-overlay").remove(),i(this.element[0]).removeData("dialog-extend-overlay")},_verifyOptions_minimize:function(){var t;return!this.options.minimizeLocation||"left"!==(t=this.options.minimizeLocation)&&"right"!==t?(i.error("jQuery.dialogExtend Error : Invalid <minimizeLocation> value '"+this.options.minimizeLocation+"'"),this.options.minimizeLocation="left"):void 0},_minimize_removeOverlay:function(){return i(this).dialogExtend("restore"),i(this).dialog("widget").appendTo(i("body")),i(this).data("dialog-extend-minimize-overlay").remove(),i(this).removeData("dialog-extend-overlay")}})}.call(this);




/*!
 * jquery.event.drag - v 2.3.0
 * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com
 * Open Source MIT License - http://threedubmedia.com/code/license
 */
// Created: 2008-06-04
// Updated: 2012-05-21
// Updated: 2016-08-16   Luiz Gonzaga dos Santos Filho
// REQUIRES: jquery 1.8 +, , event.drag 2.3.0
// TESTED WITH: jQuery 1.8.3, 1.11.2, 2.2.4, and 3.1.0
!function(t){t.fn.drag=function(e,a,n){var r="string"==typeof e?e:"",o=t.isFunction(e)?e:t.isFunction(a)?a:null
return 0!==r.indexOf("drag")&&(r="drag"+r),n=(e==o?a:n)||{},o?this.on(r,n,o):this.trigger(r)}
var e=t.event,a=e.special,n=a.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(e){var a=t.data(this,n.datakey),r=e.data||{}
a.related+=1,t.each(n.defaults,function(t,e){void 0!==r[t]&&(a[t]=r[t])})},remove:function(){t.data(this,n.datakey).related-=1},setup:function(){if(!t.data(this,n.datakey)){var a=t.extend({related:0},n.defaults)
t.data(this,n.datakey,a),e.add(this,"touchstart mousedown",n.init,a),this.attachEvent&&this.attachEvent("ondragstart",n.dontstart)}},teardown:function(){var a=t.data(this,n.datakey)||{}
a.related||(t.removeData(this,n.datakey),e.remove(this,"touchstart mousedown",n.init),n.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",n.dontstart))},init:function(r){if(!n.touched){var o,i=r.data
if(!(0!=r.which&&i.which>0&&r.which!=i.which)&&!t(r.target).is(i.not)&&(!i.handle||t(r.target).closest(i.handle,r.currentTarget).length)&&(n.touched="touchstart"==r.type?this:null,i.propagates=1,i.mousedown=this,i.interactions=[n.interaction(this,i)],i.target=r.target,i.pageX=r.pageX,i.pageY=r.pageY,i.dragging=null,o=n.hijack(r,"draginit",i),i.propagates))return o=n.flatten(o),o&&o.length&&(i.interactions=[],t.each(o,function(){i.interactions.push(n.interaction(this,i))})),i.propagates=i.interactions.length,i.drop!==!1&&a.drop&&a.drop.handler(r,i),n.textselect(!1),n.touched?e.add(n.touched,"touchmove touchend",n.handler,i):e.add(document,"mousemove mouseup",n.handler,i),!n.touched||i.live?!1:void 0}},interaction:function(e,a){var r=t(e)[a.relative?"position":"offset"]()||{top:0,left:0}
return{drag:e,callback:new n.callback,droppable:[],offset:r}},handler:function(r){var o=r.data
switch(r.type){case!o.dragging&&"touchmove":r.preventDefault()
case!o.dragging&&"mousemove":if(Math.pow(r.pageX-o.pageX,2)+Math.pow(r.pageY-o.pageY,2)<Math.pow(o.distance,2))break
r.target=o.target,n.hijack(r,"dragstart",o),o.propagates&&(o.dragging=!0)
case"touchmove":r.preventDefault()
case"mousemove":if(o.dragging){if(n.hijack(r,"drag",o),o.propagates){o.drop!==!1&&a.drop&&a.drop.handler(r,o)
break}r.type="mouseup"}case"touchend":case"mouseup":default:n.touched?e.remove(n.touched,"touchmove touchend",n.handler):e.remove(document,"mousemove mouseup",n.handler),o.dragging&&(o.drop!==!1&&a.drop&&a.drop.handler(r,o),n.hijack(r,"dragend",o)),n.textselect(!0),o.click===!1&&o.dragging&&t.data(o.mousedown,"suppress.click",(new Date).getTime()+5),o.dragging=n.touched=!1}},hijack:function(a,r,o,i,d){if(o){var s,c,l,p={event:a.originalEvent,type:a.type},u=r.indexOf("drop")?"drag":"drop",g=i||0,h=isNaN(i)?o.interactions.length:i
a.type=r
var f=function(){}
a.originalEvent=new jQuery.Event(p.event,{preventDefault:f,stopPropagation:f,stopImmediatePropagation:f}),o.results=[]
do if(c=o.interactions[g]){if("dragend"!==r&&c.cancelled)continue
l=n.properties(a,o,c),c.results=[],t(d||c[u]||o.droppable).each(function(i,d){return l.target=d,a.isPropagationStopped=function(){return!1},s=d?e.dispatch.call(d,a,l):null,s===!1?("drag"==u&&(c.cancelled=!0,o.propagates-=1),"drop"==r&&(c[u][i]=null)):"dropinit"==r&&c.droppable.push(n.element(s)||d),"dragstart"==r&&(c.proxy=t(n.element(s)||c.drag)[0]),c.results.push(s),delete a.result,"dropinit"!==r?s:void 0}),o.results[g]=n.flatten(c.results),"dropinit"==r&&(c.droppable=n.flatten(c.droppable)),"dragstart"!=r||c.cancelled||l.update()}while(++g<h)
return a.type=p.type,a.originalEvent=p.event,n.flatten(o.results)}},properties:function(t,e,a){var r=a.callback
return r.drag=a.drag,r.proxy=a.proxy||a.drag,r.startX=e.pageX,r.startY=e.pageY,r.deltaX=t.pageX-e.pageX,r.deltaY=t.pageY-e.pageY,r.originalX=a.offset.left,r.originalY=a.offset.top,r.offsetX=r.originalX+r.deltaX,r.offsetY=r.originalY+r.deltaY,r.drop=n.flatten((a.drop||[]).slice()),r.available=n.flatten((a.droppable||[]).slice()),r},element:function(t){return t&&(t.jquery||1==t.nodeType)?t:void 0},flatten:function(e){return t.map(e,function(e){return e&&e.jquery?t.makeArray(e):e&&e.length?n.flatten(e):e})},textselect:function(e){t(document)[e?"off":"on"]("selectstart",n.dontstart).css("MozUserSelect",e?"":"none"),document.unselectable=e?"off":"on"},dontstart:function(){return!1},callback:function(){}}
n.callback.prototype={update:function(){a.drop&&this.available.length&&t.each(this.available,function(t){a.drop.locate(this,t)})}}
var r=e.dispatch
e.dispatch=function(e){return t.data(this,"suppress."+e.type)-(new Date).getTime()>0?void t.removeData(this,"suppress."+e.type):r.apply(this,arguments)},a.draginit=a.dragstart=a.dragend=n}(jQuery);



(function(t){var e={vertical:{x:false,y:true},horizontal:{x:true,y:false},both:{x:true,y:true},x:{x:true,y:false},y:{x:false,y:true}};var o={duration:"fast",direction:"both"};var r=/^(?:html)$/i;var l=function(e,o){o=o||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle);var r=document.defaultView&&document.defaultView.getComputedStyle?true:false;var l={top:parseFloat(r?o.borderTopWidth:t.css(e,"borderTopWidth"))||0,left:parseFloat(r?o.borderLeftWidth:t.css(e,"borderLeftWidth"))||0,bottom:parseFloat(r?o.borderBottomWidth:t.css(e,"borderBottomWidth"))||0,right:parseFloat(r?o.borderRightWidth:t.css(e,"borderRightWidth"))||0};return{top:l.top,left:l.left,bottom:l.bottom,right:l.right,vertical:l.top+l.bottom,horizontal:l.left+l.right}};var i=function(e){var o=t(window);var i=r.test(e[0].nodeName);return{border:i?{top:0,left:0,bottom:0,right:0}:l(e[0]),scroll:{top:(i?o:e).scrollTop(),left:(i?o:e).scrollLeft()},scrollbar:{right:i?0:e.innerWidth()-e[0].clientWidth,bottom:i?0:e.innerHeight()-e[0].clientHeight},rect:function(){var t=e[0].getBoundingClientRect();return{top:i?0:t.top,left:i?0:t.left,bottom:i?e[0].clientHeight:t.bottom,right:i?e[0].clientWidth:t.right}}()}};t.fn.extend({scrollintoview:function(l){l=t.extend({},o,l);l.direction=e[typeof l.direction==="string"&&l.direction.toLowerCase()]||e.both;var s="";if(l.direction.x===true)s="horizontal";if(l.direction.y===true)s=s?"both":"vertical";var c=this.eq(0);var n=c.closest(":scrollable("+s+")");if(n.length>0){n=n.eq(0);var a={e:i(c),s:i(n)};var d={top:a.e.rect.top-(a.s.rect.top+a.s.border.top),bottom:a.s.rect.bottom-a.s.border.bottom-a.s.scrollbar.bottom-a.e.rect.bottom,left:a.e.rect.left-(a.s.rect.left+a.s.border.left),right:a.s.rect.right-a.s.border.right-a.s.scrollbar.right-a.e.rect.right};var f={};if(l.direction.y===true){if(d.top<0){f.scrollTop=a.s.scroll.top+d.top}else if(d.top>0&&d.bottom<0){f.scrollTop=a.s.scroll.top+Math.min(d.top,-d.bottom)}}if(l.direction.x===true){if(d.left<0){f.scrollLeft=a.s.scroll.left+d.left}else if(d.left>0&&d.right<0){f.scrollLeft=a.s.scroll.left+Math.min(d.left,-d.right)}}if(!t.isEmptyObject(f)){if(r.test(n[0].nodeName)){n=t("html,body")}n.animate(f,l.duration).eq(0).queue(function(e){t.isFunction(l.complete)&&l.complete.call(n[0]);e()})}else{t.isFunction(l.complete)&&l.complete.call(n[0])}}return this}});var s={auto:true,scroll:true,visible:false,hidden:false};t.extend(t.expr[":"],{scrollable:function(t,o,l,i){var c=e[typeof l[3]==="string"&&l[3].toLowerCase()]||e.both;var n=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle;var a={x:s[n.overflowX.toLowerCase()]||false,y:s[n.overflowY.toLowerCase()]||false,isRoot:r.test(t.nodeName)};if(!a.x&&!a.y&&!a.isRoot){return false}var d={height:{scroll:t.scrollHeight,client:t.clientHeight},width:{scroll:t.scrollWidth,client:t.clientWidth},scrollableX:function(){return(a.x||a.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(a.y||a.isRoot)&&this.height.scroll>this.height.client}};return c.y&&d.scrollableY()||c.x&&d.scrollableX()}})})(jQuery);



/*! JsRender v1.0.0-beta: http://github.com/BorisMoore/jsrender and http://jsviews.com/jsviews
informal pre V1.0 commit counter: 56 */
(function(n,t,i){"use strict";function ot(n){return n}function nr(n){return n}function bt(n){s._dbgMode=n;yt=n?"Unavailable (nested view): use #getIndex()":"";it("dbg",si.dbg=tt.dbg=n?nr:ot)}function st(n){this.name=(u.link?"JsViews":"JsRender")+" Error";this.message=n||this.name}function f(n,t){for(var i in t)n[i]=t[i];return n}function d(n){return typeof n=="function"}function kt(n,t,i){return(!o.rTag||n)&&(p=n?n.charAt(0):p,w=n?n.charAt(1):w,h=t?t.charAt(0):h,v=t?t.charAt(1):v,nt=i||nt,n="\\"+p+"(\\"+nt+")?\\"+w,t="\\"+h+"\\"+v,y="(?:(?:(\\w+(?=[\\/\\s\\"+h+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+h+"]|\\"+h+"(?!\\"+v+"))*?)",o.rTag=y+")",y=new RegExp(n+y+"(\\/)?|(?:\\/(\\w+)))"+t,"g"),vt=new RegExp("<.*>|([^\\\\]|^)[{}]|"+n+".*"+t)),[p,w,h,v,nt]}function tr(n,t){t||(t=n,n=i);var e,f,o,u,r=this,s=!t||t==="root";if(n){if(u=r.type===t?r:i,!u)if(e=r.views,r._.useKey){for(f in e)if(u=e[f].get(n,t))break}else for(f=0,o=e.length;!u&&f<o;f++)u=e[f].get(n,t)}else if(s)while(r.parent.parent)u=r=r.parent;else while(r&&!u)u=r.type===t?r:i,r=r.parent;return u}function dt(){var n=this.get("item");return n?n.index:i}function gt(){return this.index}function ir(t){var u,e=this,o=e.linkCtx,r=(e.ctx||{})[t];return r===i&&o&&o.ctx&&(r=o.ctx[t]),r===i&&(r=si[t]),r&&d(r)&&!r._wrp&&(u=function(){return r.apply(!this||this===n?e:this,arguments)},u._wrp=1,f(u,r)),u||r}function rr(n,t,u){var f,e,c,s=+u===u&&u,h=t.linkCtx;if(s&&(u=(s=t.tmpl.bnds[s-1])(t.data,t,r)),e=u.args[0],n||s){f=h&&h.tag;f||(f={_:{inline:!h,bnd:s},tagName:":",cvt:n,flow:!0,tagCtx:u,_is:"tag"},h&&(h.tag=f,f.linkCtx=h,u.ctx=a(u.ctx,h.view.ctx)),o._lnk(f));for(c in u.props)ft.test(c)&&(f[c]=u.props[c]);u.view=t;f.ctx=u.ctx||{};delete u.ctx;t._.tag=f;e=ht(f,f.convert||n!=="true"&&n)[0];e=s&&t._.onRender?t._.onRender(e,t,s):e;t._.tag=i}return e!=i?e:""}function ht(n,t){var r=n.tagCtx,u=r.view,i=r.args;return t=t&&(""+t===t?u.getRsc("converters",t)||c("Unknown converter: '"+t+"'"):t),i=!i.length&&!r.index?[u.data]:t?i.slice():i,t&&(t.depends&&(n.depends=o.getDeps(n.depends,n,t.depends,t)),i[0]=t.apply(n,i)),i}function ur(n,t){for(var f,e,u=this;f===i&&u;)e=u.tmpl[n],f=e&&e[t],u=u.parent;return f||r[n][t]}function fr(n,t,u,s,h){var lt,l,pt,at,et,y,vt,d,v,ot,rt,wt,g,yt,bt,k,p,st,it,kt,nt="",ct=+s===s&&s,w=t.linkCtx||0,ut=t.ctx,dt=u||t.tmpl;for(n._is==="tag"&&(l=n,n=l.tagName,s=l.tagCtxs),l=l||w.tag,ct&&(s=(wt=dt.bnds[ct-1])(t.data,t,r)),vt=s.length,y=0;y<vt;y++){if(y||u&&l||(g=t.getRsc("tags",n)||c("Unknown tag: {{"+n+"}}")),v=s[y],w.tag||(rt=v.tmpl,rt=v.content=rt&&dt.tmpls[rt-1],f(v,{tmpl:(l?l:g).template||rt,render:ui,index:y,view:t,ctx:a(v.ctx,ut)})),(u=v.props.tmpl)&&(u=""+u===u?t.getRsc("templates",u)||e(u):u,v.tmpl=u),l||(g._ctr?(l=new g._ctr,yt=!!l.init,l.attr=l.attr||g.attr||i):o._lnk(l={render:g.render}),l._={inline:!w},w&&(w.attr=l.attr=w.attr||l.attr,w.tag=l,l.linkCtx=w),(l._.bnd=wt||w.fn)?l._.arrVws={}:l.dataBoundOnly&&c("{^{"+n+"}} tag must be data-bound"),l.tagName=n,l.parent=et=ut&&ut.tag,l._is="tag",l._def=g,l.tagCtxs=s),!y)for(st in it=v.props)ft.test(st)&&(l[st]=it[st]);v.tag=l;l.dataMap&&l.tagCtxs&&(v.map=l.tagCtxs[y].map);l.flow||(ot=v.ctx=v.ctx||{},pt=l.parents=ot.parentTags=ut&&a(ot.parentTags,ut.parentTags)||{},et&&(pt[et.tagName]=et),ot.tag=l)}for(t._.tag=l,l.rendering={},y=0;y<vt;y++)v=l.tagCtx=l.tagCtxs[y],it=v.props,p=ht(l,l.convert),(bt=it.dataMap||l.dataMap)&&(p.length||it.dataMap)&&(k=v.map,(!k||k.src!==p[0]||h)&&(k&&k.src&&k.unmap(),k=v.map=bt.map(p[0],it)),p=[k.tgt]),l.ctx=v.ctx,!y&&yt&&(kt=l.template,l.init(v,w,l.ctx),yt=i,l.template!==kt&&(l._.tmpl=l.template)),d=i,lt=l.render,(lt=l.render)&&(d=lt.apply(l,p)),p=p.length?p:[t],d=d!==i?d:v.render(p[0],!0)||(h?i:""),nt=nt?nt+(d||""):d;return delete l.rendering,l.tagCtx=l.tagCtxs[0],l.ctx=l.tagCtx.ctx,l._.inline&&(at=l.attr)&&at!==b&&(nt=at==="text"?tt.html(nt):""),ct&&t._.onRender?t._.onRender(nt,t,ct):nt}function g(n,t,i,r,u,f,e,o){var a,h,c,s=this,v=t==="array",l={key:0,useKey:v?0:1,id:""+gi++,onRender:o,bnds:{}};s.data=r;s.tmpl=u;s.content=e;s.views=v?[]:{};s.parent=i;s.type=t;s._=l;s.linked=!!o;i?(a=i.views,h=i._,h.useKey?(a[l.key="_"+h.useKey++]=s,s.index=yt,s.getIndex=dt,c=h.tag,l.bnd=v&&(!c||!!c._.bnd&&c)):a.splice(l.key=s.index=f,0,s),s.ctx=n||i.ctx):s.ctx=n}function er(n){var i,r,t,u,e,f,s;for(i in k)if(e=k[i],(f=e.compile)&&(r=n[i+"s"]))for(t in r)u=r[t]=f(t,r[t],n),u&&(s=o.onStore[i])&&s(t,u,f)}function or(n,t,r){var o,u;return d(t)?t={depends:t.depends,render:t}:(t.baseTag&&(t.flow=!!t.flow,t=f(f({},t.baseTag),t)),(u=t.template)!==i&&(t.template=""+u===u?e[u]||e(u):u),t.init!==!1&&(o=t._ctr=function(){},(o.prototype=t).constructor=o)),r&&(t._parentTmpl=r),t}function ni(r,u,f,o){function c(u){if(""+u===u||u.nodeType>0){try{h=u.nodeType>0?u:!vt.test(u)&&t&&t(n.document).find(u)[0]}catch(s){}return h&&(u=e[r=r||h.getAttribute(et)],u||(r=r||"_"+di++,h.setAttribute(et,r),u=e[r]=ni(r,h.innerHTML,f,o)),h=i),u}}var s,h;return u=u||"",s=c(u),o=o||(u.markup?u:{}),o.tmplName=r,f&&(o._parentTmpl=f),!s&&u.markup&&(s=c(u.markup))&&s.fn&&(s.debug!==u.debug||s.allowCode!==u.allowCode)&&(s=s.markup),s!==i?(r&&!f&&(wt[r]=function(){return u.render.apply(u,arguments)}),s.fn||u.fn?s.fn&&(u=r&&r!==s.tmplName?a(o,s):s):(u=ii(s,o),lt(s.replace(vi,"\\$&"),u)),er(o),u):void 0}function ti(n){function t(t,i){this.tgt=n.getTgt(t,i)}return d(n)&&(n={getTgt:n}),n.baseMap&&(n=f(f({},n.baseMap),n)),n.map=function(n,i){return new t(n,i)},n}function ii(n,t){var i,e=s.wrapMap||{},r=f({markup:n,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:ri},t);return t.htmlTag||(i=wi.exec(n),r.htmlTag=i?i[1].toLowerCase():""),i=e[r.htmlTag],i&&i!==e.div&&(r.markup=u.trim(r.markup)),r}function sr(n,t){function u(e,s,h){var v,c,l,a;if(e&&typeof e=="object"&&!e.nodeType&&!e.markup&&!e.getTgt){for(l in e)u(l,e[l],s);return r}return s===i&&(s=e,e=i),e&&""+e!==e&&(h=s,s=e,e=i),a=h?h[f]=h[f]||{}:u,c=t.compile,s===null?e&&delete a[e]:(s=c?s=c(e,s,h):s,e&&(a[e]=s)),c&&s&&(s._is=n),s&&(v=o.onStore[n])&&v(e,s,c),s}var f=n+"s";r[f]=u;k[n]=t}function hr(n,t){var i=this.jquery&&(this[0]||c('Unknown template: "'+this.selector+'"')),r=i.getAttribute(et);return ri.call(r?e[r]:e(i),n,t)}function ct(n,t,i){if(s._dbgMode)try{return n.fn(t,i,r)}catch(u){return c(u,i)}return n.fn(t,i,r)}function ri(n,t,i,r,f,e){var o=this;return!r&&o.fn._nvw&&!u.isArray(n)?ct(o,n,{tmpl:o}):ui.call(o,n,t,i,r,f,e)}function ui(n,t,r,f,o,s){var y,ut,d,l,nt,tt,it,p,v,rt,w,ft,h,et,c=this,k="";if(!!t===t&&(r=t,t=i),o===!0&&(it=!0,o=0),c.tag?(p=c,c=c.tag,rt=c._,ft=c.tagName,h=rt.tmpl||p.tmpl,et=c.attr&&c.attr!==b,t=a(t,c.ctx),v=p.content,p.props.link===!1&&(t=t||{},t.link=!1),f=f||p.view,n=arguments.length?n:f):h=c,h&&(!f&&n&&n._is==="view"&&(f=n),f&&(v=v||f.content,s=s||f._.onRender,n===f&&(n=f.data),t=a(t,f.ctx)),f&&f.data!==i||((t=t||{}).root=n),h.fn||(h=e[h]||e(h)),h)){if(s=(t&&t.link)!==!1&&!et&&s,w=s,s===!0&&(w=i,s=f._.onRender),t=h.helpers?a(h.helpers,t):t,u.isArray(n)&&!r)for(l=it?f:o!==i&&f||new g(t,"array",f,n,h,o,v,s),y=0,ut=n.length;y<ut;y++)d=n[y],nt=new g(t,"item",l,d,h,(o||0)+y,v,s),tt=ct(h,d,nt),k+=l._.onRender?l._.onRender(tt,nt):tt;else(f||!h.fn._nvw)&&(l=it?f:new g(t,ft||"data",f,n,h,o,v,s),rt&&!c.flow&&(l.tag=c)),k+=ct(h,n,l);return w?w(k,l):k}return""}function c(n,t,i){var r=s.onError(n,t,i);if(""+n===n)throw new o.Err(r);return!t.linkCtx&&t.linked?tt.html(r):r}function l(n){c("Syntax error\n"+n)}function lt(n,t,i,r){function k(t){t-=f;t&&h.push(n.substr(f,t).replace(ut,"\\n"))}function c(t){t&&l('Unmatched or missing tag: "{{/'+t+'}}" in template:\n'+n)}function d(e,o,v,y,p,d,nt,tt,it,rt,et,ot){d&&(p=":",y=b);rt=rt||i;var st=(o||i)&&[],ct="",lt="",at="",vt="",yt="",pt="",wt="",bt="",ht=!rt&&!p&&!nt;v=v||(it=it||"#data",p);k(ot);f=ot+e.length;tt?g&&h.push(["*","\n"+it.replace(ai,"$1")+"\n"]):v?(v==="else"&&(pi.test(it)&&l('for "{{else if expr}}" use "{{else expr}}"'),st=u[7],u[8]=n.substring(u[8],ot),u=s.pop(),h=u[2],ht=!0),it&&oi(it.replace(ut," "),st,t).replace(yi,function(n,t,i,r,u,f,e,o){return e?(lt+=f+",",vt+="'"+o+"',"):i?(at+=r+f+",",pt+=r+"'"+o+"',"):t?wt+=f:(u==="trigger"&&(bt+=f),ct+=r+f+",",yt+=r+"'"+o+"',",w=w||ft.test(u)),""}).slice(0,-1),a=[v,y||!!r||w||"",ht&&[],fi(vt,yt,pt),fi(lt,ct,at),wt,bt,st||0],h.push(a),ht&&(s.push(u),u=a,u[8]=f)):et&&(c(et!==u[0]&&u[0]!=="else"&&et),u[8]=n.substring(u[8],ot),u=s.pop());c(!u&&et);h=u[2]}var o,a,w,g=t&&t.allowCode,e=[],f=0,s=[],h=e,u=[,,e];return i&&(n=p+n+v),c(s[0]&&s[0][2].pop()[0]),n.replace(y,d),k(n.length),(f=e[e.length-1])&&c(""+f!==f&&+f[8]===f[8]&&f[0]),i?(o=at(e,n,i),o.paths=e[0][7]):o=at(e,t),o._nvw&&(o._nvw=!/[~#]/.test(n)),o}function fi(n,t,i){return[n.slice(0,-1),t.slice(0,-1),i.slice(0,-1)]}function ei(n,t){return"\n\t"+(t?t+":{":"")+"args:["+n[0]+"]"+(n[1]||!t?",\n\tprops:{"+n[1]+"}":"")+(n[2]?",\n\tctx:{"+n[2]+"}":"")}function oi(n,t,i){function p(p,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,at,vt,yt,pt){function dt(n,i,r,f,e,s,h,l){if(r&&(t&&(u==="linkTo"&&(o=t._jsvto=t._jsvto||[],o.push(g)),(!u||c)&&t.push(g.slice(i.length))),r!==".")){var a=(f?'view.hlp("'+f+'")':e?"view":"data")+(l?(s?"."+s:f?"":e?"":"."+r)+(h||""):(l=f?"":e?s||"":r,""));return a=a+(l?"."+l:""),i+(a.slice(0,9)==="view.data"?a.slice(5):a)}return n}nt=nt||"";k=k||b||et;g=g||rt;ut=ut||at||"";var bt,kt,wt;if(!tt||e||f)return t&&ct&&!e&&!f&&(!u||c||o)&&(bt=y[r],pt.length-1>yt-bt&&(bt=pt.slice(bt,yt+1),ct=w+":"+bt+h,wt=v[ct],wt||(v[ct]=1,v[ct]=wt=lt(ct,i||t,!0),wt.paths.push({_jsvOb:wt})),wt!==1&&(o||t).push({_jsvOb:wt}))),e?(e=!ot,e?p:'"'):f?(f=!st,f?p:'"'):(k?(r++,y[r]=yt++,k):"")+(vt?r?"":(s=pt.slice(s,yt),u?(u=c=o=!1,"\b"):"\b,")+s+(s=yt+p.length,"\b"):it?(r&&l(n),u=g,c=d,s=yt+p.length,g+":"):g?g.split("^").join(".").replace(ci,dt)+(ut?(a[++r]=!0,g.charAt(0)!=="."&&(y[r]=yt),kt?"":ut):nt):nt?nt:ht?(a[r--]=!1,ht)+(ut?(a[++r]=!0,ut):""):ft?(a[r]||l(n),","):b?"":(e=ot,f=st,'"'));l(n)}var u,o,c,f,e,s=0,v=i?i.links:t&&(t.links=t.links||{}),a={},y={0:-1},r=0;return(n+(i?" ":"")).replace(/\)\^/g,").").replace(li,p)}function at(n,i,r){var y,f,e,c,d,ht,ct,bt,lt,g,rt,p,o,ft,et,v,nt,w,tt,vt,k,yt,pt,ot,s,a,st,wt,h=0,u="",it={},kt=n.length;for(""+i===i?(v=r?'data-link="'+i.replace(ut," ").slice(1,-1)+'"':i,i=0):(v=i.tmplName||"unnamed",i.allowCode&&(it.allowCode=!0),i.debug&&(it.debug=!0),p=i.bnds,et=i.tmpls),y=0;y<kt;y++)if(f=n[y],""+f===f)u+='\n+"'+f+'"';else if(e=f[0],e==="*")u+=";\n"+f[1]+"\nret=ret";else{if(c=f[1],tt=f[2],d=ei(f[3],"params")+"},"+ei(ft=f[4]),a=f[5],wt=f[6],vt=f[8],(pt=e==="else")||(h=0,p&&(o=f[7])&&(h=p.push(o))),(ot=e===":")?c&&(e=c===b?">":c+e):(tt&&(nt=ii(vt,it),nt.tmplName=v+"/"+e,at(tt,nt),et.push(nt)),pt||(w=e,yt=u,u=""),k=n[y+1],k=k&&k[0]==="else"),st=a?";\ntry{\nret+=":"\n+",ot&&(o||wt||c&&c!==b)){if(s="return {"+d+"};",a&&(s="try {\n"+s+"\n}catch(e){return {error: j._err(e,view,"+a+")}}\n"),s=new Function("data,view,j,u"," // "+v+" "+h+" "+e+"\n"+s),s.paths=o,s._tag=e,r)return s;rt=1}if(u+=ot?(r?(a?"\ntry{\n":"")+"return ":st)+(rt?(rt=0,g=lt=!0,'c("'+c+'",view,'+(o?(p[h-1]=s,h):"{"+d+"}")+")"):e===">"?(ct=!0,"h("+ft[0]+")"):(bt=!0,"((v="+ft[0]+')!=null?v:"")')):(g=ht=!0,"\n{view:view,tmpl:"+(tt?et.length:"0")+","+d+"},"),w&&!k){if(u="["+u.slice(0,-1)+"]",(r||o)&&(u=new Function("data,view,j,u"," // "+v+" "+h+" "+w+"\nreturn "+u+";"),o&&((p[h-1]=u).paths=o),u._tag=e,r))return u;u=yt+st+'t("'+w+'",view,this,'+(h||u)+")";o=0;w=0}a&&(g=!0,u+=";\n}catch(e){ret"+(r?"urn ":"+=")+"j._err(e,view,"+a+");}\n"+(r?"":"ret=ret"))}u="// "+v+"\nj=j||"+(t?"jQuery.":"jsviews.")+"views;var v"+(ht?",t=j._tag":"")+(lt?",c=j._cnvt":"")+(ct?",h=j.converters.html":"")+(r?";\n":',ret=""\n')+(it.debug?"debugger;":"")+u+(r?"\n":";\nreturn ret;");try{u=new Function("data,view,j,u",u)}catch(dt){l("Compiled template code:\n\n"+u+'\n: "'+dt.message+'"')}return i&&(i.fn=u),g||(u._nvw=!0),u}function a(n,t){return n&&n!==t?t?f(f({},t),n):n:t&&f({},t)}function cr(n){return pt[n]||(pt[n]="&#"+n.charCodeAt(0)+";")}function lr(n){var i,t,r=[];if(typeof n=="object")for(i in n)t=n[i],t&&t.toJSON&&!t.toJSON()||d(t)||r.push({key:i,prop:t});return r}function hi(n){return n!=null?bi.test(n)&&(""+n).replace(ki,cr)||n:""}if((!t||!t.render)&&!n.jsviews){var u,rt,y,vt,yt,p="{",w="{",h="}",v="}",nt="^",ci=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,li=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*\.|\s*\^|\s*$)|[)\]])([([]?))|(\s+)/g,ut=/[ \t]*(\r\n|\n|\r)/g,ai=/\\(['"])/g,vi=/['"\\]/g,yi=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,pi=/^if\s/,wi=/<(\w+)[>\s]/,bi=/[\x00`><\"'&]/,ft=/^on[A-Z]|^convert(Back)?$/,ki=/[\x00`><"'&]/g,di=0,gi=0,pt={"&":"&amp;","<":"&lt;",">":"&gt;","\x00":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;"},b="html",et="data-jsv-tmpl",wt={},k={template:{compile:ni},tag:{compile:or},helper:{},converter:{}},r={jsviews:"v1.0.0-beta",settings:function(n){f(s,n);bt(s._dbgMode);s.jsv&&s.jsv()},sub:{View:g,Err:st,tmplFn:lt,cvt:ht,parse:oi,extend:f,syntaxErr:l,onStore:{},_lnk:ot},map:ti,_cnvt:rr,_tag:fr,_err:c};(st.prototype=new Error).constructor=st;dt.depends=function(){return[this.get("item"),"index"]};gt.depends=function(){return["index"]};g.prototype={get:tr,getIndex:gt,getRsc:ur,hlp:ir,_is:"view"};for(rt in k)sr(rt,k[rt]);var e=r.templates,tt=r.converters,si=r.helpers,it=r.tags,o=r.sub,s=r.settings;t?(u=t,u.fn.render=hr,u.observable&&(f(o,u.views.sub),r.map=u.views.map)):(u=n.jsviews={},u.isArray=Array&&Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"});u.render=wt;u.views=r;u.templates=e=r.templates;s({debugMode:bt,delimiters:kt,onError:function(n,t,r){return t&&(n=r===i?"{Error: "+n+"}":d(r)?r(n,t):r),n==i?"":n},_dbgMode:!0});it({"else":function(){},"if":{render:function(n){var t=this;return t.rendering.done||!n&&(arguments.length||!t.tagCtx.index)?"":(t.rendering.done=!0,t.selected=t.tagCtx.index,t.tagCtx.render(t.tagCtx.view,!0))},onUpdate:function(n,t,i){for(var r,f,u=0;(r=this.tagCtxs[u])&&r.args.length;u++)if(r=r.args[0],f=!r!=!i[u].args[0],!this.convert&&!!r||f)return f;return!1},flow:!0},"for":{render:function(n){var f,t=this,r=t.tagCtx,e="",o=0;return t.rendering.done||((f=!arguments.length)&&(n=r.view.data),n!==i&&(e+=r.render(n,f),o+=u.isArray(n)?n.length:1),(t.rendering.done=o)&&(t.selected=r.index)),e},flow:!0},include:{flow:!0},"*":{render:ot,flow:!0}});it("props",{baseTag:it["for"],dataMap:ti(lr)});tt({html:hi,attr:hi,url:function(n){return n!=i?encodeURI(""+n):n===null?n:""}});kt()}})(this,this.jQuery);
/*
//# sourceMappingURL=jsrender.min.js.map
*/



/*
Copyright 2014 Igor Vaynberg

Version: 3.5.1 Timestamp: Tue Jul 22 18:58:56 EDT 2014

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

http://www.apache.org/licenses/LICENSE-2.0
http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the Apache License
or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
either express or implied. See the Apache License and the GPL License for the specific language governing
permissions and limitations under the Apache License and the GPL License.
*/
!function(a){"undefined"==typeof a.fn.each2&&a.extend(a.fn,{each2:function(b){for(var c=a([0]),d=-1,e=this.length;++d<e&&(c.context=c[0]=this[d])&&b.call(c[0],d,c)!==!1;);return this}})}(jQuery),function(a,b){"use strict";function n(b){var c=a(document.createTextNode(""));b.before(c),c.before(b),c.remove()}function o(a){function b(a){return m[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function p(a,b){for(var c=0,d=b.length;d>c;c+=1)if(r(a,b[c]))return c;return-1}function q(){var b=a(l);b.appendTo("body");var c={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};return b.remove(),c}function r(a,c){return a===c?!0:a===b||c===b?!1:null===a||null===c?!1:a.constructor===String?a+""==c+"":c.constructor===String?c+""==a+"":!1}function s(b,c){var d,e,f;if(null===b||b.length<1)return[];for(d=b.split(c),e=0,f=d.length;f>e;e+=1)d[e]=a.trim(d[e]);return d}function t(a){return a.outerWidth(!1)-a.width()}function u(c){var d="keyup-change-value";c.on("keydown",function(){a.data(c,d)===b&&a.data(c,d,c.val())}),c.on("keyup",function(){var e=a.data(c,d);e!==b&&c.val()!==e&&(a.removeData(c,d),c.trigger("keyup-change"))})}function v(c){c.on("mousemove",function(c){var d=i;(d===b||d.x!==c.pageX||d.y!==c.pageY)&&a(c.target).trigger("mousemove-filtered",c)})}function w(a,c,d){d=d||b;var e;return function(){var b=arguments;window.clearTimeout(e),e=window.setTimeout(function(){c.apply(d,b)},a)}}function x(a,b){var c=w(a,function(a){b.trigger("scroll-debounced",a)});b.on("scroll",function(a){p(a.target,b.get())>=0&&c(a)})}function y(a){a[0]!==document.activeElement&&window.setTimeout(function(){var d,b=a[0],c=a.val().length;a.focus();var e=b.offsetWidth>0||b.offsetHeight>0;e&&b===document.activeElement&&(b.setSelectionRange?b.setSelectionRange(c,c):b.createTextRange&&(d=b.createTextRange(),d.collapse(!1),d.select()))},0)}function z(b){b=a(b)[0];var c=0,d=0;if("selectionStart"in b)c=b.selectionStart,d=b.selectionEnd-c;else if("selection"in document){b.focus();var e=document.selection.createRange();d=document.selection.createRange().text.length,e.moveStart("character",-b.value.length),c=e.text.length-d}return{offset:c,length:d}}function A(a){a.preventDefault(),a.stopPropagation()}function B(a){a.preventDefault(),a.stopImmediatePropagation()}function C(b){if(!h){var c=b[0].currentStyle||window.getComputedStyle(b[0],null);h=a(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),h.attr("class","select2-sizer"),a("body").append(h)}return h.text(b.val()),h.width()}function D(b,c,d){var e,g,f=[];e=a.trim(b.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&f.push(this)})),e=a.trim(c.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(g=d(this),g&&f.push(g))})),b.attr("class",f.join(" "))}function E(a,b,c,d){var e=o(a.toUpperCase()).indexOf(o(b.toUpperCase())),f=b.length;return 0>e?(c.push(d(a)),void 0):(c.push(d(a.substring(0,e))),c.push("<span class='select2-match'>"),c.push(d(a.substring(e,e+f))),c.push("</span>"),c.push(d(a.substring(e+f,a.length))),void 0)}function F(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function G(c){var d,e=null,f=c.quietMillis||100,g=c.url,h=this;return function(i){window.clearTimeout(d),d=window.setTimeout(function(){var d=c.data,f=g,j=c.transport||a.fn.select2.ajaxDefaults.transport,k={type:c.type||"GET",cache:c.cache||!1,jsonpCallback:c.jsonpCallback||b,dataType:c.dataType||"json"},l=a.extend({},a.fn.select2.ajaxDefaults.params,k);d=d?d.call(h,i.term,i.page,i.context):null,f="function"==typeof f?f.call(h,i.term,i.page,i.context):f,e&&"function"==typeof e.abort&&e.abort(),c.params&&(a.isFunction(c.params)?a.extend(l,c.params.call(h)):a.extend(l,c.params)),a.extend(l,{url:f,dataType:c.dataType,data:d,success:function(a){var b=c.results(a,i.page,i);i.callback(b)},error:function(a,b,c){var d={hasError:!0,jqXHR:a,textStatus:b,errorThrown:c};i.callback(d)}}),e=j.call(h,l)},f)}}function H(b){var d,e,c=b,f=function(a){return""+a.text};a.isArray(c)&&(e=c,c={results:e}),a.isFunction(c)===!1&&(e=c,c=function(){return e});var g=c();return g.text&&(f=g.text,a.isFunction(f)||(d=g.text,f=function(a){return a[d]})),function(b){var g,d=b.term,e={results:[]};return""===d?(b.callback(c()),void 0):(g=function(c,e){var h,i;if(c=c[0],c.children){h={};for(i in c)c.hasOwnProperty(i)&&(h[i]=c[i]);h.children=[],a(c.children).each2(function(a,b){g(b,h.children)}),(h.children.length||b.matcher(d,f(h),c))&&e.push(h)}else b.matcher(d,f(c),c)&&e.push(c)},a(c().results).each2(function(a,b){g(b,e.results)}),b.callback(e),void 0)}}function I(c){var d=a.isFunction(c);return function(e){var f=e.term,g={results:[]},h=d?c(e):c;a.isArray(h)&&(a(h).each(function(){var a=this.text!==b,c=a?this.text:this;(""===f||e.matcher(f,c))&&g.results.push(a?this:{id:this,text:this})}),e.callback(g))}}function J(b,c){if(a.isFunction(b))return!0;if(!b)return!1;if("string"==typeof b)return!0;throw new Error(c+" must be a string, function, or falsy value")}function K(b,c){if(a.isFunction(b)){var d=Array.prototype.slice.call(arguments,2);return b.apply(c,d)}return b}function L(b){var c=0;return a.each(b,function(a,b){b.children?c+=L(b.children):c++}),c}function M(a,c,d,e){var h,i,j,k,l,f=a,g=!1;if(!e.createSearchChoice||!e.tokenSeparators||e.tokenSeparators.length<1)return b;for(;;){for(i=-1,j=0,k=e.tokenSeparators.length;k>j&&(l=e.tokenSeparators[j],i=a.indexOf(l),!(i>=0));j++);if(0>i)break;if(h=a.substring(0,i),a=a.substring(i+l.length),h.length>0&&(h=e.createSearchChoice.call(this,h,c),h!==b&&null!==h&&e.id(h)!==b&&null!==e.id(h))){for(g=!1,j=0,k=c.length;k>j;j++)if(r(e.id(h),e.id(c[j]))){g=!0;break}g||d(h)}}return f!==a?a:void 0}function N(){var b=this;a.each(arguments,function(a,c){b[c].remove(),b[c]=null})}function O(b,c){var d=function(){};return d.prototype=new b,d.prototype.constructor=d,d.prototype.parent=b.prototype,d.prototype=a.extend(d.prototype,c),d}if(window.Select2===b){var c,d,e,f,g,h,j,k,i={x:0,y:0},c={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a=a.which?a.which:a){case c.LEFT:case c.RIGHT:case c.UP:case c.DOWN:return!0}return!1},isControl:function(a){var b=a.which;switch(b){case c.SHIFT:case c.CTRL:case c.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){return a=a.which?a.which:a,a>=112&&123>=a}},l="<div class='select2-measure-scrollbar'></div>",m={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};j=a(document),g=function(){var a=1;return function(){return a++}}(),d=O(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(c){var d,e,f=".select2-results";this.opts=c=this.prepareOpts(c),this.id=c.id,c.element.data("select2")!==b&&null!==c.element.data("select2")&&c.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(c.element.attr("id")||"autogen"+g()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",c.element.attr("title")),this.body=a("body"),D(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",c.element.attr("style")),this.container.css(K(c.containerCss,this.opts.element)),this.container.addClass(K(c.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",A),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),D(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(K(c.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",A),this.results=d=this.container.find(f),this.search=e=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",A),v(this.results),this.dropdown.on("mousemove-filtered",f,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",f,this.bind(function(a){this._touchEvent=!0,this.highlightUnderEvent(a)})),this.dropdown.on("touchmove",f,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",f,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),x(80,this.results),this.dropdown.on("scroll-debounced",f,this.bind(this.loadMoreIfNeeded)),a(this.container).on("change",".select2-input",function(a){a.stopPropagation()}),a(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()}),a.fn.mousewheel&&d.mousewheel(function(a,b,c,e){var f=d.scrollTop();e>0&&0>=f-e?(d.scrollTop(0),A(a)):0>e&&d.get(0).scrollHeight-d.scrollTop()+e<=d.height()&&(d.scrollTop(d.get(0).scrollHeight-d.height()),A(a))}),u(e),e.on("keyup-change input paste",this.bind(this.updateResults)),e.on("focus",function(){e.addClass("select2-focused")}),e.on("blur",function(){e.removeClass("select2-focused")}),this.dropdown.on("mouseup",f,this.bind(function(b){a(b.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(b),this.selectHighlighted(b))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(a){a.stopPropagation()}),this.nextSearchTerm=b,a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==c.maximumInputLength&&this.search.attr("maxlength",c.maximumInputLength);var h=c.element.prop("disabled");h===b&&(h=!1),this.enable(!h);var i=c.element.prop("readonly");i===b&&(i=!1),this.readonly(i),k=k||q(),this.autofocus=c.element.prop("autofocus"),c.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",c.searchInputPlaceholder)},destroy:function(){var a=this.opts.element,c=a.data("select2"),d=this;this.close(),a.length&&a[0].detachEvent&&a.each(function(){this.detachEvent("onpropertychange",d._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,c!==b&&(c.container.remove(),c.liveRegion.remove(),c.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show()),N.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:r(a.attr("locked"),"locked")||r(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}:void 0},prepareOpts:function(c){var d,e,f,h,i=this;if(d=c.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=c.element),e&&a.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in c)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),c=a.extend({},{populateResults:function(d,e,f){var h,j=this.opts.id,k=this.liveRegion;h=function(d,e,l){var m,n,o,p,q,r,s,t,u,v;d=c.sortResults(d,e,f);var w=[];for(m=0,n=d.length;n>m;m+=1)o=d[m],q=o.disabled===!0,p=!q&&j(o)!==b,r=o.children&&o.children.length>0,s=a("<li></li>"),s.addClass("select2-results-dept-"+l),s.addClass("select2-result"),s.addClass(p?"select2-result-selectable":"select2-result-unselectable"),q&&s.addClass("select2-disabled"),r&&s.addClass("select2-result-with-children"),s.addClass(i.opts.formatResultCssClass(o)),s.attr("role","presentation"),t=a(document.createElement("div")),t.addClass("select2-result-label"),t.attr("id","select2-result-label-"+g()),t.attr("role","option"),v=c.formatResult(o,t,f,i.opts.escapeMarkup),v!==b&&(t.html(v),s.append(t)),r&&(u=a("<ul></ul>"),u.addClass("select2-result-sub"),h(o.children,u,l+1),s.append(u)),s.data("select2-data",o),w.push(s[0]);e.append(w),k.text(c.formatMatches(d.length))},h(e,d,0)}},a.fn.select2.defaults,c),"function"!=typeof c.id&&(f=c.id,c.id=function(a){return a[f]}),a.isArray(c.element.data("select2Tags"))){if("tags"in c)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+c.element.attr("id");c.tags=c.element.data("select2Tags")}if(e?(c.query=this.bind(function(a){var f,g,h,c={results:[],more:!1},e=a.term;h=function(b,c){var d;b.is("option")?a.matcher(e,b.text(),b)&&c.push(i.optionToData(b)):b.is("optgroup")&&(d=i.optionToData(b),b.children().each2(function(a,b){h(b,d.children)}),d.children.length>0&&c.push(d))},f=d.children(),this.getPlaceholder()!==b&&f.length>0&&(g=this.getPlaceholderOption(),g&&(f=f.not(g))),f.each2(function(a,b){h(b,c.results)}),a.callback(c)}),c.id=function(a){return a.id}):"query"in c||("ajax"in c?(h=c.element.data("ajax-url"),h&&h.length>0&&(c.ajax.url=h),c.query=G.call(c.element,c.ajax)):"data"in c?c.query=H(c.data):"tags"in c&&(c.query=I(c.tags),c.createSearchChoice===b&&(c.createSearchChoice=function(b){return{id:a.trim(b),text:a.trim(b)}}),c.initSelection===b&&(c.initSelection=function(b,d){var e=[];a(s(b.val(),c.separator)).each(function(){var b={id:this,text:this},d=c.tags;a.isFunction(d)&&(d=d()),a(d).each(function(){return r(this.id,b.id)?(b=this,!1):void 0}),e.push(b)}),d(e)}))),"function"!=typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");if("top"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.unshift(b)};else if("bottom"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.push(b)};else if("function"!=typeof c.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return c},monitorSource:function(){var d,c=this.opts.element,e=this;c.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var a=c.prop("disabled");a===b&&(a=!1),this.enable(!a);var d=c.prop("readonly");d===b&&(d=!1),this.readonly(d),D(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(K(this.opts.containerCssClass,this.opts.element)),D(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(K(this.opts.dropdownCssClass,this.opts.element))}),c.length&&c[0].attachEvent&&c.each(function(){this.attachEvent("onpropertychange",e._sync)}),d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,d!==b&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new d(function(b){a.each(b,e._sync)}),this.propertyObserver.observe(c.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(b){var c=a.Event("select2-selecting",{val:this.id(b),object:b,choice:b});return this.opts.element.trigger(c),!c.isDefaultPrevented()},triggerChange:function(b){b=b||{},b=a.extend({},b,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(b),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var a=this._enabled&&!this._readonly,b=!a;return a===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",b),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===b&&(a=!0),this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){a===b&&(a=!1),this._readonly!==a&&(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t,u,v,w,x,b=this.dropdown,c=this.container.offset(),d=this.container.outerHeight(!1),e=this.container.outerWidth(!1),f=b.outerHeight(!1),g=a(window),h=g.width(),i=g.height(),j=g.scrollLeft()+h,l=g.scrollTop()+i,m=c.top+d,n=c.left,o=l>=m+f,p=c.top-f>=g.scrollTop(),q=b.outerWidth(!1),r=j>=n+q,s=b.hasClass("select2-drop-above");s?(u=!0,!p&&o&&(v=!0,u=!1)):(u=!1,!o&&p&&(v=!0,u=!0)),v&&(b.hide(),c=this.container.offset(),d=this.container.outerHeight(!1),e=this.container.outerWidth(!1),f=b.outerHeight(!1),j=g.scrollLeft()+h,l=g.scrollTop()+i,m=c.top+d,n=c.left,q=b.outerWidth(!1),r=j>=n+q,b.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(x=a(".select2-results",b)[0],b.addClass("select2-drop-auto-width"),b.css("width",""),q=b.outerWidth(!1)+(x.scrollHeight===x.clientHeight?0:k.width),q>e?e=q:q=e,f=b.outerHeight(!1),r=j>=n+q):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),m-=t.top,n-=t.left),r||(n=c.left+this.container.outerWidth(!1)-q),w={left:n,width:e},u?(w.top=c.top-f,w.bottom="auto",this.container.addClass("select2-drop-above"),b.addClass("select2-drop-above")):(w.top=m,w.bottom="auto",this.container.removeClass("select2-drop-above"),b.removeClass("select2-drop-above")),w=a.extend(w,K(this.opts.dropdownCss,this.opts.element)),b.css(w)},shouldOpen:function(){var b;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(b=a.Event("select2-opening"),this.opts.element.trigger(b),!b.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),j.on("mousemove.select2Event",function(a){i.x=a.pageX,i.y=a.pageY}),!0):!1},opening:function(){var f,b=this.containerEventName,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),f=a("#select2-drop-mask"),0==f.length&&(f=a(document.createElement("div")),f.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),f.hide(),f.appendTo(this.body),f.on("mousedown touchstart click",function(b){n(f);var d,c=a("#select2-drop");c.length>0&&(d=c.data("select2"),d.opts.selectOnBlur&&d.selectHighlighted({noFocus:!0}),d.close(),b.preventDefault(),b.stopPropagation())})),this.dropdown.prev()[0]!==f[0]&&this.dropdown.before(f),a("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),f.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var g=this;this.container.parents().add(window).each(function(){a(this).on(d+" "+c+" "+e,function(){g.opened()&&g.positionDropdown()})})},close:function(){if(this.opened()){var b=this.containerEventName,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.parents().add(window).each(function(){a(this).off(c).off(d).off(e)}),this.clearDropdownAlignmentPreference(),a("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),j.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(a.Event("select2-close"))}},externalSearch:function(a){this.open(),this.search.val(a),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return K(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var c,d,e,f,g,h,i,j,b=this.results;if(d=this.highlight(),!(0>d)){if(0==d)return b.scrollTop(0),void 0;c=this.findHighlightableChoices().find(".select2-result-label"),e=a(c[d]),j=(e.offset()||{}).top||0,f=j+e.outerHeight(!0),d===c.length-1&&(i=b.find("li.select2-more-results"),i.length>0&&(f=i.offset().top+i.outerHeight(!0))),g=b.offset().top+b.outerHeight(!0),f>g&&b.scrollTop(b.scrollTop()+(f-g)),h=j-b.offset().top,0>h&&"none"!=e.css("display")&&b.scrollTop(b.scrollTop()+h)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(b){for(var c=this.findHighlightableChoices(),d=this.highlight();d>-1&&d<c.length;){d+=b;var e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(d);
break}}},highlight:function(b){var d,e,c=this.findHighlightableChoices();return 0===arguments.length?p(c.filter(".select2-highlighted")[0],c.get()):(b>=c.length&&(b=c.length-1),0>b&&(b=0),this.removeHighlight(),d=a(c[b]),d.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",d.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(d.text()),e=d.data("select2-data"),e&&this.opts.element.trigger({type:"select2-highlight",val:this.id(e),choice:e}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(b){var c=a(b.target).closest(".select2-result-selectable");if(c.length>0&&!c.is(".select2-highlighted")){var d=this.findHighlightableChoices();this.highlight(d.index(c))}else 0==c.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var c,a=this.results,b=a.find("li.select2-more-results"),d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==b.length&&(c=b.offset().top-a.offset().top-a.height(),c<=this.opts.loadMorePadding&&(b.addClass("select2-active"),this.opts.query({element:this.opts.element,term:f,page:d,context:g,matcher:this.opts.matcher,callback:this.bind(function(c){e.opened()&&(e.opts.populateResults.call(this,a,c.results,{term:f,page:d,context:g}),e.postprocessResults(c,!1,!1),c.more===!0?(b.detach().appendTo(a).text(K(e.opts.formatLoadMore,e.opts.element,d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):b.remove(),e.positionDropdown(),e.resultsPage=d,e.context=c.context,this.opts.element.trigger({type:"select2-loaded",items:c}))})})))},tokenize:function(){},updateResults:function(c){function m(){d.removeClass("select2-active"),h.positionDropdown(),e.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?h.liveRegion.text(e.text()):h.liveRegion.text(h.opts.formatMatches(e.find(".select2-result-selectable").length))}function n(a){e.html(a),m()}var g,i,l,d=this.search,e=this.results,f=this.opts,h=this,j=d.val(),k=a.data(this.container,"select2-last-term");if((c===!0||!k||!r(j,k))&&(a.data(this.container,"select2-last-term",j),c===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var o=this.getMaximumSelectionSize();if(o>=1&&(g=this.data(),a.isArray(g)&&g.length>=o&&J(f.formatSelectionTooBig,"formatSelectionTooBig")))return n("<li class='select2-selection-limit'>"+K(f.formatSelectionTooBig,f.element,o)+"</li>"),void 0;if(d.val().length<f.minimumInputLength)return J(f.formatInputTooShort,"formatInputTooShort")?n("<li class='select2-no-results'>"+K(f.formatInputTooShort,f.element,d.val(),f.minimumInputLength)+"</li>"):n(""),c&&this.showSearch&&this.showSearch(!0),void 0;if(f.maximumInputLength&&d.val().length>f.maximumInputLength)return J(f.formatInputTooLong,"formatInputTooLong")?n("<li class='select2-no-results'>"+K(f.formatInputTooLong,f.element,d.val(),f.maximumInputLength)+"</li>"):n(""),void 0;f.formatSearching&&0===this.findHighlightableChoices().length&&n("<li class='select2-searching'>"+K(f.formatSearching,f.element)+"</li>"),d.addClass("select2-active"),this.removeHighlight(),i=this.tokenize(),i!=b&&null!=i&&d.val(i),this.resultsPage=1,f.query({element:f.element,term:d.val(),page:this.resultsPage,context:null,matcher:f.matcher,callback:this.bind(function(g){var i;if(l==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(g.hasError!==b&&J(f.formatAjaxError,"formatAjaxError"))return n("<li class='select2-ajax-error'>"+K(f.formatAjaxError,f.element,g.jqXHR,g.textStatus,g.errorThrown)+"</li>"),void 0;if(this.context=g.context===b?null:g.context,this.opts.createSearchChoice&&""!==d.val()&&(i=this.opts.createSearchChoice.call(h,d.val(),g.results),i!==b&&null!==i&&h.id(i)!==b&&null!==h.id(i)&&0===a(g.results).filter(function(){return r(h.id(this),h.id(i))}).length&&this.opts.createSearchChoicePosition(g.results,i)),0===g.results.length&&J(f.formatNoMatches,"formatNoMatches"))return n("<li class='select2-no-results'>"+K(f.formatNoMatches,f.element,d.val())+"</li>"),void 0;e.empty(),h.opts.populateResults.call(this,e,g.results,{term:d.val(),page:this.resultsPage,context:null}),g.more===!0&&J(f.formatLoadMore,"formatLoadMore")&&(e.append("<li class='select2-more-results'>"+f.escapeMarkup(K(f.formatLoadMore,f.element,this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(g,c),m(),this.opts.element.trigger({type:"select2-loaded",items:g})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){y(this.search)},selectHighlighted:function(a){if(this._touchMoved)return this.clearTouchMoved(),void 0;var b=this.highlight(),c=this.results.find(".select2-highlighted"),d=c.closest(".select2-result").data("select2-data");d?(this.highlight(b),this.onSelect(d,a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==b?a.text():b)},getPlaceholderOption:function(){if(this.select){var c=this.select.children("option").first();if(this.opts.placeholderOption!==b)return"first"===this.opts.placeholderOption&&c||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===a.trim(c.text())&&""===c.val())return c}},initContainerWidth:function(){function c(){var c,d,e,f,g,h;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(c=this.opts.element.attr("style"),c!==b)for(d=c.split(";"),f=0,g=d.length;g>f;f+=1)if(h=d[f].replace(/\s/g,""),e=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==e&&e.length>=1)return e[1];return"resolve"===this.opts.width?(c=this.opts.element.css("width"),c.indexOf("%")>0?c:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}var d=c.call(this);null!==d&&this.container.css("width",d)}}),e=O(d,{createContainer:function(){var b=a(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return b},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var c,d,e;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),c=this.search.get(0),c.createTextRange?(d=c.createTextRange(),d.collapse(!1),d.select()):c.setSelectionRange&&(e=this.search.val().length,c.setSelectionRange(e,e))),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){a("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),N.call(this,"selection","focusser")},initContainer:function(){var b,h,d=this.container,e=this.dropdown,f=g();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=b=d.find(".select2-choice"),this.focusser=d.find(".select2-focusser"),b.find(".select2-chosen").attr("id","select2-chosen-"+f),this.focusser.attr("aria-labelledby","select2-chosen-"+f),this.results.attr("id","select2-results-"+f),this.search.attr("aria-owns","select2-results-"+f),this.focusser.attr("id","s2id_autogen"+f),h=a("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(h.text()).attr("for",this.focusser.attr("id"));var i=this.opts.element.attr("title");this.opts.element.attr("title",i||h.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(a("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&229!=a.keyCode){if(a.which===c.PAGE_UP||a.which===c.PAGE_DOWN)return A(a),void 0;switch(a.which){case c.UP:case c.DOWN:return this.moveHighlight(a.which===c.UP?-1:1),A(a),void 0;case c.ENTER:return this.selectHighlighted(),A(a),void 0;case c.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case c.ESC:return this.cancel(a),A(a),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==c.TAB&&!c.isControl(a)&&!c.isFunctionKey(a)&&a.which!==c.ESC){if(this.opts.openOnEnter===!1&&a.which===c.ENTER)return A(a),void 0;if(a.which==c.DOWN||a.which==c.UP||a.which==c.ENTER&&this.opts.openOnEnter){if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return;return this.open(),A(a),void 0}return a.which==c.DELETE||a.which==c.BACKSPACE?(this.opts.allowClear&&this.clear(),A(a),void 0):void 0}})),u(this.focusser),this.focusser.on("keyup-change input",this.bind(function(a){if(this.opts.minimumResultsForSearch>=0){if(a.stopPropagation(),this.opened())return;this.open()}})),b.on("mousedown touchstart","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),B(a),this.close(),this.selection.focus())})),b.on("mousedown touchstart",this.bind(function(c){n(b),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),A(c)})),e.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),b.on("focus",this.bind(function(a){A(a)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(a.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(b){var c=this.selection.data("select2-data");if(c){var d=a.Event("select2-clearing");if(this.opts.element.trigger(d),d.isDefaultPrevented())return;var e=this.getPlaceholderOption();this.opts.element.val(e?e.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),b!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var c=this;this.opts.initSelection.call(null,this.opts.element,function(a){a!==b&&null!==a&&(c.updateSelection(a),c.close(),c.setPlaceholder(),c.nextSearchTerm=c.opts.nextSearchTerm(a,c.search.val()))})}},isPlaceholderOptionSelected:function(){var a;return this.getPlaceholder()===b?!1:(a=this.getPlaceholderOption())!==b&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===b||null===this.opts.element.val()},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=a.find("option").filter(function(){return this.selected&&!this.disabled});b(c.optionToData(d))}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=c.val(),f=null;b.query({matcher:function(a,c,d){var g=r(e,b.id(d));return g&&(f=d),g},callback:a.isFunction(d)?function(){d(f)}:a.noop})}),b},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===b?b:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&a!==b){if(this.select&&this.getPlaceholderOption()===b)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(a,b,c){var d=0,e=this;if(this.findHighlightableChoices().each2(function(a,b){return r(e.id(b.data("select2-data")),e.opts.element.val())?(d=a,!1):void 0}),c!==!1&&(b===!0&&d>=0?this.highlight(d):this.highlight(0)),b===!0){var g=this.opts.minimumResultsForSearch;g>=0&&this.showSearch(L(a.results)>=g)}},showSearch:function(b){this.showSearchInput!==b&&(this.showSearchInput=b,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!b),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!b),a(this.dropdown,this.container).toggleClass("select2-with-searchbox",b))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a)),this.updateSelection(a),this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.close(),b&&b.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),r(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var d,e,c=this.selection.find(".select2-chosen");this.selection.data("select2-data",a),c.empty(),null!==a&&(d=this.opts.formatSelection(a,c,this.opts.escapeMarkup)),d!==b&&c.append(d),e=this.opts.formatSelectionCssClass(a,c),e!==b&&c.addClass(e),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==b&&this.container.addClass("select2-allowclear")},val:function(){var a,c=!1,d=null,e=this,f=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],arguments.length>1&&(c=arguments[1]),this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return d=e.optionToData(b),!1}),this.updateSelection(d),this.setPlaceholder(),c&&this.triggerChange({added:d,removed:f});else{if(!a&&0!==a)return this.clear(c),void 0;if(this.opts.initSelection===b)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){e.opts.element.val(a?e.id(a):""),e.updateSelection(a),e.setPlaceholder(),c&&e.triggerChange({added:a,removed:f})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(a){var c,d=!1;return 0===arguments.length?(c=this.selection.data("select2-data"),c==b&&(c=null),c):(arguments.length>1&&(d=arguments[1]),a?(c=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),d&&this.triggerChange({added:a,removed:c})):this.clear(d),void 0)}}),f=O(d,{createContainer:function(){var b=a(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return b},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=[];a.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(a,b){d.push(c.optionToData(b))}),b(d)}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=s(c.val(),b.separator),f=[];b.query({matcher:function(c,d,g){var h=a.grep(e,function(a){return r(a,b.id(g))}).length;return h&&f.push(g),h},callback:a.isFunction(d)?function(){for(var a=[],c=0;c<e.length;c++)for(var g=e[c],h=0;h<f.length;h++){var i=f[h];if(r(g,b.id(i))){a.push(i),f.splice(h,1);break}}d(a)}:a.noop})}),b},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){a("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),N.call(this,"searchContainer","selection")},initContainer:function(){var d,b=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=d=this.container.find(b);var e=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){e.search[0].focus(),e.selectChoice(a(this))}),this.search.attr("id","s2id_autogen"+g()),this.search.prev().text(a("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){++this.keydowns;var b=d.find(".select2-search-choice-focus"),e=b.prev(".select2-search-choice:not(.select2-locked)"),f=b.next(".select2-search-choice:not(.select2-locked)"),g=z(this.search);if(b.length&&(a.which==c.LEFT||a.which==c.RIGHT||a.which==c.BACKSPACE||a.which==c.DELETE||a.which==c.ENTER)){var h=b;return a.which==c.LEFT&&e.length?h=e:a.which==c.RIGHT?h=f.length?f:null:a.which===c.BACKSPACE?this.unselect(b.first())&&(this.search.width(10),h=e.length?e:f):a.which==c.DELETE?this.unselect(b.first())&&(this.search.width(10),h=f.length?f:null):a.which==c.ENTER&&(h=null),this.selectChoice(h),A(a),h&&h.length||this.open(),void 0}if((a.which===c.BACKSPACE&&1==this.keydowns||a.which==c.LEFT)&&0==g.offset&&!g.length)return this.selectChoice(d.find(".select2-search-choice:not(.select2-locked)").last()),A(a),void 0;if(this.selectChoice(null),this.opened())switch(a.which){case c.UP:case c.DOWN:return this.moveHighlight(a.which===c.UP?-1:1),A(a),void 0;case c.ENTER:return this.selectHighlighted(),A(a),void 0;case c.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case c.ESC:return this.cancel(a),A(a),void 0}if(a.which!==c.TAB&&!c.isControl(a)&&!c.isFunctionKey(a)&&a.which!==c.BACKSPACE&&a.which!==c.ESC){if(a.which===c.ENTER){if(this.opts.openOnEnter===!1)return;if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return}this.open(),(a.which===c.PAGE_UP||a.which===c.PAGE_DOWN)&&A(a),a.which===c.ENTER&&A(a)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(b){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),b.stopImmediatePropagation(),this.opts.element.trigger(a.Event("select2-blur"))})),this.container.on("click",b,this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.open(),this.focusSearch(),b.preventDefault()))})),this.container.on("focus",b,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var c=this;this.opts.initSelection.call(null,this.opts.element,function(a){a!==b&&null!==a&&(c.updateSelection(a),c.close(),c.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder(),c=this.getMaxSearchWidth();a!==b&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(a).addClass("select2-default"),this.search.width(c>0?c:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var c=[],d=[],e=this;a(b).each(function(){p(e.id(this),c)<0&&(c.push(e.id(this)),d.push(this))}),b=d,this.selection.find(".select2-search-choice").remove(),a(b).each(function(){e.addSelectedChoice(this)}),e.postprocessResults()},tokenize:function(){var a=this.search.val();a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts),null!=a&&a!=b&&(this.search.val(a),a.length>0&&this.open())},onSelect:function(a,c){this.triggerSelect(a)&&""!==a.text&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),c&&c.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(c){var j,k,d=!c.locked,e=a("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),f=a("<li class='select2-search-choice select2-locked'><div></div></li>"),g=d?e:f,h=this.id(c),i=this.getVal();j=this.opts.formatSelection(c,g.find("div"),this.opts.escapeMarkup),j!=b&&g.find("div").replaceWith("<div>"+j+"</div>"),k=this.opts.formatSelectionCssClass(c,g.find("div")),k!=b&&g.addClass(k),d&&g.find(".select2-search-choice-close").on("mousedown",A).on("click dblclick",this.bind(function(b){this.isInterfaceEnabled()&&(this.unselect(a(b.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),A(b),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),g.data("select2-data",c),g.insertBefore(this.searchContainer),i.push(h),this.setVal(i)},unselect:function(b){var d,e,c=this.getVal();if(b=b.closest(".select2-search-choice"),0===b.length)throw"Invalid argument: "+b+". Must be .select2-search-choice";if(d=b.data("select2-data")){var f=a.Event("select2-removing");if(f.val=this.id(d),f.choice=d,this.opts.element.trigger(f),f.isDefaultPrevented())return!1;for(;(e=p(this.id(d),c))>=0;)c.splice(e,1),this.setVal(c),this.select&&this.postprocessResults();return b.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(d),choice:d}),this.triggerChange({removed:d}),!0}},postprocessResults:function(a,b,c){var d=this.getVal(),e=this.results.find(".select2-result"),f=this.results.find(".select2-result-with-children"),g=this;e.each2(function(a,b){var c=g.id(b.data("select2-data"));p(c,d)>=0&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))}),f.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")}),-1==this.highlight()&&c!==!1&&g.highlight(0),!this.opts.createSearchChoice&&!e.filter(".select2-result:not(.select2-selected)").length>0&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&J(g.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+K(g.opts.formatNoMatches,g.opts.element,g.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-t(this.search)},resizeSearch:function(){var a,b,c,d,e,f=t(this.search);a=C(this.search)+10,b=this.search.offset().left,c=this.selection.width(),d=this.selection.offset().left,e=c-(b-d)-f,a>e&&(e=c-f),40>e&&(e=c-f),0>=e&&(e=a),this.search.width(Math.floor(e))},getVal:function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),s(a,this.opts.separator))},setVal:function(b){var c;this.select?this.select.val(b):(c=[],a(b).each(function(){p(this,c)<0&&c.push(this)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator)))},buildChangeDetails:function(a,b){for(var b=b.slice(0),a=a.slice(0),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)r(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),c>0&&c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(c,d){var e,f=this;if(0===arguments.length)return this.getVal();if(e=this.data(),e.length||(e=[]),!c&&0!==c)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),d&&this.triggerChange({added:this.data(),removed:e}),void 0;if(this.setVal(c),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),d&&this.triggerChange(this.buildChangeDetails(e,this.data()));else{if(this.opts.initSelection===b)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a.map(b,f.id);f.setVal(c),f.updateSelection(b),f.clearSearch(),d&&f.triggerChange(f.buildChangeDetails(e,f.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))}),this.setVal(b),this.triggerChange()},data:function(b,c){var e,f,d=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get():(f=this.data(),b||(b=[]),e=a.map(b,function(a){return d.opts.id(a)}),this.setVal(e),this.updateSelection(b),this.clearSearch(),c&&this.triggerChange(this.buildChangeDetails(f,this.data())),void 0)}}),a.fn.select2=function(){var d,e,f,g,h,c=Array.prototype.slice.call(arguments,0),i=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],j=["opened","isFocused","container","dropdown"],k=["val","data"],l={search:"externalSearch"};return this.each(function(){if(0===c.length||"object"==typeof c[0])d=0===c.length?{}:a.extend({},c[0]),d.element=a(this),"select"===d.element.get(0).tagName.toLowerCase()?h=d.element.prop("multiple"):(h=d.multiple||!1,"tags"in d&&(d.multiple=h=!0)),e=h?new window.Select2["class"].multi:new window.Select2["class"].single,e.init(d);else{if("string"!=typeof c[0])throw"Invalid arguments to select2 plugin: "+c;if(p(c[0],i)<0)throw"Unknown method: "+c[0];if(g=b,e=a(this).data("select2"),e===b)return;if(f=c[0],"container"===f?g=e.container:"dropdown"===f?g=e.dropdown:(l[f]&&(f=l[f]),g=e[f].apply(e,c.slice(1))),p(c[0],j)>=0||p(c[0],k)>=0&&1==c.length)return!1}}),g===b?this:g},a.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){var e=[];return E(a.text,c.term,e,d),e.join("")},formatSelection:function(a,c,d){return a?d(a.text):b},sortResults:function(a){return a},formatResultCssClass:function(a){return a.css},formatSelectionCssClass:function(){return b},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a==b?null:a.id},matcher:function(a,b){return o(""+b).toUpperCase().indexOf(o(""+a).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:M,escapeMarkup:F,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return b},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(a){var b="ontouchstart"in window||navigator.msMaxTouchPoints>0;return b?a.opts.minimumResultsForSearch<0?!1:!0:!0}},a.fn.select2.locales=[],a.fn.select2.locales.en={formatMatches:function(a){return 1===a?"One result is available, press enter to select it.":a+" results are available, use up and down arrow keys to navigate."
},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" or more character"+(1==c?"":"s")},formatInputTooLong:function(a,b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"}},a.extend(a.fn.select2.defaults,a.fn.select2.locales.en),a.fn.select2.ajaxDefaults={transport:a.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:G,local:H,tags:I},util:{debounce:w,markMatch:E,escapeMarkup:F,stripDiacritics:o},"class":{"abstract":d,single:e,multi:f}}}}(jQuery);



/*! Sortable 1.4.2 - MIT | git://github.com/rubaxa/Sortable.git */
!function(a){"use strict";"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a():"undefined"!=typeof Package?Sortable=a():window.Sortable=a()}(function(){"use strict";function a(a,b){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(a);this.el=a,this.options=b=r({},b),a[L]=this;var c={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(a.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(a,b){a.setData("Text",b.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var d in c)!(d in b)&&(b[d]=c[d]);V(b);for(var f in this)"_"===f.charAt(0)&&(this[f]=this[f].bind(this));this.nativeDraggable=b.forceFallback?!1:P,e(a,"mousedown",this._onTapStart),e(a,"touchstart",this._onTapStart),this.nativeDraggable&&(e(a,"dragover",this),e(a,"dragenter",this)),T.push(this._onDragOver),b.store&&this.sort(b.store.get(this))}function b(a){v&&v.state!==a&&(h(v,"display",a?"none":""),!a&&v.state&&w.insertBefore(v,s),v.state=a)}function c(a,b,c){if(a){c=c||N,b=b.split(".");var d=b.shift().toUpperCase(),e=new RegExp("\\s("+b.join("|")+")(?=\\s)","g");do if(">*"===d&&a.parentNode===c||(""===d||a.nodeName.toUpperCase()==d)&&(!b.length||((" "+a.className+" ").match(e)||[]).length==b.length))return a;while(a!==c&&(a=a.parentNode))}return null}function d(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.preventDefault()}function e(a,b,c){a.addEventListener(b,c,!1)}function f(a,b,c){a.removeEventListener(b,c,!1)}function g(a,b,c){if(a)if(a.classList)a.classList[c?"add":"remove"](b);else{var d=(" "+a.className+" ").replace(K," ").replace(" "+b+" "," ");a.className=(d+(c?" "+b:"")).replace(K," ")}}function h(a,b,c){var d=a&&a.style;if(d){if(void 0===c)return N.defaultView&&N.defaultView.getComputedStyle?c=N.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:c[b];b in d||(b="-webkit-"+b),d[b]=c+("string"==typeof c?"":"px")}}function i(a,b,c){if(a){var d=a.getElementsByTagName(b),e=0,f=d.length;if(c)for(;f>e;e++)c(d[e],e);return d}return[]}function j(a,b,c,d,e,f,g){var h=N.createEvent("Event"),i=(a||b[L]).options,j="on"+c.charAt(0).toUpperCase()+c.substr(1);h.initEvent(c,!0,!0),h.to=b,h.from=e||b,h.item=d||b,h.clone=v,h.oldIndex=f,h.newIndex=g,b.dispatchEvent(h),i[j]&&i[j].call(a,h)}function k(a,b,c,d,e,f){var g,h,i=a[L],j=i.options.onMove;return g=N.createEvent("Event"),g.initEvent("move",!0,!0),g.to=b,g.from=a,g.dragged=c,g.draggedRect=d,g.related=e||b,g.relatedRect=f||b.getBoundingClientRect(),a.dispatchEvent(g),j&&(h=j.call(i,g)),h}function l(a){a.draggable=!1}function m(){R=!1}function n(a,b){var c=a.lastElementChild,d=c.getBoundingClientRect();return(b.clientY-(d.top+d.height)>5||b.clientX-(d.right+d.width)>5)&&c}function o(a){for(var b=a.tagName+a.className+a.src+a.href+a.textContent,c=b.length,d=0;c--;)d+=b.charCodeAt(c);return d.toString(36)}function p(a){var b=0;if(!a||!a.parentNode)return-1;for(;a&&(a=a.previousElementSibling);)"TEMPLATE"!==a.nodeName.toUpperCase()&&b++;return b}function q(a,b){var c,d;return function(){void 0===c&&(c=arguments,d=this,setTimeout(function(){1===c.length?a.call(d,c[0]):a.apply(d,c),c=void 0},b))}}function r(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J={},K=/\s+/g,L="Sortable"+(new Date).getTime(),M=window,N=M.document,O=M.parseInt,P=!!("draggable"in N.createElement("div")),Q=function(a){return a=N.createElement("x"),a.style.cssText="pointer-events:auto","auto"===a.style.pointerEvents}(),R=!1,S=Math.abs,T=([].slice,[]),U=q(function(a,b,c){if(c&&b.scroll){var d,e,f,g,h=b.scrollSensitivity,i=b.scrollSpeed,j=a.clientX,k=a.clientY,l=window.innerWidth,m=window.innerHeight;if(z!==c&&(y=b.scroll,z=c,y===!0)){y=c;do if(y.offsetWidth<y.scrollWidth||y.offsetHeight<y.scrollHeight)break;while(y=y.parentNode)}y&&(d=y,e=y.getBoundingClientRect(),f=(S(e.right-j)<=h)-(S(e.left-j)<=h),g=(S(e.bottom-k)<=h)-(S(e.top-k)<=h)),f||g||(f=(h>=l-j)-(h>=j),g=(h>=m-k)-(h>=k),(f||g)&&(d=M)),(J.vx!==f||J.vy!==g||J.el!==d)&&(J.el=d,J.vx=f,J.vy=g,clearInterval(J.pid),d&&(J.pid=setInterval(function(){d===M?M.scrollTo(M.pageXOffset+f*i,M.pageYOffset+g*i):(g&&(d.scrollTop+=g*i),f&&(d.scrollLeft+=f*i))},24)))}},30),V=function(a){var b=a.group;b&&"object"==typeof b||(b=a.group={name:b}),["pull","put"].forEach(function(a){a in b||(b[a]=!0)}),a.groups=" "+b.name+(b.put.join?" "+b.put.join(" "):"")+" "};return a.prototype={constructor:a,_onTapStart:function(a){var b=this,d=this.el,e=this.options,f=a.type,g=a.touches&&a.touches[0],h=(g||a).target,i=h,k=e.filter;if(!("mousedown"===f&&0!==a.button||e.disabled)&&(h=c(h,e.draggable,d))){if(D=p(h),"function"==typeof k){if(k.call(this,a,h,this))return j(b,i,"filter",h,d,D),void a.preventDefault()}else if(k&&(k=k.split(",").some(function(a){return a=c(i,a.trim(),d),a?(j(b,a,"filter",h,d,D),!0):void 0})))return void a.preventDefault();(!e.handle||c(i,e.handle,d))&&this._prepareDragStart(a,g,h)}},_prepareDragStart:function(a,b,c){var d,f=this,h=f.el,j=f.options,k=h.ownerDocument;c&&!s&&c.parentNode===h&&(G=a,w=h,s=c,t=s.parentNode,x=s.nextSibling,F=j.group,d=function(){f._disableDelayedDrag(),s.draggable=!0,g(s,f.options.chosenClass,!0),f._triggerDragStart(b)},j.ignore.split(",").forEach(function(a){i(s,a.trim(),l)}),e(k,"mouseup",f._onDrop),e(k,"touchend",f._onDrop),e(k,"touchcancel",f._onDrop),j.delay?(e(k,"mouseup",f._disableDelayedDrag),e(k,"touchend",f._disableDelayedDrag),e(k,"touchcancel",f._disableDelayedDrag),e(k,"mousemove",f._disableDelayedDrag),e(k,"touchmove",f._disableDelayedDrag),f._dragStartTimer=setTimeout(d,j.delay)):d())},_disableDelayedDrag:function(){var a=this.el.ownerDocument;clearTimeout(this._dragStartTimer),f(a,"mouseup",this._disableDelayedDrag),f(a,"touchend",this._disableDelayedDrag),f(a,"touchcancel",this._disableDelayedDrag),f(a,"mousemove",this._disableDelayedDrag),f(a,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(a){a?(G={target:s,clientX:a.clientX,clientY:a.clientY},this._onDragStart(G,"touch")):this.nativeDraggable?(e(s,"dragend",this),e(w,"dragstart",this._onDragStart)):this._onDragStart(G,!0);try{N.selection?N.selection.empty():window.getSelection().removeAllRanges()}catch(b){}},_dragStarted:function(){w&&s&&(g(s,this.options.ghostClass,!0),a.active=this,j(this,w,"start",s,w,D))},_emulateDragOver:function(){if(H){if(this._lastX===H.clientX&&this._lastY===H.clientY)return;this._lastX=H.clientX,this._lastY=H.clientY,Q||h(u,"display","none");var a=N.elementFromPoint(H.clientX,H.clientY),b=a,c=" "+this.options.group.name,d=T.length;if(b)do{if(b[L]&&b[L].options.groups.indexOf(c)>-1){for(;d--;)T[d]({clientX:H.clientX,clientY:H.clientY,target:a,rootEl:b});break}a=b}while(b=b.parentNode);Q||h(u,"display","")}},_onTouchMove:function(b){if(G){a.active||this._dragStarted(),this._appendGhost();var c=b.touches?b.touches[0]:b,d=c.clientX-G.clientX,e=c.clientY-G.clientY,f=b.touches?"translate3d("+d+"px,"+e+"px,0)":"translate("+d+"px,"+e+"px)";I=!0,H=c,h(u,"webkitTransform",f),h(u,"mozTransform",f),h(u,"msTransform",f),h(u,"transform",f),b.preventDefault()}},_appendGhost:function(){if(!u){var a,b=s.getBoundingClientRect(),c=h(s),d=this.options;u=s.cloneNode(!0),g(u,d.ghostClass,!1),g(u,d.fallbackClass,!0),h(u,"top",b.top-O(c.marginTop,10)),h(u,"left",b.left-O(c.marginLeft,10)),h(u,"width",b.width),h(u,"height",b.height),h(u,"opacity","0.8"),h(u,"position","fixed"),h(u,"zIndex","100000"),h(u,"pointerEvents","none"),d.fallbackOnBody&&N.body.appendChild(u)||w.appendChild(u),a=u.getBoundingClientRect(),h(u,"width",2*b.width-a.width),h(u,"height",2*b.height-a.height)}},_onDragStart:function(a,b){var c=a.dataTransfer,d=this.options;this._offUpEvents(),"clone"==F.pull&&(v=s.cloneNode(!0),h(v,"display","none"),w.insertBefore(v,s)),b?("touch"===b?(e(N,"touchmove",this._onTouchMove),e(N,"touchend",this._onDrop),e(N,"touchcancel",this._onDrop)):(e(N,"mousemove",this._onTouchMove),e(N,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(c&&(c.effectAllowed="move",d.setData&&d.setData.call(this,c,s)),e(N,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(a){var d,e,f,g=this.el,i=this.options,j=i.group,l=j.put,o=F===j,p=i.sort;if(void 0!==a.preventDefault&&(a.preventDefault(),!i.dragoverBubble&&a.stopPropagation()),I=!0,F&&!i.disabled&&(o?p||(f=!w.contains(s)):F.pull&&l&&(F.name===j.name||l.indexOf&&~l.indexOf(F.name)))&&(void 0===a.rootEl||a.rootEl===this.el)){if(U(a,i,this.el),R)return;if(d=c(a.target,i.draggable,g),e=s.getBoundingClientRect(),f)return b(!0),void(v||x?w.insertBefore(s,v||x):p||w.appendChild(s));if(0===g.children.length||g.children[0]===u||g===a.target&&(d=n(g,a))){if(d){if(d.animated)return;r=d.getBoundingClientRect()}b(o),k(w,g,s,e,d,r)!==!1&&(s.contains(g)||(g.appendChild(s),t=g),this._animate(e,s),d&&this._animate(r,d))}else if(d&&!d.animated&&d!==s&&void 0!==d.parentNode[L]){A!==d&&(A=d,B=h(d),C=h(d.parentNode));var q,r=d.getBoundingClientRect(),y=r.right-r.left,z=r.bottom-r.top,D=/left|right|inline/.test(B.cssFloat+B.display)||"flex"==C.display&&0===C["flex-direction"].indexOf("row"),E=d.offsetWidth>s.offsetWidth,G=d.offsetHeight>s.offsetHeight,H=(D?(a.clientX-r.left)/y:(a.clientY-r.top)/z)>.5,J=d.nextElementSibling,K=k(w,g,s,e,d,r);if(K!==!1){if(R=!0,setTimeout(m,30),b(o),1===K||-1===K)q=1===K;else if(D){var M=s.offsetTop,N=d.offsetTop;q=M===N?d.previousElementSibling===s&&!E||H&&E:N>M}else q=J!==s&&!G||H&&G;s.contains(g)||(q&&!J?g.appendChild(s):d.parentNode.insertBefore(s,q?J:d)),t=s.parentNode,this._animate(e,s),this._animate(r,d)}}}},_animate:function(a,b){var c=this.options.animation;if(c){var d=b.getBoundingClientRect();h(b,"transition","none"),h(b,"transform","translate3d("+(a.left-d.left)+"px,"+(a.top-d.top)+"px,0)"),b.offsetWidth,h(b,"transition","all "+c+"ms"),h(b,"transform","translate3d(0,0,0)"),clearTimeout(b.animated),b.animated=setTimeout(function(){h(b,"transition",""),h(b,"transform",""),b.animated=!1},c)}},_offUpEvents:function(){var a=this.el.ownerDocument;f(N,"touchmove",this._onTouchMove),f(a,"mouseup",this._onDrop),f(a,"touchend",this._onDrop),f(a,"touchcancel",this._onDrop)},_onDrop:function(b){var c=this.el,d=this.options;clearInterval(this._loopId),clearInterval(J.pid),clearTimeout(this._dragStartTimer),f(N,"mousemove",this._onTouchMove),this.nativeDraggable&&(f(N,"drop",this),f(c,"dragstart",this._onDragStart)),this._offUpEvents(),b&&(I&&(b.preventDefault(),!d.dropBubble&&b.stopPropagation()),u&&u.parentNode.removeChild(u),s&&(this.nativeDraggable&&f(s,"dragend",this),l(s),g(s,this.options.ghostClass,!1),g(s,this.options.chosenClass,!1),w!==t?(E=p(s),E>=0&&(j(null,t,"sort",s,w,D,E),j(this,w,"sort",s,w,D,E),j(null,t,"add",s,w,D,E),j(this,w,"remove",s,w,D,E))):(v&&v.parentNode.removeChild(v),s.nextSibling!==x&&(E=p(s),E>=0&&(j(this,w,"update",s,w,D,E),j(this,w,"sort",s,w,D,E)))),a.active&&((null===E||-1===E)&&(E=D),j(this,w,"end",s,w,D,E),this.save())),w=s=t=u=x=v=y=z=G=H=I=E=A=B=F=a.active=null)},handleEvent:function(a){var b=a.type;"dragover"===b||"dragenter"===b?s&&(this._onDragOver(a),d(a)):("drop"===b||"dragend"===b)&&this._onDrop(a)},toArray:function(){for(var a,b=[],d=this.el.children,e=0,f=d.length,g=this.options;f>e;e++)a=d[e],c(a,g.draggable,this.el)&&b.push(a.getAttribute(g.dataIdAttr)||o(a));return b},sort:function(a){var b={},d=this.el;this.toArray().forEach(function(a,e){var f=d.children[e];c(f,this.options.draggable,d)&&(b[a]=f)},this),a.forEach(function(a){b[a]&&(d.removeChild(b[a]),d.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set(this)},closest:function(a,b){return c(a,b||this.options.draggable,this.el)},option:function(a,b){var c=this.options;return void 0===b?c[a]:(c[a]=b,void("group"===a&&V(c)))},destroy:function(){var a=this.el;a[L]=null,f(a,"mousedown",this._onTapStart),f(a,"touchstart",this._onTapStart),this.nativeDraggable&&(f(a,"dragover",this),f(a,"dragenter",this)),Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),T.splice(T.indexOf(this._onDragOver),1),this._onDrop(),this.el=a=null}},a.utils={on:e,off:f,css:h,find:i,is:function(a,b){return!!c(a,b,a)},extend:r,throttle:q,closest:c,toggleClass:g,index:p},a.create=function(b,c){return new a(b,c)},a.version="1.4.2",a});



!function(e){e(["jquery"],function(e){return function(){function t(e,t,n){return f({type:O.error,iconClass:g().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(t,n){return t||(t=g()),v=e("#"+t.containerId),v.length?v:(n&&(v=c(t)),v)}function i(e,t,n){return f({type:O.info,iconClass:g().iconClasses.info,message:e,optionsOverride:n,title:t})}function o(e){w=e}function s(e,t,n){return f({type:O.success,iconClass:g().iconClasses.success,message:e,optionsOverride:n,title:t})}function a(e,t,n){return f({type:O.warning,iconClass:g().iconClasses.warning,message:e,optionsOverride:n,title:t})}function r(e){var t=g();v||n(t),l(e,t)||u(t)}function d(t){var i=g();return v||n(i),t&&0===e(":focus",t).length?void h(t):void(v.children().length&&v.remove())}function u(t){for(var n=v.children(),i=n.length-1;i>=0;i--)l(e(n[i]),t)}function l(t,n){return t&&0===e(":focus",t).length?(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){h(t)}}),!0):!1}function c(t){return v=e("<div/>").attr("id",t.containerId).addClass(t.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo(e(t.target)),v}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function m(e){w&&w(e)}function f(t){function i(t){return!e(":focus",l).length||t?(clearTimeout(O.intervalId),l[r.hideMethod]({duration:r.hideDuration,easing:r.hideEasing,complete:function(){h(l),r.onHidden&&"hidden"!==b.state&&r.onHidden(),b.state="hidden",b.endTime=new Date,m(b)}})):void 0}function o(){(r.timeOut>0||r.extendedTimeOut>0)&&(u=setTimeout(i,r.extendedTimeOut),O.maxHideTime=parseFloat(r.extendedTimeOut),O.hideEta=(new Date).getTime()+O.maxHideTime)}function s(){clearTimeout(u),O.hideEta=0,l.stop(!0,!0)[r.showMethod]({duration:r.showDuration,easing:r.showEasing})}function a(){var e=(O.hideEta-(new Date).getTime())/O.maxHideTime*100;f.width(e+"%")}var r=g(),d=t.iconClass||r.iconClass;if("undefined"!=typeof t.optionsOverride&&(r=e.extend(r,t.optionsOverride),d=t.optionsOverride.iconClass||d),r.preventDuplicates){if(t.message===C)return;C=t.message}T++,v=n(r,!0);var u=null,l=e("<div/>"),c=e("<div/>"),p=e("<div/>"),f=e("<div/>"),w=e(r.closeHtml),O={intervalId:null,hideEta:null,maxHideTime:null},b={toastId:T,state:"visible",startTime:new Date,options:r,map:t};return t.iconClass&&l.addClass(r.toastClass).addClass(d),t.title&&(c.append(t.title).addClass(r.titleClass),l.append(c)),t.message&&(p.append(t.message).addClass(r.messageClass),l.append(p)),r.closeButton&&(w.addClass("toast-close-button").attr("role","button"),l.prepend(w)),r.progressBar&&(f.addClass("toast-progress"),l.prepend(f)),l.hide(),r.newestOnTop?v.prepend(l):v.append(l),l[r.showMethod]({duration:r.showDuration,easing:r.showEasing,complete:r.onShown}),r.timeOut>0&&(u=setTimeout(i,r.timeOut),O.maxHideTime=parseFloat(r.timeOut),O.hideEta=(new Date).getTime()+O.maxHideTime,r.progressBar&&(O.intervalId=setInterval(a,10))),l.hover(s,o),!r.onclick&&r.tapToDismiss&&l.click(i),r.closeButton&&w&&w.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),i(!0)}),r.onclick&&l.click(function(){r.onclick(),i()}),m(b),r.debug&&console&&console.log(b),l}function g(){return e.extend({},p(),b.options)}function h(e){v||(v=n()),e.is(":visible")||(e.remove(),e=null,0===v.children().length&&(v.remove(),C=void 0))}var v,w,C,T=0,O={error:"error",info:"info",success:"success",warning:"warning"},b={clear:r,remove:d,error:t,getContainer:n,info:i,options:{},subscribe:o,success:s,version:"2.1.0",warning:a};return b}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)});
//# sourceMappingURL=toastr.js.map




(function(t){t.extend(true,window,{Slick:{Event:i,EventData:n,EventHandler:e,Range:r,NonDataRow:o,Group:u,GroupTotals:s,EditorLock:l,GlobalEditorLock:new l,keyCode:{BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38},TreeColumns:c}});function n(){var t=false;var n=false;this.stopPropagation=function(){t=true};this.isPropagationStopped=function(){return t};this.stopImmediatePropagation=function(){n=true};this.isImmediatePropagationStopped=function(){return n}}function i(){var t=[];this.subscribe=function(n){t.push(n)};this.unsubscribe=function(n){for(var i=t.length-1;i>=0;i--){if(t[i]===n){t.splice(i,1)}}};this.notify=function(i,e,r){e=e||new n;r=r||this;var o;for(var u=0;u<t.length&&!(e.isPropagationStopped()||e.isImmediatePropagationStopped());u++){o=t[u].call(r,e,i)}return o};this.clear=function(t){this.handlers=[]}}function e(){var t=[];this.subscribe=function(n,i){t.push({event:n,handler:i});n.subscribe(i);return this};this.unsubscribe=function(n,i){var e=t.length;while(e--){if(t[e].event===n&&t[e].handler===i){t.splice(e,1);n.unsubscribe(i);return}}return this};this.unsubscribeAll=function(){var n=t.length;while(n--){t[n].event.unsubscribe(t[n].handler)}t=[];return this}}function r(t,n,i,e){if(i===undefined&&e===undefined){i=t;e=n}this.fromRow=Math.min(t,i);this.fromCell=Math.min(n,e);this.toRow=Math.max(t,i);this.toCell=Math.max(n,e);this.isSingleRow=function(){return this.fromRow==this.toRow};this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell};this.contains=function(t,n){return t>=this.fromRow&&t<=this.toRow&&n>=this.fromCell&&n<=this.toCell};this.toString=function(){if(this.isSingleCell()){return"("+this.fromRow+":"+this.fromCell+")"}else{return"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}}}function o(){this.__nonDataRow=true}function u(){this.__group=true;this.level=0;this.count=0;this.value=null;this.title=null;this.collapsed=false;this.totals=null;this.rows=[];this.groups=null;this.groupingKey=null}u.prototype=new o;u.prototype.equals=function(t){return this.value===t.value&&this.count===t.count&&this.collapsed===t.collapsed&&this.title===t.title};function s(){this.__groupTotals=true;this.group=null;this.initialized=false}s.prototype=new o;function l(){var t=null;this.isActive=function(n){return n?t===n:t!==null};this.activate=function(n){if(n===t){return}if(t!==null){throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController"}if(!n.commitCurrentEdit){throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()"}if(!n.cancelCurrentEdit){throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()"}t=n};this.deactivate=function(n){if(t!==n){throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one"}t=null};this.commitCurrentEdit=function(){return t?t.commitCurrentEdit():true};this.cancelCurrentEdit=function n(){return t?t.cancelCurrentEdit():true}}function c(n){var i={};function e(){r(n)}function r(t){t.forEach(function(t){i[t.id]=t;if(t.columns)r(t.columns)})}function o(t,n){return t.filter(function(t){var i=n.call(t);if(i&&t.columns)t.columns=o(t.columns,n);return i&&(!t.columns||t.columns.length)})}function u(t,n){t.sort(function(t,i){var e=s(n.getColumnIndex(t.id)),r=s(n.getColumnIndex(i.id));return e-r}).forEach(function(t){if(t.columns)u(t.columns,n)})}function s(t){return typeof t==="undefined"?-1:t}function l(t){if(t.length)for(var n in t)return l(t[n]);else if(t.columns)return 1+l(t.columns);else return 1}function c(t,n,i){var e=[];i=i||0;if(n==i){if(t.length)t.forEach(function(t){if(t.columns)t.extractColumns=function(){return h(t)}});return t}else for(var r in t)if(t[r].columns){e=e.concat(c(t[r].columns,n,i+1))}return e}function h(t){var n=[];if(t.hasOwnProperty("length")){for(var i=0;i<t.length;i++)n=n.concat(h(t[i]))}else{if(t.hasOwnProperty("columns"))n=n.concat(h(t.columns));else return t}return n}function f(){return t.extend(true,[],n)}e();this.hasDepth=function(){for(var t in n)if(n[t].hasOwnProperty("columns"))return true;return false};this.getTreeColumns=function(){return n};this.extractColumns=function(){return this.hasDepth()?h(n):n};this.getDepth=function(){return l(n)};this.getColumnsInDepth=function(t){return c(n,t)};this.getColumnsInGroup=function(t){return h(t)};this.visibleColumns=function(){return o(f(),function(){return this.visible})};this.filter=function(t){return o(f(),t)};this.reOrder=function(t){return u(n,t)};this.getById=function(t){return i[t]};this.getInIds=function(t){return t.map(function(t){return i[t]})}}})(jQuery);



/**
 * @license
 * (c) 2009-2013 Michael Leibman
 * michael{dot}leibman{at}gmail{dot}com
 * http://github.com/mleibman/slickgrid
 *
 * Distributed under MIT license.
 * All rights reserved.
 *
 * SlickGrid v2.2
 *
 * NOTES:
 *     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
 *     This increases the speed dramatically, but can only be done safely because there are no event handlers
 *     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
 *     and do proper cleanup.
 */
if(typeof jQuery==="undefined"){throw"SlickGrid requires jquery module to be loaded"}if(!jQuery.fn.drag){throw"SlickGrid requires jquery.event.drag module to be loaded"}if(typeof Slick==="undefined"){throw"slick.core.js not loaded"}(function($){$.extend(true,window,{Slick:{Grid:SlickGrid}});var scrollbarDimensions;var maxSupportedCssHeight;function SlickGrid(container,data,columns,options){var defaults={explicitInitialization:false,rowHeight:25,defaultColumnWidth:80,enableAddRow:false,leaveSpaceForNewRows:false,editable:false,autoEdit:true,enableCellNavigation:true,enableColumnReorder:true,asyncEditorLoading:false,asyncEditorLoadDelay:100,forceFitColumns:false,enableAsyncPostRender:false,asyncPostRenderDelay:50,enableAsyncPostRenderCleanup:false,asyncPostRenderCleanupDelay:40,autoHeight:false,editorLock:Slick.GlobalEditorLock,showHeaderRow:false,headerRowHeight:25,showFooterRow:false,footerRowHeight:25,showTopPanel:false,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:true,enableTextSelectionOnCells:false,dataItemColumnValueExtractor:null,frozenBottom:false,frozenColumn:-1,frozenRow:-1,fullWidthRows:false,multiColumnSort:false,defaultFormatter:defaultFormatter,forceSyncScrolling:false,addNewRowCssClass:"new-row",minBuffer:3,renderAllCells:false};var columnDefaults={name:"",resizable:true,sortable:false,minWidth:30,rerenderOnResize:false,headerCssClass:null,footerCssClass:null,defaultSortAsc:true,focusable:true,selectable:true};var th;var h;var ph;var n;var cj;var page=0;var offset=0;var vScrollDir=1;var initialized=false;var $container;var uid="slickgrid_"+Math.round(1e6*Math.random());var self=this;var $focusSink,$focusSink2;var $groupHeaders=$();var $headerScroller;var $headers;var $headerRow,$headerRowScroller,$headerRowSpacerL,$headerRowSpacerR;var $footerRow,$footerRowScroller,$footerRowSpacerL,$footerRowSpacerR;var $topPanelScroller;var $topPanel;var $viewport;var $canvas;var $style;var $boundAncestors;var treeColumns;var stylesheet,columnCssRulesL,columnCssRulesR;var viewportH,viewportW;var canvasWidth,canvasWidthL,canvasWidthR;var headersWidth,headersWidthL,headersWidthR;var viewportHasHScroll,viewportHasVScroll;var headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,jQueryNewWidthBehaviour=false;var absoluteColumnMinWidth;var hasFrozenRows=false;var frozenRowsHeight=0;var actualFrozenRow=-1;var paneTopH=0;var paneBottomH=0;var viewportTopH=0;var viewportBottomH=0;var topPanelH=0;var headerRowH=0;var footerRowH=0;var tabbingDirection=1;var $activeCanvasNode;var $activeViewportNode;var activePosX;var activeRow,activeCell;var activeCellNode=null;var currentEditor=null;var serializedEditorValue;var editController;var rowsCache={};var renderedRows=0;var numVisibleRows=0;var prevScrollTop=0;var scrollTop=0;var lastRenderedScrollTop=0;var lastRenderedScrollLeft=0;var prevScrollLeft=0;var scrollLeft=0;var selectionModel;var selectedRows=[];var plugins=[];var cellCssClasses={};var columnsById={};var sortColumns=[];var columnPosLeft=[];var columnPosRight=[];var rtl=false;var xLeft="left";var xRight="right";var h_editorLoader=null;var h_render=null;var h_postrender=null;var h_postrenderCleanup=null;var postProcessedRows={};var postProcessToRow=null;var postProcessFromRow=null;var postProcessedCleanupQueue=[];var postProcessgroupId=0;var counter_rows_rendered=0;var counter_rows_removed=0;var rowNodeFromLastMouseWheelEvent;var zombieRowNodeFromLastMouseWheelEvent;var zombieRowCacheFromLastMouseWheelEvent;var zombieRowPostProcessedFromLastMouseWheelEvent;var $paneHeaderL;var $paneHeaderR;var $paneTopL;var $paneTopR;var $paneBottomL;var $paneBottomR;var $headerScrollerL;var $headerScrollerR;var $headerL;var $headerR;var $groupHeadersL;var $groupHeadersR;var $headerRowScrollerL;var $headerRowScrollerR;var $footerRowScrollerL;var $footerRowScrollerR;var $headerRowL;var $headerRowR;var $footerRowL;var $footerRowR;var $topPanelScrollerL;var $topPanelScrollerR;var $topPanelL;var $topPanelR;var $viewportTopL;var $viewportTopR;var $viewportBottomL;var $viewportBottomR;var $canvasTopL;var $canvasTopR;var $canvasBottomL;var $canvasBottomR;var $viewportScrollContainerX;var $viewportScrollContainerY;var $headerScrollContainer;var $headerRowScrollContainer;var $footerRowScrollContainer;function init(){$container=$(container);if($container.length<1){throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.")}rtl=$(document.body).hasClass("rtl")||$container.css("direction")=="rtl";if(rtl){xLeft="right";xRight="left"}maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight();scrollbarDimensions=scrollbarDimensions||measureScrollbar();options=$.extend({},defaults,options);validateAndEnforceOptions();columnDefaults.width=options.defaultColumnWidth;treeColumns=new Slick.TreeColumns(columns);columns=treeColumns.extractColumns();columnsById={};for(var e=0;e<columns.length;e++){var o=columns[e]=$.extend({},columnDefaults,columns[e]);columnsById[o.id]=e;if(o.minWidth&&o.width<o.minWidth){o.width=o.minWidth}if(o.maxWidth&&o.width>o.maxWidth){o.width=o.maxWidth}}if(options.enableColumnReorder&&!$.fn.sortable){throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded")}editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit};$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget");if(!/relative|absolute|fixed/.test($container.css("position"))){$container.css("position","relative")}$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;"+xLeft+":0;outline:0;'></div>").appendTo($container);$paneHeaderL=$("<div class='slick-pane slick-pane-header slick-pane-"+xLeft+" tabIndex='0' />").appendTo($container);$paneHeaderR=$("<div class='slick-pane slick-pane-header slick-pane-"+xRight+"' tabIndex='0' />").appendTo($container);$paneTopL=$("<div class='slick-pane slick-pane-top slick-pane-"+xLeft+"' tabIndex='0' />").appendTo($container);$paneTopR=$("<div class='slick-pane slick-pane-top slick-pane-"+xRight+"' tabIndex='0' />").appendTo($container);$paneBottomL=$("<div class='slick-pane slick-pane-bottom slick-pane-"+xLeft+"' tabIndex='0' />").appendTo($container);$paneBottomR=$("<div class='slick-pane slick-pane-bottom slick-pane-"+xRight+"' tabIndex='0' />").appendTo($container);$headerScrollerL=$("<div class='ui-state-default slick-header slick-header-"+xLeft+"' />").appendTo($paneHeaderL);$headerScrollerR=$("<div class='ui-state-default slick-header slick-header-"+xRight+"' />").appendTo($paneHeaderR);$headerScroller=$().add($headerScrollerL).add($headerScrollerR);if(treeColumns.hasDepth()){$groupHeadersL=[],$groupHeadersR=[];for(var t=0;t<treeColumns.getDepth()-1;t++){$groupHeadersL[t]=$("<div class='slick-group-header-columns slick-group-header-columns-"+xLeft+"' style='right:-1000px' />").appendTo($headerScrollerL);$groupHeadersR[t]=$("<div class='slick-group-header-columns slick-group-header-columns-"+xRight+"' style='right:-1000px' />").appendTo($headerScrollerR)}$groupHeaders=$().add($groupHeadersL).add($groupHeadersR)}$headerL=$("<div class='slick-header-columns slick-header-columns-"+xLeft+"' style='"+xLeft+":-1000px' />").appendTo($headerScrollerL);$headerR=$("<div class='slick-header-columns slick-header-columns-"+xRight+"' style='"+xLeft+":-1000px' />").appendTo($headerScrollerR);$headers=$().add($headerL).add($headerR);$headerRowScrollerL=$("<div class='ui-state-default slick-headerrow' />").appendTo($paneTopL);$headerRowScrollerR=$("<div class='ui-state-default slick-headerrow' />").appendTo($paneTopR);$headerRowScroller=$().add($headerRowScrollerL).add($headerRowScrollerR);$headerRowSpacerL=$("<div style='display:block;height:1px;position:absolute;top:0;"+xLeft+":0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($headerRowScrollerL);$headerRowSpacerR=$("<div style='display:block;height:1px;position:absolute;top:0;"+xLeft+":0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($headerRowScrollerR);$headerRowL=$("<div class='slick-headerrow-columns slick-headerrow-columns-"+xLeft+"' />").appendTo($headerRowScrollerL);$headerRowR=$("<div class='slick-headerrow-columns slick-headerrow-columns-"+xRight+"' />").appendTo($headerRowScrollerR);$headerRow=$().add($headerRowL).add($headerRowR);$topPanelScrollerL=$("<div class='ui-state-default slick-top-panel-scroller' />").appendTo($paneTopL);$topPanelScrollerR=$("<div class='ui-state-default slick-top-panel-scroller' />").appendTo($paneTopR);$topPanelScroller=$().add($topPanelScrollerL).add($topPanelScrollerR);$topPanelL=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerL);$topPanelR=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerR);$topPanel=$().add($topPanelL).add($topPanelR);if(!options.showTopPanel){$topPanelScroller.hide()}if(!options.showHeaderRow){$headerRowScroller.hide()}$viewportTopL=$("<div class='slick-viewport slick-viewport-top slick-viewport-"+xLeft+"' tabIndex='0' hideFocus />").appendTo($paneTopL);$viewportTopR=$("<div class='slick-viewport slick-viewport-top slick-viewport-"+xRight+"' tabIndex='0' hideFocus />").appendTo($paneTopR);$viewportBottomL=$("<div class='slick-viewport slick-viewport-bottom slick-viewport-"+xLeft+"' tabIndex='0' hideFocus />").appendTo($paneBottomL);$viewportBottomR=$("<div class='slick-viewport slick-viewport-bottom slick-viewport-"+xRight+"' tabIndex='0' hideFocus />").appendTo($paneBottomR);$viewport=$().add($viewportTopL).add($viewportTopR).add($viewportBottomL).add($viewportBottomR);$activeViewportNode=$viewportTopL;$canvasTopL=$("<div class='grid-canvas grid-canvas-top grid-canvas-"+xLeft+"' tabIndex='0' hideFocus />").appendTo($viewportTopL);$canvasTopR=$("<div class='grid-canvas grid-canvas-top grid-canvas-"+xRight+"' tabIndex='0' hideFocus />").appendTo($viewportTopR);$canvasBottomL=$("<div class='grid-canvas grid-canvas-bottom grid-canvas-"+xLeft+"' tabIndex='0' hideFocus />").appendTo($viewportBottomL);$canvasBottomR=$("<div class='grid-canvas grid-canvas-bottom grid-canvas-"+xRight+"' tabIndex='0' hideFocus />").appendTo($viewportBottomR);$canvas=$().add($canvasTopL).add($canvasTopR).add($canvasBottomL).add($canvasBottomR);$activeCanvasNode=$canvasTopL;$footerRowScrollerR=$("<div class='ui-state-default slick-footerrow' />").appendTo($paneTopR);$footerRowScrollerL=$("<div class='ui-state-default slick-footerrow' />").appendTo($paneTopL);$footerRowScroller=$().add($footerRowScrollerL).add($footerRowScrollerR);$footerRowSpacerL=$("<div style='display:block;height:1px;position:absolute;top:0;"+xLeft+":0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerL);$footerRowSpacerR=$("<div style='display:block;height:1px;position:absolute;top:0;"+xLeft+":0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerR);$footerRowL=$("<div class='slick-footerrow-columns slick-footerrow-columns-"+xLeft+"' />").appendTo($footerRowScrollerL);$footerRowR=$("<div class='slick-footerrow-columns slick-footerrow-columns-"+xRight+"' />").appendTo($footerRowScrollerR);$footerRow=$().add($footerRowL).add($footerRowR);if(!options.showFooterRow){$footerRowScroller.hide()}$focusSink2=$focusSink.clone().appendTo($container);if(!options.explicitInitialization){finishInitialization()}bindToData()}function finishInitialization(){if(!initialized){initialized=true;getViewportWidth();getViewportHeight();measureCellPaddingAndBorder();disableSelection($headers);if(!options.enableTextSelectionOnCells){$viewport.bind("selectstart.ui",function(e){return $(e.target).is("input,textarea")})}setFrozenOptions();setPaneVisibility();setScroller();setOverflow();updateColumnCaches();createColumnHeaders();createColumnGroupHeaders();createColumnFooter();setupColumnSort();createCssRules();resizeCanvas();bindAncestorScrollEvents();$container.bind("resize.slickgrid",resizeCanvas);$viewport.on("scroll",handleScroll);if(jQuery.fn.mousewheel&&(options.frozenColumn>-1||hasFrozenRows)){$viewport.on("mousewheel",handleMouseWheel)}$headerScroller.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave);$headerRowScroller.bind("scroll",handleHeaderRowScroll);$footerRowScroller.bind("scroll",handleFooterRowScroll);$focusSink.add($focusSink2).bind("keydown",handleKeyDown);$canvas.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave);if(navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)){$canvas.on("mousewheel",handleMouseWheel)}}}function hasFrozenColumns(){return options.frozenColumn>-1}function registerPlugin(e){plugins.unshift(e);e.init(self)}function unregisterPlugin(e){for(var o=plugins.length;o>=0;o--){if(plugins[o]===e){if(plugins[o].destroy){plugins[o].destroy()}plugins.splice(o,1);break}}}function setSelectionModel(e){if(selectionModel){selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged);if(selectionModel.destroy){selectionModel.destroy()}}selectionModel=e;if(selectionModel){selectionModel.init(self);selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged)}}function getSelectionModel(){return selectionModel}function getCanvasNode(){return $canvas[0]}function getActiveCanvasNode(e){setActiveCanvasNode(e);return $activeCanvasNode[0]}function getCanvases(){return $canvas}function setActiveCanvasNode(e){if(e){$activeCanvasNode=$(e.target).closest(".grid-canvas")}}function getViewportNode(){return $viewport[0]}function getActiveViewportNode(e){setActiveViewPortNode(e);return $activeViewportNode[0]}function setActiveViewportNode(e){if(e){$activeViewportNode=$(e.target).closest(".slick-viewport")}}function measureScrollbar(){var e=$("<div style='position:absolute; top:-10000px; "+xLeft+":-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body");var o={width:Math.round(e.width()-e[0].clientWidth),height:Math.round(e.height()-e[0].clientHeight)};e.remove();return o}function getHeadersWidth(){headersWidth=headersWidthL=headersWidthR=0;for(var e=0,o=columns.length;e<o;e++){var t=columns[e].width;if(options.frozenColumn>-1&&e>options.frozenColumn){headersWidthR+=t}else{headersWidthL+=t}}if(hasFrozenColumns()){headersWidthL=headersWidthL+1e3;headersWidthR=Math.max(headersWidthR,viewportW)+headersWidthL;headersWidthR+=scrollbarDimensions.width}else{headersWidthL+=scrollbarDimensions.width;headersWidthL=Math.max(headersWidthL,viewportW)+1e3}headersWidth=headersWidthL+headersWidthR}function getHeadersWidthL(){headersWidthL=0;columns.forEach(function(e,o){if(!(options.frozenColumn>-1&&o>options.frozenColumn))headersWidthL+=e.width});if(hasFrozenColumns()){headersWidthL+=1e3}else{headersWidthL+=scrollbarDimensions.width;headersWidthL=Math.max(headersWidthL,viewportW)+1e3}return headersWidthL}function getHeadersWidthR(){headersWidthR=0;columns.forEach(function(e,o){if(options.frozenColumn>-1&&o>options.frozenColumn)headersWidthR+=e.width});if(hasFrozenColumns()){headersWidthR=Math.max(headersWidthR,viewportW)+getHeadersWidthL();headersWidthR+=scrollbarDimensions.width}return headersWidthR}function getCanvasWidth(){var e=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;var o=columns.length;canvasWidthL=canvasWidthR=0;while(o--){if(hasFrozenColumns()&&o>options.frozenColumn){canvasWidthR+=columns[o].width}else{canvasWidthL+=columns[o].width}}var t=canvasWidthL+canvasWidthR;return options.fullWidthRows?Math.max(t,e):t}function updateCanvasWidth(e){var o=canvasWidth;var t=canvasWidthL;var r=canvasWidthR;var n;canvasWidth=getCanvasWidth();n=canvasWidth!==o||canvasWidthL!==t||canvasWidthR!==r;if(n||hasFrozenColumns()||hasFrozenRows){$canvasTopL.width(canvasWidthL);getHeadersWidth();$headerL.width(headersWidthL);$headerR.width(headersWidthR);if(hasFrozenColumns()){$canvasTopR.width(canvasWidthR);$paneHeaderL.width(canvasWidthL);$paneHeaderR.css(xLeft,canvasWidthL);$paneHeaderR.css("width",viewportW-canvasWidthL);$paneTopL.width(canvasWidthL);$paneTopR.css(xLeft,canvasWidthL);$paneTopR.css("width",viewportW-canvasWidthL);$headerRowScrollerL.width(canvasWidthL);$headerRowScrollerR.width(viewportW-canvasWidthL);$headerRowL.width(canvasWidthL);$headerRowR.width(canvasWidthR);$footerRowScrollerL.width(canvasWidthL);$footerRowScrollerR.width(viewportW-canvasWidthL);$footerRowL.width(canvasWidthL);$footerRowR.width(canvasWidthR);$viewportTopL.width(canvasWidthL);$viewportTopR.width(viewportW-canvasWidthL);if(hasFrozenRows){$paneBottomL.width(canvasWidthL);$paneBottomR.css(xLeft,canvasWidthL);$viewportBottomL.width(canvasWidthL);$viewportBottomR.width(viewportW-canvasWidthL);$canvasBottomL.width(canvasWidthL);$canvasBottomR.width(canvasWidthR)}}else{$paneHeaderL.width("100%");$paneTopL.width("100%");$headerRowScrollerL.width("100%");$headerRowL.width(canvasWidth);$footerRowScrollerL.width("100%");$footerRowL.width(canvasWidth);$viewportTopL.width("100%");if(hasFrozenRows){$viewportBottomL.width("100%");$canvasBottomL.width(canvasWidthL)}}viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width}$headerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0));$headerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0));$footerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0));$footerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0));if(n||e){applyColumnWidths()}}function disableSelection(e){if(e&&e.jquery){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}}function getMaxSupportedCssHeight(){var e=1e6;var o=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9;var t=$("<div style='display:none' />").appendTo(document.body);while(true){var r=e*2;t.css("height",r);if(r>o||Math.round(t.height())!==r){break}else{e=r}}t.remove();return e}function bindAncestorScrollEvents(){var e=hasFrozenRows&&!options.frozenBottom?$canvasBottomL[0]:$canvasTopL[0];while((e=e.parentNode)!=document.body&&e!=null){if(e==$viewportTopL[0]||e.scrollWidth!=e.clientWidth||e.scrollHeight!=e.clientHeight){var o=$(e);if(!$boundAncestors){$boundAncestors=o}else{$boundAncestors=$boundAncestors.add(o)}o.bind("scroll."+uid,handleActiveCellPositionChange)}}}function unbindAncestorScrollEvents(){if(!$boundAncestors){return}$boundAncestors.unbind("scroll."+uid);$boundAncestors=null}function updateColumnHeader(e,o,t){if(!initialized){return}var r=getColumnIndex(e);if(r==null){return}var n=columns[r];var l=$headers.children().eq(r);if(l){if(o!==undefined){columns[r].name=o}if(t!==undefined){columns[r].toolTip=t}trigger(self.onBeforeHeaderCellDestroy,{node:l[0],column:n,grid:self});l.attr("title",t||"").children().eq(0).html(o);trigger(self.onHeaderCellRendered,{node:l[0],column:n,grid:self})}}function getHeaderRow(){return hasFrozenColumns()?$headerRow:$headerRow[0]}function getHeaderRowColumn(e){var o=getColumnIndex(e);var t;if(hasFrozenColumns()){if(o<=options.frozenColumn){t=$headerRowL}else{t=$headerRowR;o-=options.frozenColumn+1}}else{t=$headerRowL}var r=t.children().eq(o);return r&&r[0]}function getFooterRow(){return hasFrozenColumns()?$footerRow:$footerRow[0]}function getFooterRowColumn(e){var o=getColumnIndex(e);var t;if(hasFrozenColumns()){if(o<=options.frozenColumn){t=$footerRowL}else{t=$footerRowR;o-=options.frozenColumn+1}}else{t=$footerRowL}var r=t.children().eq(o);return r&&r[0]}function createColumnFooter(){$footerRow.find(".slick-footerrow-column").each(function(){var e=$(this).data("column");if(e){trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:e})}});$footerRowL.empty();$footerRowR.empty();for(var e=0;e<columns.length;e++){var o=columns[e];var t=$("<div class='ui-state-default slick-footerrow-column l"+e+" r"+e+"'></div>").data("column",o).addClass(o.footerCssClass||o.cssClass||"").addClass(hasFrozenColumns()&&e<=options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&e>options.frozenColumn?$footerRowR:$footerRowL);trigger(self.onFooterRowCellRendered,{node:t[0],column:o,grid:self})}}function groupTotalText(e,o,t){var r=t.substr(0,1).toUpperCase()+t.substr(1);text=window.Q&&Q.tryGetText&&Q.tryGetText(r)||r;var n=e[t][o.field];if(typeof n=="number"&&Q&&Q.formatNumber){if(o.sourceItem&&o.sourceItem.displayFormat){n=Q.formatNumber(n,o.sourceItem.displayFormat)}else n=Q.formatNumber(n,"#,##0.##")}return"<span class='aggregate agg-"+t+"'  title='"+text+"'>"+n+"</span>"}function groupTotalsFormatter(e,o){if(!e||!o)return"";var t=null;["sum","avg","min","max","cnt"].forEach(function(r){if(t==null&&e[r]&&e[r][o.field]!=null){t=groupTotalText(e,o,r);return false}});return t||""}function createColumnGroupHeaders(){var e=0;var o=false;if(!treeColumns.hasDepth())return;for(var t=0;t<$groupHeadersL.length;t++){$groupHeadersL[t].empty();$groupHeadersR[t].empty();var r=treeColumns.getColumnsInDepth(t);for(var n in r){var l=r[n];e+=l.extractColumns().length;if(hasFrozenColumns()&&t==0&&e-1===options.frozenColumn)o=true;$("<div class='ui-state-default slick-group-header-column' />").html("<span class='slick-column-name'>"+l.name+"</span>").attr("id",""+uid+l.id).attr("title",l.toolTip||"").data("column",l).addClass(l.headerCssClass||"").addClass(hasFrozenColumns()&&e-1>options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&e-1>options.frozenColumn?$groupHeadersR[t]:$groupHeadersL[t])}if(hasFrozenColumns()&&t==0&&!o){$groupHeadersL[t].empty();$groupHeadersR[t].empty();alert("All columns of group should to be grouped!");break}}applyColumnGroupHeaderWidths()}function createColumnHeaders(){function e(){$(this).addClass("ui-state-hover")}function o(){$(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each(function(){var e=$(this).data("column");if(e){trigger(self.onBeforeHeaderCellDestroy,{node:this,column:e,grid:self})}});$headerL.empty();$headerR.empty();getHeadersWidth();$headerL.width(headersWidthL);$headerR.width(headersWidthR);$headerRow.find(".slick-headerrow-column").each(function(){var e=$(this).data("column");if(e){trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:e})}});$headerRowL.empty();$headerRowR.empty();for(var t=0;t<columns.length;t++){var r=columns[t];var n=hasFrozenColumns()?t<=options.frozenColumn?$headerL:$headerR:$headerL;var l=hasFrozenColumns()?t<=options.frozenColumn?$headerRowL:$headerRowR:$headerRowL;var i=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+r.name+"</span>").width(r.width-headerColumnWidthDiff).attr("id",""+uid+r.id).attr("title",r.toolTip||"").data("column",r).addClass(r.headerCssClass||"").addClass(hasFrozenColumns()&&t<=options.frozenColumn?"frozen":"").appendTo(n);if(options.enableColumnReorder||r.sortable){i.on("mouseenter",e).on("mouseleave",o)}if(r.sortable){i.addClass("slick-header-sortable");i.append("<span class='slick-sort-indicator' />")}trigger(self.onHeaderCellRendered,{node:i[0],column:r,grid:self});if(options.showHeaderRow){var a=$("<div class='ui-state-default slick-headerrow-column l"+t+" r"+t+"'></div>").data("column",r).appendTo(l);trigger(self.onHeaderRowCellRendered,{node:a[0],column:r,grid:self})}}setSortColumns(sortColumns);setupColumnResize();if(options.enableColumnReorder){setupColumnReorder()}}function setupColumnSort(){$headers.click(function(e){e.metaKey=e.metaKey||e.ctrlKey;if($(e.target).hasClass("slick-resizable-handle")){return}var o=$(e.target).closest(".slick-header-column");if(!o.length){return}var t=o.data("column");if(t.sortable){if(!getEditorLock().commitCurrentEdit()){return}var r=null;var n=0;for(;n<sortColumns.length;n++){if(sortColumns[n].columnId==t.id){r=sortColumns[n];r.sortAsc=!r.sortAsc;break}}if(e.metaKey&&options.multiColumnSort){if(r){sortColumns.splice(n,1)}}else{if(!e.shiftKey&&!e.metaKey||!options.multiColumnSort){sortColumns=[]}if(!r){r={columnId:t.id,sortAsc:t.defaultSortAsc};sortColumns.push(r)}else if(sortColumns.length==0){sortColumns.push(r)}}setSortColumns(sortColumns);if(!options.multiColumnSort){trigger(self.onSort,{multiColumnSort:false,sortCol:t,sortAsc:r.sortAsc,grid:self},e)}else{trigger(self.onSort,{multiColumnSort:true,sortCols:$.map(sortColumns,function(e){return{sortCol:columns[getColumnIndex(e.columnId)],sortAsc:e.sortAsc}}),grid:self},e)}}})}function currentPositionInHeader(e){var o=0;$headers.find(".slick-header-column").each(function(t){if(this.id==e){o=t;return false}});return o}function limitPositionInGroup(e){var o,t=0,r=0;treeColumns.getColumnsInDepth($groupHeadersL.length-1).some(function(n){t=r;r+=n.columns.length;n.columns.some(function(t){if(t.id===e)o=n;return o});return o});r--;return{start:t,end:r,group:o}}function remove(e,o){var t=e.lastIndexOf(o);if(t>-1){e.splice(t,1);remove(e,o)}}function columnPositionValidInGroup(e){var o=currentPositionInHeader(e[0].id);var t=limitPositionInGroup(e.data("column").id);var r=t.start<=o&&o<=t.end;return{limit:t,valid:r,message:r?"":'Column "'.concat(e.text(),'" can be reordered only within the "',t.group.name,'" group!')}}function setupColumnReorder(){$headers.filter(":ui-sortable").sortable("destroy");var e=null;function o(){$viewportScrollContainerX[0].scrollLeft=$viewportScrollContainerX[0].scrollLeft+10}function t(){$viewportScrollContainerX[0].scrollLeft=$viewportScrollContainerX[0].scrollLeft-10}var r;$headers.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(e,o){o.placeholder.width(o.helper.outerWidth()-headerColumnWidthDiff);r=!hasFrozenColumns()||o.placeholder.offset()[xLeft]+Math.round(o.placeholder.width())>$viewportScrollContainerX.offset()[xLeft];$(o.helper).addClass("slick-header-column-active")},beforeStop:function(e,o){$(o.helper).removeClass("slick-header-column-active")},sort:function(n,l){if(r&&n.originalEvent.pageX>$container[0].clientWidth){if(!e){e=setInterval(o,100)}}else if(r&&n.originalEvent.pageX<$viewportScrollContainerX.offset().left){if(!e){e=setInterval(t,100)}}else{clearInterval(e);e=null}},stop:function(o,t){var r=false;clearInterval(e);e=null;var n=null;if(treeColumns.hasDepth()){var l=columnPositionValidInGroup(t.item);n=l.limit;r=!l.valid;if(r)alert(l.message)}if(r||!getEditorLock().commitCurrentEdit()){$(this).sortable("cancel");return}var i=$headerL.sortable("toArray");i=i.concat($headerR.sortable("toArray"));var a=[];for(var s=0;s<i.length;s++){a.push(columns[getColumnIndex(i[s].replace(uid,""))])}setColumns(a);trigger(self.onColumnsReordered,{impactedColumns:getImpactedColumns(n),grid:self});o.stopPropagation();setupColumnResize()}})}function getImpactedColumns(e){var o=[];if(e!=undefined){for(var t=e.start;t<=e.end;t++){o.push(columns[t])}}else{o=columns}return o}function setupColumnResize(){var e,o,t,r,n,l,i,a,s,d;l=$headers.children();l.find(".slick-resizable-handle").remove();l.each(function(e,o){if(columns[e].resizable){if(s===undefined){s=e}d=e}});if(s===undefined){return}l.each(function(c,u){if(c<s||options.forceFitColumns&&c>=d){return}e=$(u);$("<div class='slick-resizable-handle' />").appendTo(u).bind("dragstart",function(e,t){if(!getEditorLock().commitCurrentEdit()){return false}n=e.pageX;$(this).parent().addClass("slick-header-column-active");var s=null,d=null;l.each(function(e,o){columns[e].previousWidth=$(o).outerWidth()});if(options.forceFitColumns){s=0;d=0;for(o=c+1;o<l.length;o++){r=columns[o];if(r.resizable){if(d!==null){if(r.maxWidth){d+=r.maxWidth-r.previousWidth}else{d=null}}s+=r.previousWidth-Math.max(r.minWidth||0,absoluteColumnMinWidth)}}}var u=0,h=0;for(o=0;o<=c;o++){r=columns[o];if(r.resizable){if(h!==null){if(r.maxWidth){h+=r.maxWidth-r.previousWidth}else{h=null}}u+=r.previousWidth-Math.max(r.minWidth||0,absoluteColumnMinWidth)}}if(s===null){s=1e5}if(u===null){u=1e5}if(d===null){d=1e5}if(h===null){h=1e5}a=n+Math.min(s,h);i=n-Math.min(u,d)}).bind("drag",function(e,s){var d,u=Math.min(a,Math.max(i,e.pageX))-n,h;if(u<0){h=u;var f=0,p=0;for(o=c;o>=0;o--){r=columns[o];if(r.resizable){d=Math.max(r.minWidth||0,absoluteColumnMinWidth);if(h&&r.previousWidth+h<d){h+=r.previousWidth-d;r.width=d}else{r.width=r.previousWidth+h;h=0}}}for(t=0;t<=c;t++){r=columns[t];if(hasFrozenColumns()&&t>options.frozenColumn){p+=r.width}else{f+=r.width}}if(options.forceFitColumns){h=-u;for(o=c+1;o<l.length;o++){r=columns[o];if(r.resizable){if(h&&r.maxWidth&&r.maxWidth-r.previousWidth<h){h-=r.maxWidth-r.previousWidth;r.width=r.maxWidth}else{r.width=r.previousWidth+h;h=0}if(hasFrozenColumns()&&o>options.frozenColumn){p+=r.width}else{f+=r.width}}}}else{for(o=c+1;o<l.length;o++){r=columns[o];if(hasFrozenColumns()&&o>options.frozenColumn){p+=r.width}else{f+=r.width}}}}else{h=u;var f=0,p=0;for(o=c;o>=0;o--){r=columns[o];if(r.resizable){if(h&&r.maxWidth&&r.maxWidth-r.previousWidth<h){h-=r.maxWidth-r.previousWidth;r.width=r.maxWidth}else{r.width=r.previousWidth+h;h=0}}}for(t=0;t<=c;t++){r=columns[t];if(hasFrozenColumns()&&t>options.frozenColumn){p+=r.width}else{f+=r.width}}if(options.forceFitColumns){h=-u;for(o=c+1;o<l.length;o++){r=columns[o];if(r.resizable){d=Math.max(r.minWidth||0,absoluteColumnMinWidth);if(h&&r.previousWidth+h<d){h+=r.previousWidth-d;r.width=d}else{r.width=r.previousWidth+h;h=0}if(hasFrozenColumns()&&o>options.frozenColumn){p+=r.width}else{f+=r.width}}}}else{for(o=c+1;o<l.length;o++){r=columns[o];if(hasFrozenColumns()&&o>options.frozenColumn){p+=r.width}else{f+=r.width}}}}if(hasFrozenColumns()&&f!=canvasWidthL){$headerL.width(f+1e3);$paneHeaderR.css(xLeft,f)}applyColumnHeaderWidths();applyColumnGroupHeaderWidths();if(options.syncColumnCellResize){applyColumnWidths()}}).bind("dragend",function(e,t){var n;$(this).parent().removeClass("slick-header-column-active");for(o=0;o<l.length;o++){r=columns[o];n=$(l[o]).outerWidth();if(r.previousWidth!==n&&r.rerenderOnResize){invalidateAllRows()}}updateCanvasWidth(true);render();trigger(self.onColumnsResized,{grid:self})})})}function getVBoxDelta(e){var o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];var t=0;$.each(o,function(o,r){t+=parseFloat(e.css(r))||0});return t}function setFrozenOptions(){options.frozenColumn=options.frozenColumn>=0&&options.frozenColumn<columns.length?parseInt(options.frozenColumn):-1;options.frozenRow=options.frozenRow>=0&&options.frozenRow<numVisibleRows?parseInt(options.frozenRow):-1;if(options.frozenRow>-1){hasFrozenRows=true;frozenRowsHeight=options.frozenRow*options.rowHeight;var e=getDataLength()||this.data.length;actualFrozenRow=options.frozenBottom?e-options.frozenRow:options.frozenRow}else{hasFrozenRows=false}}function setPaneVisibility(){if(hasFrozenColumns()){$paneHeaderR.show();$paneTopR.show();if(hasFrozenRows){$paneBottomL.show();$paneBottomR.show()}else{$paneBottomR.hide();$paneBottomL.hide()}}else{$paneHeaderR.hide();$paneTopR.hide();$paneBottomR.hide();if(hasFrozenRows){$paneBottomL.show()}else{$paneBottomR.hide();$paneBottomL.hide()}}}function setOverflow(){$viewportTopL.css({"overflow-x":hasFrozenColumns()?hasFrozenRows?"hidden":"scroll":hasFrozenRows?"hidden":"auto","overflow-y":hasFrozenColumns()?hasFrozenRows?"hidden":"hidden":hasFrozenRows?"scroll":"auto"});$viewportTopR.css({"overflow-x":hasFrozenColumns()?hasFrozenRows?"hidden":"scroll":hasFrozenRows?"hidden":"auto","overflow-y":hasFrozenColumns()?hasFrozenRows?"scroll":"auto":hasFrozenRows?"scroll":"auto"});
$viewportBottomL.css({"overflow-x":hasFrozenColumns()?hasFrozenRows?"scroll":"auto":hasFrozenRows?"auto":"auto","overflow-y":hasFrozenColumns()?hasFrozenRows?"hidden":"hidden":hasFrozenRows?"scroll":"auto"});$viewportBottomR.css({"overflow-x":hasFrozenColumns()?hasFrozenRows?"scroll":"auto":hasFrozenRows?"auto":"auto","overflow-y":hasFrozenColumns()?hasFrozenRows?"auto":"auto":hasFrozenRows?"auto":"auto"})}function setScroller(){if(hasFrozenColumns()){$headerScrollContainer=$headerScrollerR;$headerRowScrollContainer=$headerRowScrollerR;$footerRowScrollContainer=$footerRowScrollerR;if(hasFrozenRows){if(options.frozenBottom){$viewportScrollContainerX=$viewportBottomR;$viewportScrollContainerY=$viewportTopR}else{$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomR}}else{$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopR}}else{$headerScrollContainer=$headerScrollerL;$headerRowScrollContainer=$headerRowScrollerL;$footerRowScrollContainer=$footerRowScrollerL;if(hasFrozenRows){if(options.frozenBottom){$viewportScrollContainerX=$viewportBottomL;$viewportScrollContainerY=$viewportTopL}else{$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomL}}else{$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopL}}}function measureCellPaddingAndBorder(){var e;var o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"];var t=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];var r=$.fn.jquery.split(".");jQueryNewWidthBehaviour=r[0]==1&&r[1]>=8||r[0]>=2;e=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers);headerColumnWidthDiff=headerColumnHeightDiff=0;if(e.css("box-sizing")!="border-box"&&e.css("-moz-box-sizing")!="border-box"&&e.css("-webkit-box-sizing")!="border-box"){$.each(o,function(o,t){headerColumnWidthDiff+=parseFloat(e.css(t))||0});$.each(t,function(o,t){headerColumnHeightDiff+=parseFloat(e.css(t))||0})}e.remove();var n=$("<div class='slick-row' />").appendTo($canvas);e=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(n);cellWidthDiff=cellHeightDiff=0;if(e.css("box-sizing")!="border-box"&&e.css("-moz-box-sizing")!="border-box"&&e.css("-webkit-box-sizing")!="border-box"){$.each(o,function(o,t){cellWidthDiff+=parseFloat(e.css(t))||0});$.each(t,function(o,t){cellHeightDiff+=parseFloat(e.css(t))||0})}n.remove();absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));var e=options.rowHeight-cellHeightDiff;var o=["."+uid+" .slick-group-header-column { "+xLeft+": 1000px; }","."+uid+" .slick-header-column { "+xLeft+": 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+e+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }","."+uid+" .slick-footerrow-columns { height:"+options.footerRowHeight+"px; }"];for(var t=0;t<columns.length;t++){o.push("."+uid+" .l"+t+" { }");o.push("."+uid+" .r"+t+" { }")}if($style[0].styleSheet){$style[0].styleSheet.cssText=o.join(" ")}else{$style[0].appendChild(document.createTextNode(o.join(" ")))}}function getColumnCssRules(e){if(!stylesheet){var o=document.styleSheets;for(var t=0;t<o.length;t++){if((o[t].ownerNode||o[t].owningElement)==$style[0]){stylesheet=o[t];break}}if(!stylesheet){throw new Error("Cannot find stylesheet.")}columnCssRulesL=[];columnCssRulesR=[];var r=stylesheet.cssRules||stylesheet.rules;var n,l;for(var t=0;t<r.length;t++){var i=r[t].selectorText;if(n=/\.l\d+/.exec(i)){l=parseInt(n[0].substr(2,n[0].length-2),10);columnCssRulesL[l]=r[t]}else if(n=/\.r\d+/.exec(i)){l=parseInt(n[0].substr(2,n[0].length-2),10);columnCssRulesR[l]=r[t]}}}return rtl?{right:columnCssRulesL[e],left:columnCssRulesR[e]}:{left:columnCssRulesL[e],right:columnCssRulesR[e]}}function removeCssRules(){$style.remove();stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit();trigger(self.onBeforeDestroy,{grid:self});var e=plugins.length;while(e--){unregisterPlugin(plugins[e])}if(options.enableColumnReorder){$headers.filter(":ui-sortable").sortable("destroy")}unbindAncestorScrollEvents();$container.unbind(".slickgrid");removeCssRules();$canvas.unbind("draginit dragstart dragend drag");$container.empty().removeClass(uid)}function trigger(e,o,t){t=t||new Slick.EventData;o=o||{};o.grid=self;return e.notify(o,t,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(e){return columnsById[e]}function autosizeColumns(){var e,o,t=[],r=0,n=0,l,i=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(e=0;e<columns.length;e++){o=columns[e];t.push(o.width);n+=o.width;if(o.resizable){r+=o.width-Math.max(o.minWidth,absoluteColumnMinWidth)}}l=n;while(n>i&&r){var a=(n-i)/r;for(e=0;e<columns.length&&n>i;e++){o=columns[e];var s=t[e];if(!o.resizable||s<=o.minWidth||s<=absoluteColumnMinWidth){continue}var d=Math.max(o.minWidth,absoluteColumnMinWidth);var c=Math.floor(a*(s-d))||1;c=Math.min(c,s-d);n-=c;r-=c;t[e]-=c}if(l<=n){break}l=n}l=n;while(n<i){var u=i/n;for(e=0;e<columns.length&&n<i;e++){o=columns[e];var h=t[e];var f;if(!o.resizable||o.maxWidth<=h){f=0}else{f=Math.min(Math.floor(u*h)-h,o.maxWidth-h||1e6)||1}n+=f;t[e]+=n<=i?f:0}if(l>=n){break}l=n}var p=false;for(e=0;e<columns.length;e++){if(columns[e].rerenderOnResize&&columns[e].width!=t[e]){p=true}columns[e].width=t[e]}applyColumnHeaderWidths();applyColumnGroupHeaderWidths();updateCanvasWidth(true);if(p){invalidateAllRows();render()}}function applyColumnGroupHeaderWidths(){if(!treeColumns.hasDepth())return;for(var e=$groupHeadersL.length-1;e>=0;e--){var o=treeColumns.getColumnsInDepth(e);$().add($groupHeadersL[e]).add($groupHeadersR[e]).each(function(e){var o=$(this),t=0;o.width(e==0?getHeadersWidthL():getHeadersWidthR());o.children().each(function(){var e=$(this);var r=$(this).data("column");r.width=0;r.columns.forEach(function(){var e=o.next().children(":eq("+t++ +")");r.width+=e.outerWidth()});e.width(r.width-headerColumnWidthDiff)})})}}function applyColumnHeaderWidths(){if(!initialized){return}var e;for(var o=0,t=$headers.children(),r=t.length;o<r;o++){e=$(t[o]);if(jQueryNewWidthBehaviour){if(e.outerWidth()!==columns[o].width){e.outerWidth(columns[o].width)}}else{if(Math.round(e.width())!==columns[o].width-headerColumnWidthDiff){e.width(columns[o].width-headerColumnWidthDiff)}}}updateColumnCaches()}function applyColumnWidths(){var e=0,o,t;for(var r=0;r<columns.length;r++){o=columns[r].width;t=getColumnCssRules(r);t[xLeft].style[xLeft]=e+"px";t[xRight].style[xRight]=(options.frozenColumn!=-1&&r>options.frozenColumn?canvasWidthR:canvasWidthL)-e-o+"px";if(options.frozenColumn==r){e=0}else{e+=columns[r].width}}}function setSortColumn(e,o){setSortColumns([{columnId:e,sortAsc:o}])}function setSortColumns(e){sortColumns=e;var o=$headers.children();o.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc");$.each(sortColumns,function(e,t){if(t.sortAsc==null){t.sortAsc=true}var r=getColumnIndex(t.columnId);if(r!=null){o.eq(r).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(t.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")}})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(e,o){selectedRows=[];var t={};for(var r=0;r<o.length;r++){for(var n=o[r].fromRow;n<=o[r].toRow;n++){if(!t[n]){selectedRows.push(n);t[n]={}}for(var l=o[r].fromCell;l<=o[r].toCell;l++){if(canCellBeSelected(n,l)){t[n][columns[l].id]=options.selectedCellCssClass}}}}setCellCssStyles(options.selectedCellCssClass,t);trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},e)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[];columnPosRight=[];var e=0;for(var o=0,t=columns.length;o<t;o++){columnPosLeft[o]=e;columnPosRight[o]=e+columns[o].width;if(options.frozenColumn==o){e=0}else{e+=columns[o].width}}}function setColumns(e){var o=new Slick.TreeColumns(e);if(o.hasDepth()){treeColumns=o;columns=treeColumns.extractColumns()}else{columns=e}columnsById={};for(var t=0;t<columns.length;t++){var r=columns[t]=$.extend({},columnDefaults,columns[t]);columnsById[r.id]=t;if(r.minWidth&&r.width<r.minWidth){r.width=r.minWidth}if(r.maxWidth&&r.width>r.maxWidth){r.width=r.maxWidth}}updateColumnCaches();if(initialized){setPaneVisibility();setOverflow();invalidateAllRows();createColumnHeaders();createColumnGroupHeaders();createColumnFooter();removeCssRules();createCssRules();resizeCanvas();updateCanvasWidth();applyColumnWidths();handleScroll()}}function getOptions(){return options}function setOptions(e){if(!getEditorLock().commitCurrentEdit()){return}makeActiveCellNormal();if(options.enableAddRow!==e.enableAddRow){invalidateRow(getDataLength())}options=$.extend(options,e);validateAndEnforceOptions();setFrozenOptions();setScroller();zombieRowNodeFromLastMouseWheelEvent=null;if(e.columns)setColumns(treeColumns.extractColumns());render()}function validateAndEnforceOptions(){if(options.autoHeight){options.leaveSpaceForNewRows=false}}function viewOnRowCountChanged(e,o){updateRowCount();render()}function viewOnRowsChanged(e,o){invalidateRows(o.rows);render();updateFooterTotals()}function viewOnDataChanged(e,o){invalidate();render()}function bindToData(){if(data){data.onRowCountChanged&&data.onRowCountChanged.subscribe(viewOnRowCountChanged);data.onRowsChanged&&data.onRowsChanged.subscribe(viewOnRowsChanged);data.onDataChanged&&data.onDataChanged.subscribe(viewOnDataChanged)}}function unbindFromData(){if(data){data.onRowCountChanged&&data.onRowCountChanged.unsubscribe(viewOnRowCountChanged);data.onRowsChanged&&data.onRowsChanged.unsubscribe(viewOnRowsChanged);data.onDataChanged&&data.onDataChanged.unsubscribe(viewonDataChanged)}}function setData(e,o){unbindFromData();data=e;bindToData();invalidateAllRows();updateRowCount();if(o){scrollTo(0)}}function getData(){return data}function getDataLength(){if(data.getLength){return data.getLength()}else{return data.length}}function getDataLengthIncludingAddNew(){return getDataLength()+(options.enableAddRow?1:0)}function getDataItem(e){if(data.getItem){return data.getItem(e)}else{return data[e]}}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(e){if(options.showTopPanel!=e){options.showTopPanel=e;if(e){$topPanelScroller.slideDown("fast",resizeCanvas)}else{$topPanelScroller.slideUp("fast",resizeCanvas)}}}function setHeaderRowVisibility(e){if(options.showHeaderRow!=e){options.showHeaderRow=e;if(e){$headerRowScroller.slideDown("fast",resizeCanvas)}else{$headerRowScroller.slideUp("fast",resizeCanvas)}}}function setFooterRowVisibility(e){if(options.showFooterRow!=e){options.showFooterRow=e;if(e){$footerRowScroller.fadeIn("fast",resizeCanvas)}else{$footerRowScroller.slideDown("fast",resizeCanvas)}}}function getContainerNode(){return $container.get(0)}function getRowTop(e){return options.rowHeight*e-offset}function getRowFromPosition(e){return Math.floor((e+offset)/options.rowHeight)}function scrollTo(e){e=Math.max(e,0);e=Math.min(e,th-Math.round($viewportScrollContainerY.height())+(viewportHasHScroll||hasFrozenColumns()?scrollbarDimensions.height:0));var o=offset;page=Math.min(n-1,Math.floor(e/ph));offset=Math.round(page*cj);var t=e-offset;if(offset!=o){var r=getVisibleRange(t);cleanupRows(r);updateRowPositions()}if(prevScrollTop!=t){vScrollDir=prevScrollTop+o<t+offset?1:-1;lastRenderedScrollTop=scrollTop=prevScrollTop=t;if(hasFrozenColumns()){$viewportTopL[0].scrollTop=t}if(hasFrozenRows){$viewportBottomL[0].scrollTop=$viewportBottomR[0].scrollTop=t}$viewportScrollContainerY[0].scrollTop=t;trigger(self.onViewportChanged,{})}}function defaultFormatter(e,o,t,r,n,l){if(t==null){return""}else{return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}function getFormatter(e,o){var t=data.getItemMetadata&&data.getItemMetadata(e);var r=t&&t.columns&&(t.columns[o.id]||t.columns[getColumnIndex(o.id)]);return r&&r.formatter||t&&t.formatter||o.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(o)||options.defaultFormatter}function callFormatter(e,o,t,r,n){var l;var i=data.getItemMetadata&&data.getItemMetadata(e);i=i&&i.columns;if(i){var a=i[r.id]||i[o];l=getFormatter(e,r)(e,o,t,r,n,a,self)}else{l=getFormatter(e,r)(e,o,t,r,n,null,self)}return l}function getEditor(e,o){var t=columns[o];var r=data.getItemMetadata&&data.getItemMetadata(e);var n=r&&r.columns;if(n&&n[t.id]&&n[t.id].editor!==undefined){return n[t.id].editor}if(n&&n[o]&&n[o].editor!==undefined){return n[o].editor}return t.editor||options.editorFactory&&options.editorFactory.getEditor(t)}function getDataItemValueForColumn(e,o){if(options.dataItemColumnValueExtractor){return options.dataItemColumnValueExtractor(e,o)}return e[o.field]}function appendRowHtml(e,o,t,r,n){var l=getDataItem(t);var i=t<n&&!l;var a="slick-row"+(hasFrozenRows&&t<=options.frozenRow?" frozen":"")+(i?" loading":"")+(t===activeRow?" active":"")+(t%2==1?" odd":" even");if(!l){a+=" "+options.addNewRowCssClass}var s=data.getItemMetadata&&data.getItemMetadata(t);if(s&&s.cssClasses){a+=" "+s.cssClasses}var d=getFrozenRowOffset(t);var c="<div class='ui-widget-content "+a+"' style='top:"+(getRowTop(t)-d)+"px'>";e.push(c);if(hasFrozenColumns()){o.push(c)}var u,h;for(var f=0,p=columns.length;f<p;f++){h=columns[f];u=1;if(s&&s.columns){var v=s.columns[h.id]||s.columns[f];u=v&&v.colspan||1;if(u==="*"){u=p-f}}if(columnPosRight[Math.min(p-1,f+u-1)]>r.leftPx){if(columnPosLeft[f]>r.rightPx){break}if(hasFrozenColumns()&&f>options.frozenColumn){appendCellHtml(o,t,f,u,l)}else{appendCellHtml(e,t,f,u,l)}}else if(hasFrozenColumns()&&f<=options.frozenColumn){appendCellHtml(e,t,f,u,l)}if(u>1){f+=u-1}}e.push("</div>");if(hasFrozenColumns()){o.push("</div>")}}function appendCellHtml(e,o,t,r,n){var l=columns[t];var i="slick-cell l"+t+" r"+Math.min(columns.length-1,t+r-1)+(l.cssClass?" "+l.cssClass:"");if(hasFrozenColumns()&&t<=options.frozenColumn)i+=" frozen";if(o===activeRow&&t===activeCell)i+=" active";for(var a in cellCssClasses){if(cellCssClasses[a][o]&&cellCssClasses[a][o][l.id]){i+=" "+cellCssClasses[a][o][l.id]}}e.push("<div class='"+i+"'>");if(n){var s=getDataItemValueForColumn(n,l);e.push(callFormatter(o,t,s,l,n))}e.push("</div>");rowsCache[o].cellRenderQueue.push(t);rowsCache[o].cellColSpans[t]=r}function cleanupRows(e){for(var o in rowsCache){var t=true;if(hasFrozenRows&&(options.frozenBottom&&o>=actualFrozenRow||!options.frozenBottom&&o<=actualFrozenRow)){t=false}if((o=parseInt(o,10))!==activeRow&&(o<e.top||o>e.bottom)&&t){removeRowFromCache(o)}}options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function invalidate(){updateRowCount();invalidateAllRows();render();updateFooterTotals()}function invalidateAllRows(){if(currentEditor){makeActiveCellNormal()}for(var e in rowsCache){removeRowFromCache(e)}options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function queuePostProcessedRowForCleanup(e,o,t){postProcessgroupId++;for(var r in o){if(o.hasOwnProperty(r)){postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:e.cellNodesByColumnIdx[r|0],columnIdx:r|0,rowIdx:t})}}postProcessedCleanupQueue.push({actionType:"R",groupId:postProcessgroupId,node:e.rowNode});$(e.rowNode).detach()}function queuePostProcessedCellForCleanup(e,o,t){postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:e,columnIdx:o,rowIdx:t});$(e).detach()}function removeRowFromCache(e){var o=rowsCache[e];if(!o){return}if(rowNodeFromLastMouseWheelEvent==o.rowNode[0]||hasFrozenColumns()&&rowNodeFromLastMouseWheelEvent==o.rowNode[1]){o.rowNode.hide();zombieRowNodeFromLastMouseWheelEvent=o.rowNode}else{if(options.enableAsyncPostRenderCleanup&&postProcessedRows[e]){queuePostProcessedRowForCleanup(o,postProcessedRows[e],e)}else{o.rowNode.each(function(){this.parentElement.removeChild(this)})}}delete rowsCache[e];delete postProcessedRows[e];renderedRows--;counter_rows_removed++}function invalidateRows(e){var o,t;if(!e||!e.length){return}vScrollDir=0;for(o=0,t=e.length;o<t;o++){if(currentEditor&&activeRow===e[o]){makeActiveCellNormal()}if(rowsCache[e[o]]){removeRowFromCache(e[o])}}options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function invalidateRow(e){invalidateRows([e])}function updateCell(e,o){var t=getCellNode(e,o);if(!t){return}var r=columns[o],n=getDataItem(e);if(currentEditor&&activeRow===e&&activeCell===o){currentEditor.loadValue(n)}else{t.innerHTML=n?callFormatter(e,o,getDataItemValueForColumn(n,r),r,n):"";invalidatePostProcessingResults(e)}}function updateRow(e){var o=rowsCache[e];if(!o){return}ensureCellNodesInRowsCache(e);var t=getDataItem(e);for(var r in o.cellNodesByColumnIdx){if(!o.cellNodesByColumnIdx.hasOwnProperty(r)){continue}r=r|0;var n=columns[r],l=o.cellNodesByColumnIdx[r][0];if(e===activeRow&&r===activeCell&&currentEditor){currentEditor.loadValue(t)}else if(t){l.innerHTML=callFormatter(e,r,getDataItemValueForColumn(t,n),n,t)}else{l.innerHTML=""}}invalidatePostProcessingResults(e)}function getViewportHeight(){if(options.autoHeight){viewportH=options.rowHeight*getDataLengthIncludingAddNew()+(options.frozenColumn==-1?$headers.outerHeight():0)}else{topPanelH=options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0;headerRowH=options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0;footerRowH=options.showFooterRow?options.footerRowHeight+getVBoxDelta($footerRowScroller):0;viewportH=parseFloat($.css($container[0],"height",true))-parseFloat($.css($container[0],"paddingTop",true))-parseFloat($.css($container[0],"paddingBottom",true))-parseFloat($.css($headerScroller[0],"height"))-getVBoxDelta($headerScroller)-topPanelH-headerRowH-footerRowH}numVisibleRows=Math.ceil(viewportH/options.rowHeight)}function getViewportWidth(){viewportW=parseFloat($.css($container[0],"width",true))}function resizeCanvas(){if(!initialized){return}paneTopH=0;paneBottomH=0;viewportTopH=0;viewportBottomH=0;getViewportWidth();getViewportHeight();if(hasFrozenRows){if(options.frozenBottom){paneTopH=viewportH-frozenRowsHeight-scrollbarDimensions.height;paneBottomH=frozenRowsHeight+scrollbarDimensions.height}else{paneTopH=frozenRowsHeight;paneBottomH=viewportH-frozenRowsHeight}}else{paneTopH=viewportH}paneTopH+=topPanelH+headerRowH+footerRowH;if(hasFrozenColumns()&&options.autoHeight){paneTopH+=scrollbarDimensions.height}viewportTopH=paneTopH-topPanelH-headerRowH-footerRowH;if(options.autoHeight){if(hasFrozenColumns()){$container.height(paneTopH+parseFloat($.css($headerScrollerL[0],"height")))}$paneTopL.css("position","relative")}$paneTopL.css({top:Math.round($paneHeaderL.height()),height:paneTopH});var e=$paneTopL.position().top+paneTopH;$viewportTopL.height(viewportTopH);if(hasFrozenColumns()){$paneTopR.css({top:Math.round($paneHeaderL.height()),height:paneTopH});$viewportTopR.height(viewportTopH);if(hasFrozenRows){$paneBottomL.css({top:e,height:paneBottomH});$paneBottomR.css({top:e,height:paneBottomH});$viewportBottomR.height(paneBottomH)}}else{if(hasFrozenRows){$paneBottomL.css({width:"100%",height:paneBottomH});$paneBottomL.css("top",e)}}if(hasFrozenRows){$viewportBottomL.height(paneBottomH);if(options.frozenBottom){$canvasBottomL.height(frozenRowsHeight);if(hasFrozenColumns()){$canvasBottomR.height(frozenRowsHeight)}}else{$canvasTopL.height(frozenRowsHeight);if(hasFrozenColumns()){$canvasTopR.height(frozenRowsHeight)}}}else{$viewportTopR.height(viewportTopH)}if(options.forceFitColumns){autosizeColumns()}updateRowCount();handleScroll();lastRenderedScrollLeft=-1;render()}function updateRowCount(){if(!initialized){return}var e=getDataLengthIncludingAddNew();var o=0;var t=hasFrozenRows&&!options.frozenBottom?Math.round($canvasBottomL.height()):Math.round($canvasTopL.height());if(hasFrozenRows){var o=getDataLength()-options.frozenRow}else{var o=e+(options.leaveSpaceForNewRows?numVisibleRows-1:0)}var r=Math.round($viewportScrollContainerY.height());var l=viewportHasVScroll;viewportHasVScroll=!options.autoHeight&&o*options.rowHeight>r;makeActiveCellNormal();var i=e-1;for(var a in rowsCache){if(a>=i){removeRowFromCache(a)}}options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup();th=Math.max(options.rowHeight*o,r-scrollbarDimensions.height);if(activeCellNode&&activeRow>i){resetActiveCell()}if(th<maxSupportedCssHeight){h=ph=th;n=1;cj=0}else{h=maxSupportedCssHeight;ph=h/100;n=Math.floor(th/ph);cj=(th-h)/(n-1)}if(h!==t){if(hasFrozenRows&&!options.frozenBottom){$canvasBottomL.css("height",h);if(hasFrozenColumns()){$canvasBottomR.css("height",h)}}else{$canvasTopL.css("height",h);$canvasTopR.css("height",h)}scrollTop=$viewportScrollContainerY[0].scrollTop}var s=scrollTop+offset<=th-r;if(th==0||scrollTop==0){page=offset=0}else if(s){scrollTo(scrollTop+offset)}else{scrollTo(th-r)}if(h!=t&&options.autoHeight){resizeCanvas()}if(options.forceFitColumns&&l!=viewportHasVScroll){autosizeColumns()}updateCanvasWidth(false)}function getVisibleRange(e,o){if(e==null){e=scrollTop}if(o==null){o=scrollLeft}return{top:getRowFromPosition(e),bottom:getRowFromPosition(e+viewportH)+1,leftPx:o,rightPx:o+viewportW}}function getRenderedRange(e,o){var t=getVisibleRange(e,o);var r=Math.round(viewportH/options.rowHeight);var n=options.minBuffer||3;if(vScrollDir==-1){t.top-=r;t.bottom+=n}else if(vScrollDir==1){t.top-=n;t.bottom+=r}else{t.top-=n;t.bottom+=n}t.top=Math.max(0,t.top);t.bottom=Math.min(getDataLengthIncludingAddNew()-1,t.bottom);if(options.renderAllCells){t.leftPx=0;t.rightPx=canvasWidth}else{t.leftPx-=viewportW;t.rightPx+=viewportW;t.leftPx=Math.max(0,t.leftPx);t.rightPx=Math.min(canvasWidth,t.rightPx)}return t}function ensureCellNodesInRowsCache(e){var o=rowsCache[e];if(o){if(o.cellRenderQueue.length){var t=o.rowNode.children().last();while(o.cellRenderQueue.length){var r=o.cellRenderQueue.pop();o.cellNodesByColumnIdx[r]=t;t=t.prev();if(t.length==0){t=$(o.rowNode[0]).children().last()}}}}}function cleanUpCells(e,o){if(hasFrozenRows&&(options.frozenBottom&&o>actualFrozenRow||o<=actualFrozenRow)){return}var t=0;var r=rowsCache[o];var n=[];for(var l in r.cellNodesByColumnIdx){if(!r.cellNodesByColumnIdx.hasOwnProperty(l)){continue}l=l|0;if(l<=options.frozenColumn){continue}var i=r.cellColSpans[l];if(columnPosLeft[l]>e.rightPx||columnPosRight[Math.min(columns.length-1,l+i-1)]<e.leftPx){if(!(o==activeRow&&l==activeCell)){n.push(l)}}}var a,s;postProcessgroupId++;while((a=n.pop())!=null){s=r.cellNodesByColumnIdx[a][0];if(options.enableAsyncPostRenderCleanup&&postProcessedRows[o]&&postProcessedRows[o][a]){queuePostProcessedCellForCleanup(s,a,o)}else{s.parentElement.removeChild(s)}delete r.cellColSpans[a];delete r.cellNodesByColumnIdx[a];if(postProcessedRows[o]){delete postProcessedRows[o][a]}t++}}function cleanUpAndRenderCells(e){var o;var t=[];var r=[];var n;var l=0;var i;for(var a=e.top,s=e.bottom;a<=s;a++){o=rowsCache[a];if(!o){continue}ensureCellNodesInRowsCache(a);cleanUpCells(e,a);n=0;var d=data.getItemMetadata&&data.getItemMetadata(a);d=d&&d.columns;var c=getDataItem(a);for(var u=0,h=columns.length;u<h;u++){if(columnPosLeft[u]>e.rightPx){break}if((i=o.cellColSpans[u])!=null){u+=i>1?i-1:0;continue}i=1;if(d){var f=d[columns[u].id]||d[u];i=f&&f.colspan||1;if(i==="*"){i=h-u}}if(columnPosRight[Math.min(h-1,u+i-1)]>e.leftPx){appendCellHtml(t,a,u,i,c);n++}u+=i>1?i-1:0}if(n){l+=n;r.push(a)}}if(!t.length){return}var p=document.createElement("div");p.innerHTML=t.join("");var v;var w;while((v=r.pop())!=null){o=rowsCache[v];var m;while((m=o.cellRenderQueue.pop())!=null){w=$(p).children().last();if(hasFrozenColumns()&&m>options.frozenColumn){$(o.rowNode[1]).append(w)}else{$(o.rowNode[0]).append(w)}o.cellNodesByColumnIdx[m]=w}}}function renderRows(e){var o=[],t=[],r=[],n=false,l=getDataLength();for(var i=e.top,a=e.bottom;i<=a;i++){if(rowsCache[i]||hasFrozenRows&&options.frozenBottom&&i==getDataLength()){continue}renderedRows++;r.push(i);rowsCache[i]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]};appendRowHtml(o,t,i,e,l);if(activeCellNode&&activeRow===i){n=true}counter_rows_rendered++}if(!r.length){return}var s=document.createElement("div"),d=document.createElement("div");s.innerHTML=o.join("");d.innerHTML=t.join("");for(var i=0,a=r.length;i<a;i++){if(hasFrozenRows&&r[i]>=actualFrozenRow){if(hasFrozenColumns()){rowsCache[r[i]].rowNode=$().add($(s.firstChild).appendTo($canvasBottomL)).add($(d.firstChild).appendTo($canvasBottomR))}else{rowsCache[r[i]].rowNode=$().add($(s.firstChild).appendTo($canvasBottomL))}}else if(hasFrozenColumns()){rowsCache[r[i]].rowNode=$().add($(s.firstChild).appendTo($canvasTopL)).add($(d.firstChild).appendTo($canvasTopR))}else{rowsCache[r[i]].rowNode=$().add($(s.firstChild).appendTo($canvasTopL))}}if(n){activeCellNode=getCellNode(activeRow,activeCell)}}function startPostProcessing(){if(!options.enableAsyncPostRender){return}clearTimeout(h_postrender);if(options.asyncPostRenderDelay<0){asyncPostProcessRows()}else{h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay)}}function startPostProcessingCleanup(){if(!options.enableAsyncPostRenderCleanup){return}clearTimeout(h_postrenderCleanup);if(options.asyncPostRenderCleanupDelay<0){asyncPostProcessCleanupRows()}else{h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay)}}function invalidatePostProcessingResults(e){if(options.enableAsyncPostRenderCleanup){for(var o in postProcessedRows[e]){if(postProcessedRows[e].hasOwnProperty(o)){postProcessedRows[e][o]="C"}}}else{delete postProcessedRows[e]}postProcessFromRow=Math.min(postProcessFromRow,e);postProcessToRow=Math.max(postProcessToRow,e);startPostProcessing()}function updateRowPositions(){for(var e in rowsCache){rowsCache[e].rowNode.css("top",getRowTop(e)+"px")}}function updateFooterTotals(){if(!options.showFooterRow||!initialized)return;var e=null;if(data.getGrandTotals){e=data.getGrandTotals()}for(var o=0;o<columns.length;o++){var t=columns[o];var r;if(t.field&&e){r=t.groupTotalsFormatter&&t.groupTotalsFormatter(e,t,self)||self.groupTotalsFormatter&&self.groupTotalsFormatter(e,t,self)||""}$(getFooterRowColumn(t.id)).html(r)}}function render(){if(!initialized){return}var e=getVisibleRange();var o=getRenderedRange();cleanupRows(o);if(lastRenderedScrollLeft!=scrollLeft){if(hasFrozenRows){var t=jQuery.extend(true,{},o);if(options.frozenBottom){t.top=actualFrozenRow;t.bottom=getDataLength()}else{t.top=0;t.bottom=options.frozenRow}cleanUpAndRenderCells(t)}cleanUpAndRenderCells(o)}renderRows(o);if(hasFrozenRows){if(options.frozenBottom){renderRows({top:actualFrozenRow,bottom:getDataLength()-1,leftPx:o.leftPx,rightPx:o.rightPx})}else{renderRows({top:0,bottom:options.frozenRow-1,leftPx:o.leftPx,rightPx:o.rightPx})}}postProcessFromRow=e.top;postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,e.bottom);startPostProcessing();lastRenderedScrollTop=scrollTop;lastRenderedScrollLeft=scrollLeft;h_render=null}function handleHeaderRowScroll(){var e=$headerRowScrollContainer[0].scrollLeft;if(e!=$viewportScrollContainerX[0].scrollLeft){$viewportScrollContainerX[0].scrollLeft=e}}function handleFooterRowScroll(){var e=$footerRowScrollContainer[0].scrollLeft;if(e!=$viewportScrollContainerX[0].scrollLeft){$viewportScrollContainerX[0].scrollLeft=e}}function handleMouseWheel(e,o,t,r){var n=$(e.target).closest(".slick-row");var l=n[0];if(l!=rowNodeFromLastMouseWheelEvent){var i=n.parents(".grid-canvas");var a=i.hasClass("grid-canvas-"+xLeft);if(zombieRowNodeFromLastMouseWheelEvent&&zombieRowNodeFromLastMouseWheelEvent[a?0:1]!=l){var s=zombieRowNodeFromLastMouseWheelEvent[a||zombieRowNodeFromLastMouseWheelEvent.length==1?0:1];if(options.enableAsyncPostRenderCleanup&&s){queuePostProcessedRowForCleanup(zombieRowCacheFromLastMouseWheelEvent,s)}else{s.parentElement.removeChild(s)}zombieRowCacheFromLastMouseWheelEvent=null;zombieRowNodeFromLastMouseWheelEvent=null;zombieRowPostProcessedFromLastMouseWheelEvent=null;options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}rowNodeFromLastMouseWheelEvent=l}scrollTop=Math.max(0,$viewportScrollContainerY[0].scrollTop-r*options.rowHeight);scrollLeft=$viewportScrollContainerX[0].scrollLeft+t*10;var d=_handleScroll(true);if(d)e.preventDefault()}function handleScroll(){scrollTop=$viewportScrollContainerY[0].scrollTop;scrollLeft=$viewportScrollContainerX[0].scrollLeft;return _handleScroll(false)}function _handleScroll(e){var o=$viewportScrollContainerY[0].scrollHeight-$viewportScrollContainerY[0].clientHeight;var t=$viewportScrollContainerY[0].scrollWidth-$viewportScrollContainerY[0].clientWidth;if(scrollTop>o){scrollTop=o}if(scrollLeft>t){scrollLeft=t}var r=Math.abs(scrollTop-prevScrollTop);var l=Math.abs(scrollLeft-prevScrollLeft);if(l){prevScrollLeft=scrollLeft;$viewportScrollContainerX[0].scrollLeft=scrollLeft;$headerScrollContainer[0].scrollLeft=scrollLeft;$topPanelScroller[0].scrollLeft=scrollLeft;$headerRowScrollContainer[0].scrollLeft=scrollLeft;$footerRowScrollContainer[0].scrollLeft=scrollLeft;if(hasFrozenColumns()){if(hasFrozenRows){$viewportTopR[0].scrollLeft=scrollLeft}}else{if(hasFrozenRows){$viewportTopL[0].scrollLeft=scrollLeft}}}if(r){vScrollDir=prevScrollTop<scrollTop?1:-1;prevScrollTop=scrollTop;if(e){$viewportScrollContainerY[0].scrollTop=scrollTop}if(hasFrozenColumns()){if(hasFrozenRows&&!options.frozenBottom){$viewportBottomL[0].scrollTop=scrollTop}else{$viewportTopL[0].scrollTop=scrollTop}}if(r<viewportH){scrollTo(scrollTop+offset)}else{var i=offset;if(h==viewportH){page=0}else{page=Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph)))}offset=Math.round(page*cj);if(i!=offset){invalidateAllRows()}}}if(l||r){if(h_render){clearTimeout(h_render)}if(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20){if(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW){render()}else{h_render=setTimeout(render,50)}trigger(self.onViewportChanged,{})}}trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop});if(l||r)return true;return false}function asyncPostProcessRows(){var e=getDataLength();while(postProcessFromRow<=postProcessToRow){var o=vScrollDir>=0?postProcessFromRow++:postProcessToRow--;var t=rowsCache[o];if(!t||o>=e){continue}if(!postProcessedRows[o]){postProcessedRows[o]={}}ensureCellNodesInRowsCache(o);for(var r in t.cellNodesByColumnIdx){if(!t.cellNodesByColumnIdx.hasOwnProperty(r)){continue}r=r|0;var n=columns[r];var l=postProcessedRows[o][r];if(n.asyncPostRender&&l!=="R"){var i=t.cellNodesByColumnIdx[r];if(i){n.asyncPostRender(i,o,getDataItem(o),n,l==="C")}postProcessedRows[o][r]="R"}}if(options.asyncPostRenderDelay>=0){h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay);return}}}function asyncPostProcessCleanupRows(){while(postProcessedCleanupQueue.length>0){var e=postProcessedCleanupQueue[0].groupId;while(postProcessedCleanupQueue.length>0&&postProcessedCleanupQueue[0].groupId==e){var o=postProcessedCleanupQueue.shift();if(o.actionType=="R"){$(o.node).remove()}if(o.actionType=="C"){var t=columns[o.columnIdx];if(t&&t.asyncPostRenderCleanup&&o.node){t.asyncPostRenderCleanup(o.node,o.rowIdx,t)}}}if(options.asyncPostRenderDelay>=0){h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay);return}}}function updateCellCssStylesOnRenderedRows(e,o){var t,r,n,l;for(var i in rowsCache){l=o&&o[i];n=e&&e[i];if(l){for(r in l){if(!n||l[r]!=n[r]){t=getCellNode(i,getColumnIndex(r));if(t){$(t).removeClass(l[r])}}}}if(n){for(r in n){if(!l||l[r]!=n[r]){t=getCellNode(i,getColumnIndex(r));if(t){$(t).addClass(n[r])}}}}}}function addCellCssStyles(e,o){if(cellCssClasses[e]){throw"addCellCssStyles: cell CSS hash with key '"+e+"' already exists."
}cellCssClasses[e]=o;updateCellCssStylesOnRenderedRows(o,null);trigger(self.onCellCssStylesChanged,{key:e,hash:o})}function removeCellCssStyles(e){if(!cellCssClasses[e]){return}updateCellCssStylesOnRenderedRows(null,cellCssClasses[e]);delete cellCssClasses[e];trigger(self.onCellCssStylesChanged,{key:e,hash:null})}function setCellCssStyles(e,o){var t=cellCssClasses[e];cellCssClasses[e]=o;updateCellCssStylesOnRenderedRows(o,t);trigger(self.onCellCssStylesChanged,{key:e,hash:o})}function getCellCssStyles(e){return cellCssClasses[e]}function flashCell(e,o,t){t=t||100;if(rowsCache[e]){var r=$(getCellNode(e,o));function n(e){if(!e){return}setTimeout(function(){r.queue(function(){r.toggleClass(options.cellFlashingCssClass).dequeue();n(e-1)})},t)}n(4)}}function handleDragInit(e,o){var t=getCellFromEvent(e);if(!t||!cellExists(t.row,t.cell)){return false}var r=trigger(self.onDragInit,o,e);if(e.isImmediatePropagationStopped()){return r}return false}function handleDragStart(e,o){var t=getCellFromEvent(e);if(!t||!cellExists(t.row,t.cell)){return false}var r=trigger(self.onDragStart,o,e);if(e.isImmediatePropagationStopped()){return r}return false}function handleDrag(e,o){return trigger(self.onDrag,o,e)}function handleDragEnd(e,o){trigger(self.onDragEnd,o,e)}function handleKeyDown(e){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},e);var o=e.isImmediatePropagationStopped();var t=Slick.keyCode;if(!o){if(!e.shiftKey&&!e.altKey&&!e.ctrlKey){if(e.which==t.ESCAPE){if(!getEditorLock().isActive()){return}cancelEditAndSetFocus()}else if(e.which==t.PAGEDOWN){navigatePageDown();o=true}else if(e.which==t.PAGEUP){navigatePageUp();o=true}else if(e.which==t.LEFT){o=navigateLeft()}else if(e.which==t.RIGHT){o=navigateRight()}else if(e.which==t.UP){o=navigateUp()}else if(e.which==t.DOWN){o=navigateDown()}else if(e.which==t.TAB){o=navigateNext()}else if(e.which==t.ENTER){if(options.editable){if(currentEditor){if(activeRow===getDataLength()){navigateDown()}else{commitEditAndSetFocus()}}else{if(getEditorLock().commitCurrentEdit()){makeActiveCellEditable()}}}o=true}}else if(e.which==t.TAB&&e.shiftKey&&!e.ctrlKey&&!e.altKey){o=navigatePrev()}}if(o){e.stopPropagation();e.preventDefault();try{e.originalEvent.keyCode=0}catch(r){}}}function handleClick(e){if(!currentEditor){if(e.target!=document.activeElement||$(e.target).hasClass("slick-cell")){setFocus()}}var o=getCellFromEvent(e);if(!o||currentEditor!==null&&activeRow==o.row&&activeCell==o.cell){return}trigger(self.onClick,{row:o.row,cell:o.cell},e);if(e.isImmediatePropagationStopped()){return}if((activeCell!=o.cell||activeRow!=o.row)&&canCellBeActive(o.row,o.cell)){if(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit()){scrollRowIntoView(o.row,false);setActiveCellInternal(getCellNode(o.row,o.cell))}}}function handleContextMenu(e){var o=$(e.target).closest(".slick-cell",$canvas);if(o.length===0){return}if(activeCellNode===o[0]&&currentEditor!==null){return}trigger(self.onContextMenu,{},e)}function handleDblClick(e){var o=getCellFromEvent(e);if(!o||currentEditor!==null&&activeRow==o.row&&activeCell==o.cell){return}trigger(self.onDblClick,{row:o.row,cell:o.cell},e);if(e.isImmediatePropagationStopped()){return}if(options.editable){gotoCell(o.row,o.cell,true)}}function handleHeaderMouseEnter(e){trigger(self.onHeaderMouseEnter,{column:$(this).data("column")},e)}function handleHeaderMouseLeave(e){trigger(self.onHeaderMouseLeave,{column:$(this).data("column")},e)}function handleHeaderContextMenu(e){var o=$(e.target).closest(".slick-header-column",".slick-header-columns");var t=o&&o.data("column");trigger(self.onHeaderContextMenu,{column:t},e)}function handleHeaderClick(e){var o=$(e.target).closest(".slick-header-column",".slick-header-columns");var t=o&&o.data("column");if(t){trigger(self.onHeaderClick,{column:t},e)}}function handleMouseEnter(e){trigger(self.onMouseEnter,{},e)}function handleMouseLeave(e){trigger(self.onMouseLeave,{},e)}function cellExists(e,o){return!(e<0||e>=getDataLength()||o<0||o>=columns.length)}function getCellFromPoint(e,o){var t=getRowFromPosition(o);var r=0;var n=0;for(var l=0;l<columns.length&&n<e;l++){n+=columns[l].width;r++}if(r<0){r=0}return{row:t,cell:r-1}}function getCellFromNode(e){var o=/l\d+/.exec(e.className);if(!o){throw"getCellFromNode: cannot get cell - "+e.className}return parseInt(o[0].substr(1,o[0].length-1),10)}function getRowFromNode(e){for(var o in rowsCache)for(var t in rowsCache[o].rowNode)if(rowsCache[o].rowNode[t]===e)return o|0;return null}function getFrozenRowOffset(e){var o=hasFrozenRows?options.frozenBottom?e>=actualFrozenRow?h<viewportTopH?actualFrozenRow*options.rowHeight:h:0:e>=actualFrozenRow?frozenRowsHeight:0:0;return o}function getCellFromEvent(e){var o,t;var r=$(e.target).closest(".slick-cell",$canvas);if(!r.length){return null}o=getRowFromNode(r[0].parentNode);if(hasFrozenRows){var n=r.parents(".grid-canvas").offset();var l=0;var i=r.parents(".grid-canvas-bottom").length;if(i){l=options.frozenBottom?Math.round($canvasTopL.height()):frozenRowsHeight}o=getCellFromPoint(e.clientX-n[xLeft],e.clientY-n.top+l+$(document).scrollTop()).row}t=getCellFromNode(r[0]);if(o==null||t==null){return null}else{return{row:o,cell:t}}}function getCellNodeBox(e,o){if(!cellExists(e,o)){return null}var t=getFrozenRowOffset(e);var r=getRowTop(e)-t;var n=r+options.rowHeight-1;var l=0;for(var i=0;i<o;i++){l+=columns[i].width;if(options.frozenColumn==i){l=0}}var a=l+columns[o].width;return rtl?{top:r,right:l,bottom:n,left:a}:{top:r,left:l,bottom:n,right:a}}function resetActiveCell(){setActiveCellInternal(null,false)}function setFocus(){if(tabbingDirection==-1){$focusSink[0].focus()}else{$focusSink2[0].focus()}}function scrollCellIntoView(e,o,t){if(o<=options.frozenColumn){return}if(e<actualFrozenRow){scrollRowIntoView(e,t)}var r=getColspan(e,o);var n=columnPosLeft[o],l=columnPosRight[o+(r>1?r-1:0)],i=scrollLeft+Math.round($viewportScrollContainerX.width());if(n<scrollLeft){$viewportScrollContainerX.scrollLeft(n);handleScroll();render()}else if(l>i){$viewportScrollContainerX.scrollLeft(Math.min(n,l-$viewportScrollContainerX[0].clientWidth));handleScroll();render()}}function setActiveCellInternal(e,o){if(activeCellNode!==null){makeActiveCellNormal();$(activeCellNode).removeClass("active");if(rowsCache[activeRow]){$(rowsCache[activeRow].rowNode).removeClass("active")}}var t=activeCellNode!==e;activeCellNode=e;if(activeCellNode!=null){var r=$(activeCellNode);var n=r.offset();var l=Math.floor(r.parents(".grid-canvas").offset().top);var i=r.parents(".grid-canvas-bottom").length;if(hasFrozenRows&&i){l-=options.frozenBottom?Math.round($canvasTopL.height()):frozenRowsHeight}cell=getCellFromPoint(n[xLeft],Math.ceil(n.top)-l);activeRow=cell.row;activeCell=activePosX=activeCell=activePosX=getCellFromNode(activeCellNode[0]);r.addClass("active");if(rowsCache[activeRow]){$(rowsCache[activeRow].rowNode).addClass("active")}if(o==null){o=activeRow==getDataLength()||options.autoEdit}if(options.editable&&o&&isCellPotentiallyEditable(activeRow,activeCell)){clearTimeout(h_editorLoader);if(options.asyncEditorLoading){h_editorLoader=setTimeout(function(){makeActiveCellEditable()},options.asyncEditorLoadDelay)}else{makeActiveCellEditable()}}}else{activeRow=activeCell=null}if(t){setTimeout(scrollActiveCellIntoView,50);trigger(self.onActiveCellChanged,getActiveCell())}}function clearTextSelection(){if(document.selection&&document.selection.empty){try{document.selection.empty()}catch(e){}}else if(window.getSelection){var o=window.getSelection();if(o&&o.removeAllRanges){o.removeAllRanges()}}}function isCellPotentiallyEditable(e,o){var t=getDataLength();if(e<t&&!getDataItem(e)){return false}if(columns[o].cannotTriggerInsert&&e>=t){return false}if(!getEditor(e,o)){return false}return true}function makeActiveCellNormal(){if(!currentEditor){return}trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor});currentEditor.destroy();currentEditor=null;if(activeCellNode){var e=getDataItem(activeRow);$(activeCellNode).removeClass("editable invalid");if(e){var o=columns[activeCell];activeCellNode[0].innerHTML=callFormatter(activeRow,activeCell,getDataItemValueForColumn(e,o),o,e);invalidatePostProcessingResults(activeRow)}}if(navigator.userAgent.toLowerCase().match(/msie/)){clearTextSelection()}getEditorLock().deactivate(editController)}function makeActiveCellEditable(e){if(!activeCellNode){return}if(!options.editable){throw"Grid : makeActiveCellEditable : should never get called when options.editable is false"}clearTimeout(h_editorLoader);if(!isCellPotentiallyEditable(activeRow,activeCell)){return}var o=columns[activeCell];var t=getDataItem(activeRow);if(trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:t,column:o})===false){setFocus();return}getEditorLock().activate(editController);$(activeCellNode).addClass("editable");if(!e){activeCellNode[0].innerHTML=""}currentEditor=new(e||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode[0]),container:activeCellNode,column:o,item:t||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus});if(t){currentEditor.loadValue(t)}serializedEditorValue=currentEditor.serializeValue();if(currentEditor.position){handleActiveCellPositionChange()}}function commitEditAndSetFocus(){if(getEditorLock().commitCurrentEdit()){setFocus();if(options.autoEdit){navigateDown()}}}function cancelEditAndSetFocus(){if(getEditorLock().cancelCurrentEdit()){setFocus()}}function absBox(e){var o={top:e.offsetTop,bottom:0,width:$(e).outerWidth(),height:$(e).outerHeight(),visible:true};o[xLeft]=e.offsetLeft;o[xRight]=0;o.bottom=o.top+o.height;o[xRight]=o[xLeft]+o.width;var t=e.offsetParent;while((e=e.parentNode)!=document.body){if(o.visible&&e.scrollHeight!=e.offsetHeight&&$(e).css("overflowY")!="visible"){o.visible=o.bottom>e.scrollTop&&o.top<e.scrollTop+e.clientHeight}if(o.visible&&e.scrollWidth!=e.offsetWidth&&$(e).css("overflowX")!="visible"){o.visible=o[xRight]>e.scrollLeft&&o[xLeft]<e.scrollLeft+e.clientWidth}o[xLeft]-=e.scrollLeft;o.top-=e.scrollTop;if(e===t){o.right+=e.offsetLeft;o.top+=e.offsetTop;t=e.offsetParent}o.bottom=o.top+o.height;o[xRight]=o[xLeft]+o.width}return o}function getActiveCellPosition(){return absBox(activeCellNode[0])}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(!activeCellNode){return}trigger(self.onActiveCellPositionChanged,{});if(currentEditor){var e=getActiveCellPosition();if(currentEditor.show&&currentEditor.hide){if(!e.visible){currentEditor.hide()}else{currentEditor.show()}}if(currentEditor.position){currentEditor.position(e)}}}function getCellEditor(){return currentEditor}function getActiveCell(){if(!activeCellNode){return null}else{return{row:activeRow,cell:activeCell}}}function getActiveCellNode(){return activeCellNode}function scrollActiveCellIntoView(){if(activeRow!=null&&activeCell!=null){scrollCellIntoView(activeRow,activeCell)}}function scrollRowIntoView(e,o){if(!hasFrozenRows||!options.frozenBottom&&e>actualFrozenRow-1||options.frozenBottom&&e<actualFrozenRow-1){var t=Math.round($viewportScrollContainerY.height());var r=e*options.rowHeight;var n=(e+1)*options.rowHeight-t+(viewportHasHScroll?scrollbarDimensions.height:0);if((e+1)*options.rowHeight>scrollTop+t+offset){scrollTo(o?r:n);render()}else if(e*options.rowHeight<scrollTop+offset){scrollTo(o?n:r);render()}}}function scrollRowToTop(e){scrollTo(e*options.rowHeight);render()}function scrollPage(e){var o=e*numVisibleRows;scrollTo((getRowFromPosition(scrollTop)+o)*options.rowHeight);render();if(options.enableCellNavigation&&activeRow!=null){var t=activeRow+o;var r=getDataLengthIncludingAddNew();if(t>=r){t=r-1}if(t<0){t=0}var n=0,l=null;var i=activePosX;while(n<=activePosX){if(canCellBeActive(t,n)){l=n}n+=getColspan(t,n)}if(l!==null){setActiveCellInternal(getCellNode(t,l));activePosX=i}else{resetActiveCell()}}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function getColspan(e,o){var t=data.getItemMetadata&&data.getItemMetadata(e);if(!t||!t.columns){return 1}var r=columns[o]&&(t.columns[columns[o].id]||t.columns[o]);var n=r&&r.colspan;if(n==="*"){n=columns.length-o}else{n=n||1}return n}function findFirstFocusableCell(e){var o=0;while(o<columns.length){if(canCellBeActive(e,o)){return o}o+=getColspan(e,o)}return null}function findLastFocusableCell(e){var o=0;var t=null;while(o<columns.length){if(canCellBeActive(e,o)){t=o}o+=getColspan(e,o)}return t}function gotoRight(e,o,t){if(o>=columns.length){return null}do{o+=getColspan(e,o)}while(o<columns.length&&!canCellBeActive(e,o));if(o<columns.length){return{row:e,cell:o,posX:o}}return null}function gotoLeft(e,o,t){if(o<=0){return null}var r=findFirstFocusableCell(e);if(r===null||r>=o){return null}var n={row:e,cell:r,posX:r};var l;while(true){l=gotoRight(n.row,n.cell,n.posX);if(!l){return null}if(l.cell>=o){return n}n=l}}function gotoDown(e,o,t){var r;var n=getDataLengthIncludingAddNew();while(true){if(++e>=n){return null}r=o=0;while(o<=t){r=o;o+=getColspan(e,o)}if(canCellBeActive(e,r)){return{row:e,cell:r,posX:t}}}}function gotoUp(e,o,t){var r;while(true){if(--e<0){return null}r=o=0;while(o<=t){r=o;o+=getColspan(e,o)}if(canCellBeActive(e,r)){return{row:e,cell:r,posX:t}}}}function gotoNext(e,o,t){if(e==null&&o==null){e=o=t=0;if(canCellBeActive(e,o)){return{row:e,cell:o,posX:o}}}var r=gotoRight(e,o,t);if(r){return r}var n=null;var l=getDataLengthIncludingAddNew();while(++e<l){n=findFirstFocusableCell(e);if(n!==null){return{row:e,cell:n,posX:n}}}return null}function gotoPrev(e,o,t){if(e==null&&o==null){e=getDataLengthIncludingAddNew()-1;o=t=columns.length-1;if(canCellBeActive(e,o)){return{row:e,cell:o,posX:o}}}var r;var n;while(!r){r=gotoLeft(e,o,t);if(r){break}if(--e<0){return null}o=0;n=findLastFocusableCell(e);if(n!==null){r={row:e,cell:n,posX:n}}}return r}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigate(e){if(!options.enableCellNavigation){return false}if(!activeCellNode&&e!="prev"&&e!="next"){return false}if(!getEditorLock().commitCurrentEdit()){return true}setFocus();var o={up:-1,down:1,prev:-1,next:1};tabbingDirection[xLeft]=-1;tabbingDirection[xRight]=1;tabbingDirection=o[e];var t={up:gotoUp,down:gotoDown,prev:gotoPrev,next:gotoNext};t[xLeft]=gotoLeft;t[xRight]=gotoRight;var r=t[e];var n=r(activeRow,activeCell,activePosX);if(n){if(hasFrozenRows&&options.frozenBottom&n.row==getDataLength()){return}var l=n.row==getDataLength();if(!options.frozenBottom&&n.row>=actualFrozenRow||options.frozenBottom&&n.row<actualFrozenRow){scrollCellIntoView(n.row,n.cell,!l)}setActiveCellInternal(getCellNode(n.row,n.cell));activePosX=n.posX;return true}else{setActiveCellInternal(getCellNode(activeRow,activeCell));return false}}function getCellNode(e,o){if(rowsCache[e]){ensureCellNodesInRowsCache(e);return rowsCache[e].cellNodesByColumnIdx[o]}return null}function setActiveCell(e,o){if(!initialized){return}if(e>getDataLength()||e<0||o>=columns.length||o<0){return}if(!options.enableCellNavigation){return}scrollCellIntoView(e,o,false);setActiveCellInternal(getCellNode(e,o),false)}function canCellBeActive(e,o){if(!options.enableCellNavigation||e>=getDataLengthIncludingAddNew()||e<0||o>=columns.length||o<0){return false}var t=data.getItemMetadata&&data.getItemMetadata(e);if(t&&typeof t.focusable==="boolean"){return t.focusable}var r=t&&t.columns;if(r&&columns[o]&&r[columns[o].id]&&typeof r[columns[o].id].focusable==="boolean"){return r[columns[o].id].focusable}if(r&&r[o]&&typeof r[o].focusable==="boolean"){return r[o].focusable}return columns[o].focusable}function canCellBeSelected(e,o){if(e>=getDataLength()||e<0||o>=columns.length||o<0){return false}var t=data.getItemMetadata&&data.getItemMetadata(e);if(t&&typeof t.selectable==="boolean"){return t.selectable}var r=t&&t.columns&&(t.columns[columns[o].id]||t.columns[o]);if(r&&typeof r.selectable==="boolean"){return r.selectable}return columns[o].selectable}function gotoCell(e,o,t){if(!initialized){return}if(!canCellBeActive(e,o)){return}if(!getEditorLock().commitCurrentEdit()){return}scrollCellIntoView(e,o,false);var r=getCellNode(e,o);setActiveCellInternal(r,t||e===getDataLength()||options.autoEdit);if(!currentEditor){setFocus()}}function commitCurrentEdit(){var e=getDataItem(activeRow);var o=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var t=currentEditor.validate();if(t.valid){if(activeRow<getDataLength()){var r={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(e,this.serializedValue);updateRow(this.row);trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:e,grid:self})},undo:function(){this.editor.applyValue(e,this.prevSerializedValue);updateRow(this.row);trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:e,grid:self})}};if(options.editCommandHandler){makeActiveCellNormal();options.editCommandHandler(e,o,r)}else{r.execute();makeActiveCellNormal()}}else{var n={};currentEditor.applyValue(n,currentEditor.serializeValue());makeActiveCellNormal();trigger(self.onAddNewRow,{item:n,column:o,grid:self})}return!getEditorLock().isActive()}else{$(activeCellNode).removeClass("invalid");$(activeCellNode).width();$(activeCellNode).addClass("invalid");trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:t,row:activeRow,cell:activeCell,column:o,grid:self});currentEditor.focus();return false}}makeActiveCellNormal()}return true}function cancelCurrentEdit(){makeActiveCellNormal();return true}function rowsToRanges(e){var o=[];var t=columns.length-1;for(var r=0;r<e.length;r++){o.push(new Slick.Range(e[r],0,e[r],t))}return o}function getSelectedRows(){if(!selectionModel){throw"Selection model is not set"}return selectedRows}function setSelectedRows(e){if(!selectionModel){throw"Selection model is not set"}selectionModel.setSelectedRanges(rowsToRanges(e))}this.debug=function(){var e="";e+="\n"+"counter_rows_rendered:  "+counter_rows_rendered;e+="\n"+"counter_rows_removed:  "+counter_rows_removed;e+="\n"+"renderedRows:  "+renderedRows;e+="\n"+"numVisibleRows:  "+numVisibleRows;e+="\n"+"maxSupportedCssHeight:  "+maxSupportedCssHeight;e+="\n"+"n(umber of pages):  "+n;e+="\n"+"(current) page:  "+page;e+="\n"+"page height (ph):  "+ph;e+="\n"+"vScrollDir:  "+vScrollDir;alert(e)};this.eval=function(expr){return eval(expr)};$.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onFooterRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onBeforeFooterRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,getCanvases:getCanvases,getActiveCanvasNode:getActiveCanvasNode,setActiveCanvasNode:setActiveCanvasNode,getViewportNode:getViewportNode,getActiveViewportNode:getActiveViewportNode,setActiveViewportNode:setActiveViewportNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,navigatePageUp:navigatePageUp,navigatePageDown:navigatePageDown,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,setFooterRowVisibility:setFooterRowVisibility,getFooterRow:getFooterRow,getFooterRowColumn:getFooterRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,getFrozenRowOffset:getFrozenRowOffset,groupTotalsFormatter:groupTotalsFormatter,updateFooterTotals:updateFooterTotals,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController});init()}})(jQuery);



(function(e){e.extend(true,window,{Slick:{Data:{GroupItemMetadataProvider:t}}});function t(t){var s;var a={groupCssClass:"slick-group",groupTitleCssClass:"slick-group-title",totalsCssClass:"slick-group-totals",groupFocusable:true,totalsFocusable:false,toggleCssClass:"slick-group-toggle",toggleExpandedCssClass:"expanded",toggleCollapsedCssClass:"collapsed",enableExpandCollapse:true,groupFormatter:o,totalsFormatter:l};t=e.extend(true,{},a,t);function o(e,s,a,o,l,r){if(!t.enableExpandCollapse){return l.title}var n=l.level*15+"px";return"<span class='"+t.toggleCssClass+" "+(l.collapsed?t.toggleCollapsedCssClass:t.toggleExpandedCssClass)+"' style='margin-left:"+n+"'>"+"</span>"+"<span class='"+t.groupTitleCssClass+"' level='"+l.level+"'>"+l.title+"</span>"}function l(e,t,s,a,o,l,r){return a.groupTotalsFormatter&&a.groupTotalsFormatter(o,a)||r&&r.groupTotalsFormatter&&r.groupTotalsFormatter(o,a)||""}function r(e){s=e;s.onClick.subscribe(i);s.onKeyDown.subscribe(u)}function n(){if(s){s.onClick.unsubscribe(i);s.onKeyDown.unsubscribe(u)}}function i(a,o){var l=this.getDataItem(o.row);if(l&&l instanceof Slick.Group&&e(a.target).hasClass(t.toggleCssClass)){var r=s.getRenderedRange();this.getData().setRefreshHints({ignoreDiffsBefore:r.top,ignoreDiffsAfter:r.bottom+1});if(l.collapsed){this.getData().expandGroup(l.groupingKey)}else{this.getData().collapseGroup(l.groupingKey)}a.stopImmediatePropagation();a.preventDefault()}}function u(a,o){if(t.enableExpandCollapse&&a.which==e.ui.keyCode.SPACE){var l=this.getActiveCell();if(l){var r=this.getDataItem(l.row);if(r&&r instanceof Slick.Group){var n=s.getRenderedRange();this.getData().setRefreshHints({ignoreDiffsBefore:n.top,ignoreDiffsAfter:n.bottom+1});if(r.collapsed){this.getData().expandGroup(r.groupingKey)}else{this.getData().collapseGroup(r.groupingKey)}a.stopImmediatePropagation();a.preventDefault()}}}}function g(e){if(t.getRowMetadata){return t.getRowMetadata(e)}return null}function p(e){return{selectable:false,focusable:t.groupFocusable,cssClasses:t.groupCssClass,columns:{0:{colspan:"*",formatter:t.groupFormatter,editor:null}}}}function c(e){return{selectable:false,focusable:t.totalsFocusable,cssClasses:t.totalsCssClass,formatter:t.totalsFormatter,editor:null}}return{init:r,destroy:n,getRowMetadata:g,getGroupRowMetadata:p,getTotalsRowMetadata:c}}})(jQuery);



(function(e){e.extend(true,window,{Slick:{AutoTooltips:t}});function t(t){var n;var l=this;var o={enableForCells:true,enableForHeaderCells:false,maxToolTipLength:null};function r(l){t=e.extend(true,{},o,t);n=l;if(t.enableForCells)n.onMouseEnter.subscribe(s);if(t.enableForHeaderCells)n.onHeaderMouseEnter.subscribe(a)}function i(){if(t.enableForCells)n.onMouseEnter.unsubscribe(s);if(t.enableForHeaderCells)n.onHeaderMouseEnter.unsubscribe(a)}function s(l){var o=n.getCellFromEvent(l);if(o){var r=e(n.getCellNode(o.row,o.cell));var i;if(r.innerWidth()<r[0].scrollWidth){i=e.trim(r.text());if(t.maxToolTipLength&&i.length>t.maxToolTipLength){i=i.substr(0,t.maxToolTipLength-3)+"..."}}else{i=""}r.attr("title",i)}}function a(t,n){var l=n.column,o=e(t.target).closest(".slick-header-column");if(l&&!l.toolTip){o.attr("title",o.innerWidth()<o[0].scrollWidth?l.name:"")}}e.extend(this,{init:r,destroy:i})}})(jQuery);



!function(n){function t(t){function e(e){t=n.extend(!0,{},r,t),i=e,u.subscribe(i.onHeaderCellRendered,o).subscribe(i.onBeforeHeaderCellDestroy,d),i.setColumns(i.getColumns())}function a(){u.unsubscribeAll()}function o(e,a){var o=a.column;if(o.header&&o.header.buttons)for(var d=o.header.buttons.length;d--;){var i=o.header.buttons[d],l=n("<div></div>").addClass(t.buttonCssClass).data("column",o).data("button",i);i.showOnHover&&l.addClass("slick-header-button-hidden"),i.image&&l.css("backgroundImage","url("+i.image+")"),i.cssClass&&l.addClass(i.cssClass),i.tooltip&&l.attr("title",i.tooltip),i.command&&l.data("command",i.command),i.handler&&l.bind("click",i.handler),l.bind("click",s).appendTo(a.node)}}function d(e,a){var o=a.column;o.header&&o.header.buttons&&n(a.node).find("."+t.buttonCssClass).remove()}function s(t){var e=n(this).data("command"),a=n(this).data("column"),o=n(this).data("button");null!=e&&(l.onCommand.notify({grid:i,column:a,command:e,button:o},t,l),i.updateColumnHeader(a.id)),t.preventDefault(),t.stopPropagation()}var i,l=this,u=new Slick.EventHandler,r={buttonCssClass:"slick-header-button"};n.extend(this,{init:e,destroy:a,onCommand:new Slick.Event})}n.extend(!0,window,{Slick:{Plugins:{HeaderButtons:t}}})}(jQuery);



!function(e){function t(t){function n(n){v=e.extend(!0,{},y,t),g=n,p.subscribe(g.onActiveCellChanged,r(h)),p.subscribe(g.onKeyDown,r(f)),p.subscribe(g.onClick,r(m))}function o(){p.unsubscribeAll()}function r(e){return function(){w||(w=!0,e.apply(this,arguments),w=!1)}}function l(e){for(var t=[],n=0;n<e.length;n++)for(var o=e[n].fromRow;o<=e[n].toRow;o++)t.push(o);return t}function i(e){for(var t=[],n=g.getColumns().length-1,o=0;o<e.length;o++)t.push(new Slick.Range(e[o],0,e[o],n));return t}function a(e,t){var n,o=[];for(n=e;t>=n;n++)o.push(n);for(n=t;e>n;n++)o.push(n);return o}function s(){return l(C)}function c(e){u(i(e))}function u(e){(C&&0!==C.length||e&&0!==e.length)&&(C=e,b.onSelectedRangesChanged.notify(C))}function d(){return C}function h(e,t){v.selectActiveRow&&null!=t.row&&u([new Slick.Range(t.row,0,t.row,g.getColumns().length-1)])}function f(e){var t=g.getActiveCell();if(t&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(38==e.which||40==e.which)){var n=s();n.sort(function(e,t){return e-t}),n.length||(n=[t.row]);var o,r=n[0],l=n[n.length-1];o=40==e.which?t.row<l||r==l?++l:++r:t.row<l?--l:--r,o>=0&&o<g.getDataLength()&&(g.scrollRowIntoView(o),C=i(a(r,l)),u(C)),e.preventDefault(),e.stopPropagation()}}function m(t){var n=g.getCellFromEvent(t);if(!n||!g.canCellBeActive(n.row,n.cell))return!1;if(!g.getOptions().multiSelect||!t.ctrlKey&&!t.shiftKey&&!t.metaKey)return!1;var o=l(C),r=e.inArray(n.row,o);if(-1===r&&(t.ctrlKey||t.metaKey))o.push(n.row),g.setActiveCell(n.row,n.cell);else if(-1!==r&&(t.ctrlKey||t.metaKey))o=e.grep(o,function(e,t){return e!==n.row}),g.setActiveCell(n.row,n.cell);else if(o.length&&t.shiftKey){var a=o.pop(),s=Math.min(n.row,a),c=Math.max(n.row,a);o=[];for(var d=s;c>=d;d++)d!==a&&o.push(d);o.push(a),g.setActiveCell(n.row,n.cell)}return C=i(o),u(C),t.stopImmediatePropagation(),!0}var g,w,v,C=[],b=this,p=new Slick.EventHandler,y={selectActiveRow:!0};e.extend(this,{getSelectedRows:s,setSelectedRows:c,getSelectedRanges:d,setSelectedRanges:u,init:n,destroy:o,onSelectedRangesChanged:new Slick.Event})}e.extend(!0,window,{Slick:{RowSelectionModel:t}})}(jQuery);



!function(e){function t(t){function n(n){t=e.extend(!0,{},f,t),c=n,l=c.getCanvasNode(),g.subscribe(c.onDragInit,i).subscribe(c.onDragStart,r).subscribe(c.onDrag,s).subscribe(c.onDragEnd,a)}function o(){g.unsubscribeAll()}function i(e,t){e.stopImmediatePropagation()}function r(n,o){var i=c.getCellFromEvent(n);if(t.cancelEditOnDrag&&c.getEditorLock().isActive()&&c.getEditorLock().cancelCurrentEdit(),c.getEditorLock().isActive()||!/move|selectAndMove/.test(c.getColumns()[i.cell].behavior))return!1;d=!0,n.stopImmediatePropagation();var r=c.getSelectedRows();0!=r.length&&-1!=e.inArray(i.row,r)||(r=[i.row],c.setSelectedRows(r));var s=c.getOptions().rowHeight;o.selectedRows=r,o.selectionProxy=e("<div class='slick-reorder-proxy'/>").css("position","absolute").css("zIndex","99999").css("width",e(l).innerWidth()).css("height",s*r.length).appendTo(l),o.guide=e("<div class='slick-reorder-guide'/>").css("position","absolute").css("zIndex","99998").css("width",e(l).innerWidth()).css("top",-1e3).appendTo(l),o.insertBefore=-1}function s(t,n){if(d){t.stopImmediatePropagation();var o=t.pageY-e(l).offset().top;n.selectionProxy.css("top",o-5);var i=Math.max(0,Math.min(Math.round(o/c.getOptions().rowHeight),c.getDataLength()));if(i!==n.insertBefore){var r={rows:n.selectedRows,insertBefore:i};u.onBeforeMoveRows.notify(r)===!1?(n.guide.css("top",-1e3),n.canMove=!1):(n.guide.css("top",i*c.getOptions().rowHeight),n.canMove=!0),n.insertBefore=i}}}function a(e,t){if(d&&(d=!1,e.stopImmediatePropagation(),t.guide.remove(),t.selectionProxy.remove(),t.canMove)){var n={rows:t.selectedRows,insertBefore:t.insertBefore};u.onMoveRows.notify(n)}}var c,l,d,u=this,g=new Slick.EventHandler,f={cancelEditOnDrag:!1};e.extend(this,{onBeforeMoveRows:new Slick.Event,onMoveRows:new Slick.Event,init:n,destroy:o})}e.extend(!0,window,{Slick:{RowMoveManager:t}})}(jQuery);



/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.7",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a("#"===f?[]:f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.7",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue())return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);if(this.$element.trigger(g),!g.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.7",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){
this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);



if(typeof global==="undefined"){if(typeof window!=="undefined")global=window;else if(typeof self!=="undefined")global=self}(function(e){"use strict";var t={__assemblies:{}};t.initAssembly=function at(e,n,r){r=r||{};e.name=n;e.toString=function(){return this.name};e.__types={};e.getResourceNames=function(){return Object.keys(r)};e.getResourceDataBase64=function(e){return r[e]||null};e.getResourceData=function(e){var n=r[e];return n?t.dec64(n):null};t.__assemblies[n]=e};t.initAssembly(t,"mscorlib");t.load=function st(e){return t.__assemblies[e]||require(e)};var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r;t.enc64=function(e,t){var r="",i;for(i=0;i<e.length;i+=3){var a=e[i],s=e[i+1],u=e[i+2];r+=(t&&i&&!(i%57)?"\n":"")+n[a>>2]+n[(a&3)<<4|s>>4]+(i<e.length-1?n[(s&15)<<2|u>>6]:"=")+(i<e.length-2?n[u&63]:"=")}return r};t.dec64=function(e){e=e.replace(/\s/g,"");r=r||function(){var e={"=":-1};for(var t=0;t<64;t++)e[n[t]]=t;return e}();var t=Array(Math.max(e.length*3/4-2,0)),i;for(i=0;i<e.length;i+=4){var a=i*3/4,s=r[e[i]],u=r[e[i+1]],o=r[e[i+2]],l=r[e[i+3]];t[a]=s<<2|u>>4;if(o>=0)t[a+1]=(u&15)<<4|o>>2;if(l>=0)t[a+2]=(o&3)<<6|l}return t};t.getAssemblies=function ut(){return Object.keys(t.__assemblies).map(function(e){return t.__assemblies[e]})};t.isNullOrUndefined=function ot(e){return e===null||e===undefined};t.isValue=function lt(e){return e!==null&&e!==undefined};t.referenceEquals=function ft(e,n){return t.isValue(e)?e===n:!t.isValue(n)};t.mkdict=function ct(){var e=arguments.length!=1?arguments:arguments[0];var t={};for(var n=0;n<e.length;n+=2){t[e[n]]=e[n+1]}return t};t.clone=function pt(e,t){return t?e.$clone(t):t};t.coalesce=function gt(e,n){return t.isValue(e)?e:n};t.isDate=function mt(e){return Object.prototype.toString.call(e)==="[object Date]"};t.isArray=function ht(e){return Object.prototype.toString.call(e)==="[object Array]"};t.isTypedArrayType=function yt(e){return["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint16Array","Uint32Array","Uint8ClampedArray"].indexOf(t.getTypeFullName(e))>=0};t.isArrayOrTypedArray=function dt(e){return t.isArray(e)||t.isTypedArrayType(t.getInstanceType(e))};t.getHashCode=function _t(e){if(!t.isValue(e))throw new K("Cannot get hash code of null");else if(typeof e.getHashCode==="function")return e.getHashCode();else if(typeof e==="boolean"){return e?1:0}else if(typeof e==="number"){var n=e.toExponential();n=n.substr(0,n.indexOf("e"));return parseInt(n.replace(".",""),10)&4294967295}else if(typeof e==="string"){var r=0;for(var i=0;i<e.length;i++)r=r*31+e.charCodeAt(i)&4294967295;return r}else if(t.isDate(e)){return e.valueOf()&4294967295}else{return t.defaultHashCode(e)}};t.defaultHashCode=function vt(e){return e.$__hashCode__||(e.$__hashCode__=Math.random()*4294967296|0)};t.equals=function bt(e,n){if(!t.isValue(e))throw new K("Object is null");else if(e!==t&&typeof e.equals==="function")return e.equals(n);if(t.isDate(e)&&t.isDate(n))return e.valueOf()===n.valueOf();else if(typeof e==="function"&&typeof n==="function")return t.delegateEquals(e,n);else if(t.isNullOrUndefined(e)&&t.isNullOrUndefined(n))return true;else return e===n};t.compare=function wt(e,n){if(!t.isValue(e))throw new K("Object is null");else if(typeof e==="number"||typeof e==="string"||typeof e==="boolean")return t.isValue(n)?e<n?-1:e>n?1:0:1;else if(t.isDate(e))return t.isValue(n)?t.compare(e.valueOf(),n.valueOf()):1;else return e.compareTo(n)};t.equalsT=function Ct(e,n){if(!t.isValue(e))throw new K("Object is null");else if(typeof e==="number"||typeof e==="string"||typeof e==="boolean")return e===n;else if(t.isDate(e))return e.valueOf()===n.valueOf();else return e.equalsT(n)};t.staticEquals=function St(e,n){if(!t.isValue(e))return!t.isValue(n);else return t.isValue(n)?t.equals(e,n):false};t.shallowCopy=function xt(e,t){var n=Object.keys(e);for(var r=0,i=n.length;r<i;r++){var a=n[r];t[a]=e[a]}};t.isLower=function Tt(e){var t=String.fromCharCode(e);return t===t.toLowerCase()&&t!==t.toUpperCase()};t.isUpper=function kt(e){var t=String.fromCharCode(e);return t!==t.toLowerCase()&&t===t.toUpperCase()};if(typeof window=="object"){if(!window.Element){window.Element=function(){};window.Element.isInstanceOfType=function(e){return e&&typeof e.constructor==="undefined"&&typeof e.tagName==="string"}}window.Element.__typeName="Element";if(!window.XMLHttpRequest){window.XMLHttpRequest=function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"];for(var t=0;t<e.length;t++){try{var n=new ActiveXObject(e[t]);return n}catch(r){}}return null}}t.parseXml=function(e){try{if(DOMParser){var t=new DOMParser;return t.parseFromString(e,"text/xml")}else{var n=["Msxml2.DOMDocument.3.0","Msxml2.DOMDocument"];for(var r=0;r<n.length;r++){var i=new ActiveXObject(n[r]);i.async=false;i.loadXML(e);i.setProperty("SelectionLanguage","XPath");return i}}}catch(a){}return null}}t.clearKeys=function Dt(e){for(var t in e){if(e.hasOwnProperty(t))delete e[t]}};t.keyExists=function It(e,t){return e[t]!==undefined};if(!Object.keys){Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if(typeof i!=="object"&&(typeof i!=="function"||i===null)){throw new TypeError("Object.keys called on non-object")}var a=[],s,u;for(s in i){if(e.call(i,s)){a.push(s)}}if(t){for(u=0;u<r;u++){if(e.call(i,n[u])){a.push(n[u])}}}return a}}()}t.getKeyCount=function Et(e){return Object.keys(e).length};t.__genericCache={};t._makeGenericTypeName=function At(e,n){var r=e.__typeName;for(var i=0;i<n.length;i++)r+=(i===0?"[":",")+"["+t.getTypeFullName(n[i])+"]";r+="]";return r};t.makeGenericType=function Nt(e,n){var r=t._makeGenericTypeName(e,n);return t.__genericCache[r]||e.apply(null,n)};t.registerGenericClassInstance=function Ot(e,n,r,i,a,s){var u=t._makeGenericTypeName(n,r);t.__genericCache[u]=e;e.__typeName=u;e.__genericTypeDefinition=n;e.__typeArguments=r;t.initClass(e,n.__assembly,i,a(),s())};t.registerGenericInterfaceInstance=function Mt(e,n,r,i,a){var s=t._makeGenericTypeName(n,r);t.__genericCache[s]=e;e.__typeName=s;e.__genericTypeDefinition=n;e.__typeArguments=r;t.initInterface(e,n.__assembly,i,a())};t.isGenericTypeDefinition=function Vt(e){return e.__isGenericTypeDefinition||false};t.getGenericTypeDefinition=function Ft(e){return e.__genericTypeDefinition||null};t.getGenericParameterCount=function Pt(e){return e.__typeArgumentCount||0};t.getGenericArguments=function Rt(e){return e.__typeArguments||null};t.setMetadata=function jt(e,n){if(n.members){for(var r=0;r<n.members.length;r++){var i=n.members[r];i.typeDef=e;if(i.adder)i.adder.typeDef=e;if(i.remover)i.remover.typeDef=e;if(i.getter)i.getter.typeDef=e;if(i.setter)i.setter.typeDef=e}}e.__metadata=n;if(n.variance){e.isAssignableFrom=function(e){var n=function(e,n){if(n.__genericTypeDefinition===e.__genericTypeDefinition&&n.__typeArguments.length==e.__typeArguments.length){for(var r=0;r<e.__typeArguments.length;r++){var i=e.__metadata.variance[r],a=e.__typeArguments[r],s=n.__typeArguments[r];switch(i){case 1:if(!t.isAssignableFrom(a,s))return false;break;case 2:if(!t.isAssignableFrom(s,a))return false;break;default:if(s!==a)return false}}return true}return false};if(e.__interface&&n(this,e))return true;var r=t.getInterfaces(e);for(var i=0;i<r.length;i++){if(r[i]===this||n(this,r[i]))return true}return false}}};t.initClass=function Ut(e,n,r,i,a){e.__class=true;e.__assembly=n;if(!e.__typeArguments)n.__types[e.__typeName]=e;if(i&&i!==Object){var s=function(){};s.prototype=i.prototype;e.prototype=new s;e.prototype.constructor=e}t.shallowCopy(r,e.prototype);if(a)e.__interfaces=a};t.initGenericClass=function Lt(e,t,n){e.__class=true;e.__assembly=t;t.__types[e.__typeName]=e;e.__typeArgumentCount=n;e.__isGenericTypeDefinition=true};t.initInterface=function zt(e,n,r,i){e.__interface=true;e.__assembly=n;if(!e.__typeArguments)n.__types[e.__typeName]=e;if(i)e.__interfaces=i;t.shallowCopy(r,e.prototype);e.isAssignableFrom=function(e){return t.contains(t.getInterfaces(e),this)}};t.initGenericInterface=function Gt(e,t,n){e.__interface=true;e.__assembly=t;t.__types[e.__typeName]=e;e.__typeArgumentCount=n;e.__isGenericTypeDefinition=true};t.initEnum=function Ht(e,n,r,i){e.__enum=true;e.__assembly=n;n.__types[e.__typeName]=e;t.shallowCopy(r,e.prototype);e.getDefaultValue=e.createInstance=function(){return i?null:0};e.isInstanceOfType=function(e){return typeof e==(i?"string":"number")}};t.getBaseType=function qt(e){if(e===Object||e.__interface){return null}else if(Object.getPrototypeOf){return Object.getPrototypeOf(e.prototype).constructor}else{var t=e.prototype;if(Object.prototype.hasOwnProperty.call(t,"constructor")){try{var n=t.constructor;delete t.constructor;return t.constructor}finally{t.constructor=n}}return t.constructor}};t.getTypeFullName=function $t(e){return e.__typeName||e.name||(e.toString().match(/^\s*function\s*([^\s(]+)/)||[])[1]||"Object"};t.getTypeQName=function Bt(e){return t.getTypeFullName(e)+(e.__assembly?", "+e.__assembly.name:"")};t.getTypeName=function Kt(e){var n=t.getTypeFullName(e);var r=n.indexOf("[");var i=n.lastIndexOf(".",r>=0?r:n.length);return i>0?n.substr(i+1):n};t.getTypeNamespace=function Wt(e){var n=t.getTypeFullName(e);var r=n.indexOf("[");var i=n.lastIndexOf(".",r>=0?r:n.length);return i>0?n.substr(0,i):""};t.getTypeAssembly=function Xt(e){if(t.contains([Date,Number,Boolean,String,Function,Array],e))return t;else return e.__assembly||null};t._getAssemblyType=function Jt(e,n){var r=[];if(e.__types){return e.__types[n]||null}else{var i=n.split(".");for(var a=0;a<i.length;a++){e=e[i[a]];if(!t.isValue(e))return null}if(typeof e!=="function")return null;return e}};t.getAssemblyTypes=function Yt(e){var n=[];if(e.__types){for(var r in e.__types){if(e.__types.hasOwnProperty(r))n.push(e.__types[r])}}else{var i=function(e,r){for(var a in e){if(e.hasOwnProperty(a))i(e[a],a)}if(typeof e==="function"&&t.isUpper(r.charCodeAt(0)))n.push(e)};i(e,"")}return n};t.createAssemblyInstance=function Zt(e,n){var r=t.getType(n,e);return r?t.createInstance(r):null};t.getInterfaces=function Qt(e){if(e.__interfaces)return e.__interfaces;else if(e===Date||e===Number)return[s,a,i];else if(e===Boolean||e===String)return[s,a];else if(e===Array||t.isTypedArrayType(e))return[m,h,b];else return[]};t.isInstanceOfType=function en(e,n){if(t.isNullOrUndefined(e))return false;if(typeof n.isInstanceOfType==="function")return n.isInstanceOfType(e);return t.isAssignableFrom(n,t.getInstanceType(e))};t.isAssignableFrom=function tn(e,t){return e===t||typeof e.isAssignableFrom==="function"&&e.isAssignableFrom(t)||t.prototype instanceof e};t.isClass=function nn(e){return e.__class==true||e===Array||e===Function||e===RegExp||e===String||e===Error||e===Object};t.isEnum=function rn(e){return!!e.__enum};t.isFlags=function an(e){return e.__metadata&&e.__metadata.enumFlags||false};t.isInterface=function sn(e){return!!e.__interface};t.safeCast=function un(e,n){if(n===true)return e;else if(n===false)return null;else return t.isInstanceOfType(e,n)?e:null};t.cast=function on(e,n){if(e===null||typeof e==="undefined")return e;else if(n===true||n!==false&&t.isInstanceOfType(e,n))return e;throw new $("Cannot cast object to type "+t.getTypeFullName(n))};t.getInstanceType=function ln(e){if(!t.isValue(e))throw new K("Cannot get type of null");try{return e.constructor}catch(n){return Object}};t._getType=function(n,r,i){var a=!i;i=i||/[[,\]]/g;var s=i.lastIndex,u=i.exec(n),o,l=[];if(u){o=n.substring(s,u.index);switch(u[0]){case"[":if(n[u.index+1]!="[")return null;for(;;){i.exec(n);var f=t._getType(n,e,i);if(!f)return null;l.push(f);u=i.exec(n);if(u[0]==="]")break;else if(u[0]!==",")return null}u=i.exec(n);if(u&&u[0]===","){i.exec(n);if(!(r=t.__assemblies[(i.lastIndex>0?n.substring(u.index+1,i.lastIndex-1):n.substring(u.index+1)).trim()]))return null}break;case"]":break;case",":i.exec(n);if(!(r=t.__assemblies[(i.lastIndex>0?n.substring(u.index+1,i.lastIndex-1):n.substring(u.index+1)).trim()]))return null;break}}else{o=n.substring(s)}if(a&&i.lastIndex)return null;var f=t._getAssemblyType(r,o.trim());return l.length?t.makeGenericType(f,l):f};t.getType=function fn(n,r){return n?t._getType(n,r||e):null};t.getDefaultValue=function cn(e){if(typeof e.getDefaultValue==="function")return e.getDefaultValue();else if(e===Boolean)return false;else if(e===Date)return new Date(0);else if(e===Number)return 0;return null};t.createInstance=function pn(e){if(typeof e.createInstance==="function")return e.createInstance();else if(e===Boolean)return false;else if(e===Date)return new Date(0);else if(e===Number)return 0;else if(e===String)return"";else return new e};t.applyConstructor=function gn(e,t){var n=function(){e.apply(this,t)};n.prototype=e.prototype;return new n};t.getAttributes=function mn(e,n,r){var i=[];if(r){var a=t.getBaseType(e);if(a){var s=t.getAttributes(a,n,true);for(var u=0;u<s.length;u++){var o=t.getInstanceType(s[u]);if(!o.__metadata||!o.__metadata.attrNoInherit)i.push(s[u])}}}if(e.__metadata&&e.__metadata.attr){for(var u=0;u<e.__metadata.attr.length;u++){var s=e.__metadata.attr[u];if(n==null||t.isInstanceOfType(s,n)){var o=t.getInstanceType(s);if(!o.__metadata||!o.__metadata.attrAllowMultiple){for(var l=i.length-1;l>=0;l--){if(t.isInstanceOfType(i[l],o))i.splice(l,1)}}i.push(s)}}}return i};t.getMembers=function hn(e,n,r,i,a){var s=[];if((r&72)==72||(r&6)==4){var u=t.getBaseType(e);if(u)s=t.getMembers(u,n&~1,r&(r&64?255:247)&(r&2?251:255),i,a)}var o=function(e){if(n&e.type&&(r&4&&!e.isStatic||r&8&&e.isStatic)&&(!i||e.name===i)){if(a){if((e.params||[]).length!==a.length)return;for(var t=0;t<a.length;t++){if(a[t]!==e.params[t])return}}s.push(e)}};if(e.__metadata&&e.__metadata.members){for(var l=0;l<e.__metadata.members.length;l++){var f=e.__metadata.members[l];o(f);for(var c=0;c<4;c++){var p=["getter","setter","adder","remover"][c];if(f[p])o(f[p])}}}if(r&256){while(e){var g=[];for(var l=0;l<s.length;l++){if(s[l].typeDef===e)g.push(s[l])}if(g.length>1)throw new X("Ambiguous match");else if(g.length===1)return g[0];e=t.getBaseType(e)}return null}return s};t.midel=function yn(e,n,r){if(e.isStatic&&!!n)throw new L("Cannot specify target for static method");else if(!e.isStatic&&!n)throw new L("Must specify target for instance method");var i;if(e.fget){i=function(){return(e.isStatic?e.typeDef:this)[e.fget]}}else if(e.fset){i=function(t){(e.isStatic?e.typeDef:this)[e.fset]=t}}else{i=e.def||(e.isStatic||e.sm?e.typeDef[e.sname]:n[e.sname]);if(e.tpcount){if(!r||r.length!==e.tpcount)throw new L("Wrong number of type arguments");i=i.apply(null,r)}else{if(r&&r.length)throw new L("Cannot specify type arguments for non-generic method")}if(e.exp){var a=i;i=function(){return a.apply(this,Array.prototype.slice.call(arguments,0,arguments.length-1).concat(arguments[arguments.length-1]))}}if(e.sm){var s=i;i=function(){return s.apply(null,[this].concat(Array.prototype.slice.call(arguments)))}}}return t.mkdel(n,i)};t.invokeCI=function dn(e,n){if(e.exp)n=n.slice(0,n.length-1).concat(n[n.length-1]);if(e.def)return e.def.apply(null,n);else if(e.sm)return e.typeDef[e.sname].apply(null,n);else return t.applyConstructor(e.sname?e.typeDef[e.sname]:e.typeDef,n)};t.fieldAccess=function _n(e,t){if(e.isStatic&&!!t)throw new L("Cannot specify target for static field");else if(!e.isStatic&&!t)throw new L("Must specify target for instance field");t=e.isStatic?e.typeDef:t;if(arguments.length===3)t[e.sname]=arguments[2];else return t[e.sname]};var i=function vn(){};i.__typeName="ss.IFormattable";t.IFormattable=i;t.initInterface(i,t,{format:null});t.format=function bn(e,n){if(typeof e==="number")return t.formatNumber(e,n);else if(t.isDate(e))return t.formatDate(e,n);else return e.format(n)};var a=function wn(){};a.__typeName="ss.IComparable";t.IComparable=a;t.initInterface(a,t,{compareTo:null});var s=function Cn(){};s.__typeName="ss.IEquatable";t.IEquatable=s;t.initInterface(s,t,{equalsT:null});t.formatNumber=function Sn(e,n){if(t.isNullOrUndefined(n)||n.length==0||n=="i"){return e.toString()}return t.netFormatNumber(e,n,p.invariantCulture.numberFormat)};t.localeFormatNumber=function xn(e,n){if(t.isNullOrUndefined(n)||n.length==0||n=="i"){return e.toLocaleString()}return t.netFormatNumber(e,n,p.currentCulture.numberFormat)};t._commaFormatNumber=function Tn(e,n,r,i){var a=null;var s=e.indexOf(r);if(s>0){a=e.substr(s);e=e.substr(0,s)}var u=t.startsWithString(e,"-");if(u){e=e.substr(1)}var o=0;var l=n[o];if(e.length<l){return(u?"-":"")+(a?e+a:e)}var f=e.length;var c="";var p=false;while(!p){var g=l;var m=f-g;if(m<0){l+=m;g+=m;m=0;p=true}if(!g){break}var h=e.substr(m,g);if(c.length){c=h+i+c}else{c=h}f-=g;if(o<n.length-1){o++;l=n[o]}}if(u){c="-"+c}return a?c+a:c};t.netFormatNumber=function kn(e,n,r){var i=r&&r.getFormat(o)||p.currentCulture.numberFormat;var a="";var s=-1;if(n.length>1){s=parseInt(n.substr(1),10)}var u=n.charAt(0);switch(u){case"d":case"D":a=parseInt(Math.abs(e)).toString();if(s!=-1){a=t.padLeftString(a,s,48)}if(e<0){a="-"+a}break;case"x":case"X":a=parseInt(Math.abs(e)).toString(16);if(u=="X"){a=a.toUpperCase()}if(s!=-1){a=t.padLeftString(a,s,48)}break;case"e":case"E":if(s==-1){a=e.toExponential()}else{a=e.toExponential(s)}if(u=="E"){a=a.toUpperCase()}break;case"f":case"F":case"n":case"N":if(s==-1){s=i.numberDecimalDigits}a=e.toFixed(s).toString();if(s&&i.numberDecimalSeparator!="."){var l=a.indexOf(".");a=a.substr(0,l)+i.numberDecimalSeparator+a.substr(l+1)}if(u=="n"||u=="N"){a=t._commaFormatNumber(a,i.numberGroupSizes,i.numberDecimalSeparator,i.numberGroupSeparator)}break;case"c":case"C":if(s==-1){s=i.currencyDecimalDigits}a=Math.abs(e).toFixed(s).toString();if(s&&i.currencyDecimalSeparator!="."){var l=a.indexOf(".");a=a.substr(0,l)+i.currencyDecimalSeparator+a.substr(l+1)}a=t._commaFormatNumber(a,i.currencyGroupSizes,i.currencyDecimalSeparator,i.currencyGroupSeparator);if(e<0){a=t.formatString(i.currencyNegativePattern,a)}else{a=t.formatString(i.currencyPositivePattern,a)}break;case"p":case"P":if(s==-1){s=i.percentDecimalDigits}a=(Math.abs(e)*100).toFixed(s).toString();if(s&&i.percentDecimalSeparator!="."){var l=a.indexOf(".");a=a.substr(0,l)+i.percentDecimalSeparator+a.substr(l+1)}a=t._commaFormatNumber(a,i.percentGroupSizes,i.percentDecimalSeparator,i.percentGroupSeparator);if(e<0){a=t.formatString(i.percentNegativePattern,a)}else{a=t.formatString(i.percentPositivePattern,a)}break}return a};t.netSplit=function Dn(e,n,r,i){var a=new RegExp(n.map(t.regexpEscape).join("|"),"g"),s=[],u,o;for(o=0;;o=a.lastIndex){if(u=a.exec(e)){if(i!==1||u.index>o){if(s.length===r-1){s.push(e.substr(o));return s}else s.push(e.substring(o,u.index))}}else{if(i!==1||o!==e.length)s.push(e.substr(o));return s}}};t.compareStrings=function In(e,n,r){if(!t.isValue(e))return t.isValue(n)?-1:0;if(!t.isValue(n))return 1;if(r){if(e){e=e.toUpperCase()}if(n){n=n.toUpperCase()}}e=e||"";n=n||"";if(e==n){return 0}if(e<n){return-1}return 1};t.endsWithString=function En(e,t){if(!t.length){return true}if(t.length>e.length){return false}return e.substr(e.length-t.length)==t};t._formatString=function An(e,n,r){if(!t._formatRE){t._formatRE=/\{\{|\}\}|\{[^\}\{]+\}/g}return e.replace(t._formatRE,function(e){if(e==="{{"||e==="}}")return e.charAt(0);var a=parseInt(e.substr(1),10);var s=n[a+1];if(t.isNullOrUndefined(s)){return""}if(t.isInstanceOfType(s,i)){var u=null;var o=e.indexOf(":");if(o>0){u=e.substring(o+1,e.length-1)}return t.format(s,u)}else{return r?s.toLocaleString():s.toString()}})};t.formatString=function Nn(e){return t._formatString(e,arguments,false)};t.stringFromChar=function On(e,t){var n=e;for(var r=1;r<t;r++){n+=e}return n};t.htmlDecode=function Mn(e){return e.replace(/&([^;]+);/g,function(e,t){if(t[0]==="#")return String.fromCharCode(parseInt(t.substr(1),10));switch(t){case"quot":return'"';case"apos":return"'";case"amp":return"&";case"lt":return"<";case"gt":return">";default:return"&"+t+";"}})};t.htmlEncode=function Vn(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};t.jsEncode=function Fn(e,t){e=e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"');return t?'"'+e+'"':e};t.indexOfAnyString=function Pn(e,t,n,r){var i=e.length;if(!i){return-1}t=String.fromCharCode.apply(null,t);n=n||0;r=r||i;var a=n+r-1;if(a>=i){a=i-1}for(var s=n;s<=a;s++){if(t.indexOf(e.charAt(s))>=0){return s}}return-1};t.insertString=function Rn(e,t,n){if(!n){return e}if(!t){return n+e}var r=e.substr(0,t);var i=e.substr(t);return r+n+i};t.isNullOrEmptyString=function jn(e){return!e||!e.length};t.lastIndexOfAnyString=function Un(e,t,n,r){var i=e.length;if(!i){return-1}t=String.fromCharCode.apply(null,t);n=n||i-1;r=r||i;var a=n-r+1;if(a<0){a=0}for(var s=n;s>=a;s--){if(t.indexOf(e.charAt(s))>=0){return s}}return-1};t.localeFormatString=function Ln(e){return t._formatString(e,arguments,true)};t.padLeftString=function zn(e,n,r){if(e.length<n){r=String.fromCharCode(r||32);return t.stringFromChar(r,n-e.length)+e}return e};t.padRightString=function Gn(e,n,r){if(e.length<n){r=String.fromCharCode(r||32);return e+t.stringFromChar(r,n-e.length)}return e};t.removeString=function Hn(e,t,n){if(!n||t+n>this.length){return e.substr(0,t)}return e.substr(0,t)+e.substr(t+n)};t.replaceAllString=function qn(e,t,n){n=n||"";return e.split(t).join(n)};t.startsWithString=function $n(e,t){if(!t.length){return true}if(t.length>e.length){return false}return e.substr(0,t.length)==t};if(!String.prototype.trim){String.prototype.trim=function Bn(){return t.trimStartString(t.trimEndString(this))}}t.trimEndString=function Kn(e,t){return e.replace(t?new RegExp("["+String.fromCharCode.apply(null,t)+"]+$"):/\s*$/,"")};t.trimStartString=function Wn(e,t){return e.replace(t?new RegExp("^["+String.fromCharCode.apply(null,t)+"]+"):/^\s*/,"")};t.trimString=function Xn(e,n){return t.trimStartString(t.trimEndString(e,n),n)};t.lastIndexOfString=function Jn(e,t,n,r){var i=e.lastIndexOf(t,n);return i<n-r+1?-1:i};t.indexOfString=function Yn(e,t,n,r){var i=e.indexOf(t,n);return i+t.length<=n+r?i:-1};t.divRem=function Zn(e,t,n){var r=e%t;n.$=r;return(e-r)/t};t.round=function Qn(e,t,n){var r=Math.pow(10,t||0);e*=r;var i=e>0|-(e<0);if(e%1===.5*i){var a=Math.floor(e);return(a+(n?i>0:a%2*i))/r}return Math.round(e)/r};var u=function er(){};u.__typeName="ss.IFormatProvider";t.IFormatProvider=u;t.initInterface(u,t,{getFormat:null});var o=function tr(){};o.__typeName="ss.NumberFormatInfo";t.NumberFormatInfo=o;t.initClass(o,t,{getFormat:function nr(e){return e===o?this:null}},null,[u]);o.invariantInfo=new o;t.shallowCopy({naNSymbol:"NaN",negativeSign:"-",positiveSign:"+",negativeInfinitySymbol:"-Infinity",positiveInfinitySymbol:"Infinity",percentSymbol:"%",percentGroupSizes:[3],percentDecimalDigits:2,percentDecimalSeparator:".",percentGroupSeparator:",",percentPositivePattern:0,percentNegativePattern:0,currencySymbol:"$",currencyGroupSizes:[3],currencyDecimalDigits:2,currencyDecimalSeparator:".",currencyGroupSeparator:",",currencyNegativePattern:0,currencyPositivePattern:0,numberGroupSizes:[3],numberDecimalDigits:2,numberDecimalSeparator:".",numberGroupSeparator:","},o.invariantInfo);var l=function rr(){};l.__typeName="ss.DateTimeFormatInfo";t.DateTimeFormatInfo=l;t.initClass(l,t,{getFormat:function ir(e){return e===l?this:null}},null,[u]);l.invariantInfo=new l;t.shallowCopy({amDesignator:"AM",pmDesignator:"PM",dateSeparator:"/",timeSeparator:":",gmtDateTimePattern:"ddd, dd MMM yyyy HH:mm:ss 'GMT'",universalDateTimePattern:"yyyy-MM-dd HH:mm:ssZ",sortableDateTimePattern:"yyyy-MM-ddTHH:mm:ss",dateTimePattern:"dddd, MMMM dd, yyyy h:mm:ss tt",longDatePattern:"dddd, MMMM dd, yyyy",shortDatePattern:"M/d/yyyy",longTimePattern:"h:mm:ss tt",shortTimePattern:"h:mm tt",firstDayOfWeek:0,dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],minimizedDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},l.invariantInfo);var f=function ar(){this._stopTime=0;this._startTime=0;this.isRunning=false};f.startNew=function sr(){var e=new f;e.start();return e};if(typeof window!=="undefined"&&window.performance&&window.performance.now){f.frequency=1e6;f.isHighResolution=true;f.getTimestamp=function(){return Math.round(window.performance.now()*1e3)}}else if(typeof process!=="undefined"&&process.hrtime){f.frequency=1e9;f.isHighResolution=true;f.getTimestamp=function(){var e=process.hrtime();return e[0]*1e9+e[1]}}else{f.frequency=1e3;f.isHighResolution=false;f.getTimestamp=function(){return(new Date).valueOf()}}f.__typeName="ss.Stopwatch";t.Stopwatch=f;t.initClass(f,t,{reset:function ur(){this._stopTime=this._startTime=f.getTimestamp();this.isRunning=false},ticks:function or(){return(this.isRunning?f.getTimestamp():this._stopTime)-this._startTime},milliseconds:function lr(){return Math.round(this.ticks()/f.frequency*1e3)},timeSpan:function fr(){return new y(this.milliseconds()*1e4)},start:function cr(){if(this.isRunning)return;this._startTime=f.getTimestamp();this.isRunning=true},stop:function pr(){if(!this.isRunning)return;this._stopTime=f.getTimestamp();this.isRunning=false},restart:function gr(){this.isRunning=false;this.start()}});t._flatIndex=function mr(e,t){if(t.length!=(e._sizes?e._sizes.length:1))throw new L("Invalid number of indices");if(t[0]<0||t[0]>=(e._sizes?e._sizes[0]:e.length))throw new L("Index 0 out of range");var n=t[0];if(e._sizes){for(var r=1;r<e._sizes.length;r++){if(t[r]<0||t[r]>=e._sizes[r])throw new L("Index "+r+" out of range");n=n*e._sizes[r]+t[r]}}return n};t.arrayGet2=function hr(e,n){var r=t._flatIndex(e,n);var i=e[r];return typeof i!=="undefined"?i:e._defvalue};t.arrayGet=function yr(e){return t.arrayGet2(e,Array.prototype.slice.call(arguments,1))};t.arraySet2=function dr(e,n,r){var i=t._flatIndex(e,r);e[i]=n};t.arraySet=function _r(){return t.arraySet2(arguments[0],arguments[arguments.length-1],Array.prototype.slice.call(arguments,1,arguments.length-1))};t.arrayRank=function vr(e){return e._sizes?e._sizes.length:1};t.arrayLength=function br(e,t){if(t>=(e._sizes?e._sizes.length:1))throw new L("Invalid dimension");return e._sizes?e._sizes[t]:e.length};t.arrayExtract=function wr(e,n,r){if(!t.isValue(r)){return e.slice(n)}return e.slice(n,n+r)};t.arrayAddRange=function Cr(e,n){if(n instanceof Array){e.push.apply(e,n)}else{var r=t.getEnumerator(n);try{while(r.moveNext()){t.add(e,r.current())}}finally{if(t.isInstanceOfType(r,A)){t.cast(r,A).dispose()}}}};t.arrayClone=function Sr(e){if(e.length===1){return[e[0]]}else{return Array.apply(null,e)}};t.arrayPeekFront=function xr(e){if(e.length)return e[0];throw new B("Array is empty")};t.arrayPeekBack=function Tr(e){if(e.length)return e[e.length-1];throw new B("Array is empty")};t.indexOfArray=function kr(e,n,r){r=r||0;for(var i=r;i<e.length;i++){if(t.staticEquals(e[i],n)){return i}}return-1};t.arrayInsertRange=function Dr(e,n,r){if(r instanceof Array){if(n===0){e.unshift.apply(e,r)}else{for(var i=0;i<r.length;i++){e.splice(n+i,0,r[i])}}}else{var a=t.getEnumerator(r);try{while(a.moveNext()){e.insert(n,a.current());n++}}finally{if(t.isInstanceOfType(a,A)){t.cast(a,A).dispose()}}}};if(!Array.prototype.map){Array.prototype.map=function Ir(e,t){var n=this.length;var r=new Array(n);for(var i=0;i<n;i++){if(i in this){r[i]=e.call(t,this[i],i,this)}}return r}}t.arrayRemoveRange=function Er(e,t,n){e.splice(t,n)};if(!Array.prototype.some){Array.prototype.some=function Ar(e,t){var n=this.length;for(var r=0;r<n;r++){if(r in this&&e.call(t,this[r],r,this)){return true}}return false}}t.arrayFromEnumerable=function Nr(e){if(!t.isValue(e))return null;var n=t.getEnumerator(e),r=[];try{while(n.moveNext())r.push(n.current())}finally{n.dispose()}return r};t.multidimArray=function Or(e,t){var n=[];n._defvalue=e;n._sizes=[arguments[1]];var r=arguments[1];for(var i=2;i<arguments.length;i++){r*=arguments[i];n._sizes[i-1]=arguments[i]}n.length=r;return n};t.repeat=function Mr(e,t){var n=[];for(var r=0;r<t;r++)n.push(e);return n};t.arrayFill=function Vr(e,t,n,r){if(n<0||r<0||n+r>e.length)throw new L;if(Array.prototype.fill){e.fill(t,n,n+r)}else{while(--r>=0)e[n+r]=t}};t.arrayCopy=function Fr(e,t,n,r,i){if(t<0||r<0||i<0)throw new G;if(i>e.length-t||i>n.length-r)throw new L;if(t<r&&e===n){while(--i>=0)n[r+i]=e[t+i]}else{for(var a=0;a<i;a++)n[r+a]=e[t+a]}};t.utcNow=function Pr(){var e=new Date;return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())};t.toUTC=function Rr(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())};t.fromUTC=function jr(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))};t.today=function Ur(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate())};t.formatDate=function Lr(e,n){if(t.isNullOrUndefined(n)||n.length==0||n=="i"){return e.toString()}if(n=="id"){return e.toDateString()}if(n=="it"){return e.toTimeString()}return t._netFormatDate(e,n,false)};t.localeFormatDate=function zr(e,n){if(t.isNullOrUndefined(n)||n.length==0||n=="i"){return e.toLocaleString()}if(n=="id"){return e.toLocaleDateString()}if(n=="it"){return e.toLocaleTimeString()}return t._netFormatDate(e,n,true)};t._netFormatDate=function Gr(e,n,r){var i=r?p.currentCulture.dateTimeFormat:p.invariantCulture.dateTimeFormat;if(n.length==1){switch(n){case"f":n=i.longDatePattern+" "+i.shortTimePattern;break;case"F":n=i.dateTimePattern;break;case"d":n=i.shortDatePattern;break;case"D":n=i.longDatePattern;break;case"t":n=i.shortTimePattern;break;case"T":n=i.longTimePattern;break;case"g":n=i.shortDatePattern+" "+i.shortTimePattern;break;case"G":n=i.shortDatePattern+" "+i.longTimePattern;break;case"R":case"r":i=p.InvariantCulture.dateTimeFormat;n=i.gmtDateTimePattern;break;case"u":n=i.universalDateTimePattern;break;case"U":n=i.dateTimePattern;e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());break;case"s":n=i.sortableDateTimePattern;break}}if(n.charAt(0)=="%"){n=n.substr(1)}if(!Date._formatRE){Date._formatRE=/'.*?[^\\]'|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z/g}var a=Date._formatRE;var s=new N;a.lastIndex=0;while(true){var u=a.lastIndex;var o=a.exec(n);s.append(n.slice(u,o?o.index:n.length));if(!o){break}var l=o[0];var f=l;switch(l){case"dddd":f=i.dayNames[e.getDay()];break;case"ddd":f=i.shortDayNames[e.getDay()];break;case"dd":f=t.padLeftString(e.getDate().toString(),2,48);break;case"d":f=e.getDate();break;case"MMMM":f=i.monthNames[e.getMonth()];break;case"MMM":f=i.shortMonthNames[e.getMonth()];break;case"MM":f=t.padLeftString((e.getMonth()+1).toString(),2,48);break;case"M":f=e.getMonth()+1;break;case"yyyy":f=e.getFullYear();break;case"yy":f=t.padLeftString((e.getFullYear()%100).toString(),2,48);break;case"y":f=e.getFullYear()%100;break;case"h":case"hh":f=e.getHours()%12;if(!f){f="12"}else if(l=="hh"){f=t.padLeftString(f.toString(),2,48)}break;case"HH":f=t.padLeftString(e.getHours().toString(),2,48);break;case"H":f=e.getHours();break;case"mm":f=t.padLeftString(e.getMinutes().toString(),2,48);break;case"m":f=e.getMinutes();break;case"ss":f=t.padLeftString(e.getSeconds().toString(),2,48);break;case"s":f=e.getSeconds();break;case"t":case"tt":f=e.getHours()<12?i.amDesignator:i.pmDesignator;if(l=="t"){f=f.charAt(0)}break;case"fff":f=t.padLeftString(e.getMilliseconds().toString(),3,48);break;case"ff":f=t.padLeftString(e.getMilliseconds().toString(),3).substr(0,2);
break;case"f":f=t.padLeftString(e.getMilliseconds().toString(),3).charAt(0);break;case"z":f=e.getTimezoneOffset()/60;f=(f>=0?"-":"+")+Math.floor(Math.abs(f));break;case"zz":case"zzz":f=e.getTimezoneOffset()/60;f=(f>=0?"-":"+")+Math.floor(t.padLeftString(Math.abs(f)).toString(),2,48);if(l=="zzz"){f+=i.timeSeparator+Math.abs(t.padLeftString(e.getTimezoneOffset()%60).toString(),2,48)}break;default:if(f.charAt(0)=="'"){f=f.substr(1,f.length-2).replace(/\\'/g,"'")}break}s.append(f)}return s.toString()};t._parseExactDate=function Hr(e,t,n,r){n=n&&n.getFormat(l)||p.currentCulture.dateTimeFormat;var i=n.amDesignator,a=n.pmDesignator;var s=function(e){var t="1234567890";for(var n=0;n<e.length;n++){if(t.indexOf(e.charAt(n))==-1){return false}}return true};var u=function(e,t,n,r){for(var i=r;i>=n;i--){var a=e.substring(t,t+i);if(a.length<n){return null}if(s(a)){return a}}return null};e=e+"";t=t+"";var o=0;var f=0;var c="";var g="";var m=0,h=1,y=1,d=0,_=0,v=0,b="";while(f<t.length){c=t.charAt(f);g="";while(t.charAt(f)==c&&f<t.length){g+=t.charAt(f++)}if(g=="yyyy"||g=="yy"||g=="y"){if(g=="yyyy")m=u(e,o,4,4);if(g=="yy")m=u(e,o,2,2);if(g=="y")m=u(e,o,2,4);if(m==null)return null;o+=m.length;if(m.length==2){if(m>30){m=1900+(m-0)}else{m=2e3+(m-0)}}}else if(g=="MM"||g=="M"){h=u(e,o,g.length,2);if(h==null||h<1||h>12)return null;o+=h.length}else if(g=="dd"||g=="d"){y=u(e,o,g.length,2);if(y==null||y<1||y>31)return null;o+=y.length}else if(g=="hh"||g=="h"){d=u(e,o,g.length,2);if(d==null||d<1||d>12)return null;o+=d.length}else if(g=="HH"||g=="H"){d=u(e,o,g.length,2);if(d==null||d<0||d>23)return null;o+=d.length}else if(g=="mm"||g=="m"){_=u(e,o,g.length,2);if(_==null||_<0||_>59)return null;o+=_.length}else if(g=="ss"||g=="s"){v=u(e,o,g.length,2);if(v==null||v<0||v>59)return null;o+=v.length}else if(g=="t"){if(e.substring(o,o+1).toLowerCase()==i.charAt(0).toLowerCase())b=i;else if(e.substring(o,o+1).toLowerCase()==a.charAt(0).toLowerCase())b=a;else return null;o+=1}else if(g=="tt"){if(e.substring(o,o+2).toLowerCase()==i.toLowerCase())b=i;else if(e.substring(o,o+2).toLowerCase()==a.toLowerCase())b=a;else return null;o+=2}else{if(e.substring(o,o+g.length)!=g)return null;else o+=g.length}}if(o!=e.length)return null;if(h==2){if(m%4==0&&m%100!=0||m%400==0){if(y>29)return null}else if(y>28)return null}if(h==4||h==6||h==9||h==11){if(y>30){return null}}if(d<12&&b==a){d=d-0+12}else if(d>11&&b==i){d-=12}if(r)return new Date(Date.UTC(m,h-1,y,d,_,v));else return new Date(m,h-1,y,d,_,v)};t.parseExactDate=function qr(e,n,r){return t._parseExactDate(e,n,r,false)};t.parseExactDateUTC=function $r(e,n,r){return t._parseExactDate(e,n,r,true)};t._delegateContains=function Br(e,t,n){for(var r=0;r<e.length;r+=2){if(e[r]===t&&e[r+1]===n){return true}}return false};t._mkdel=function Kr(e){var n=function(){if(e.length==2){return e[1].apply(e[0],arguments)}else{var n=t.arrayClone(e);for(var r=0;r<n.length;r+=2){if(t._delegateContains(e,n[r],n[r+1])){n[r+1].apply(n[r],arguments)}}return null}};n._targets=e;return n};t.mkdel=function Wr(e,n){if(!e){return n}if(typeof n==="string"){n=e[n]}return t._mkdel([e,n])};t.delegateCombine=function Xr(e,n){if(!e){if(!n._targets){return t.mkdel(null,n)}return n}if(!n){if(!e._targets){return t.mkdel(null,e)}return e}var r=e._targets?e._targets:[null,e];var i=n._targets?n._targets:[null,n];return t._mkdel(r.concat(i))};t.delegateRemove=function Jr(e,n){if(!e||e===n){return null}if(!n){return e}var r=e._targets;var i=null;var a;if(n._targets){i=n._targets[0];a=n._targets[1]}else{a=n}for(var s=0;s<r.length;s+=2){if(r[s]===i&&r[s+1]===a){if(r.length==2){return null}var u=t.arrayClone(r);u.splice(s,2);return t._mkdel(u)}}return e};t.delegateEquals=function Yr(e,t){if(e===t)return true;if(!e._targets&&!t._targets)return false;var n=e._targets||[null,e],r=t._targets||[null,t];if(n.length!=r.length)return false;for(var i=0;i<n.length;i++){if(n[i]!==r[i])return false}return true};t.delegateClone=function Zr(e){return e._targets?t._mkdel(e._targets):function(){return e.apply(this,arguments)}};t.thisFix=function Qr(e){return function(){var t=[this];for(var n=0;n<arguments.length;n++)t.push(arguments[n]);return e.apply(e,t)}};t.getInvocationList=function ei(e){if(!e._targets)return[e];var n=[];for(var r=0;r<e._targets.length;r+=2)n.push(t.mkdel(e._targets[r],e._targets[r+1]));return n};t.regexpEscape=function ti(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};t.Debug=e.Debug||function(){};t.Debug.__typeName="Debug";if(!t.Debug.writeln){t.Debug.writeln=function ni(t){if(e.console){if(e.console.debug){e.console.debug(t);return}else if(e.console.log){e.console.log(t);return}}else if(e.opera&&e.opera.postError){e.opera.postError(t);return}}}t.Debug._fail=function ri(e){t.Debug.writeln(e);debugger};t.Debug.assert=function ii(e,n){if(!e){n="Assert failed: "+n;if(confirm(n+"\r\n\r\nBreak into debugger?")){t.Debug._fail(n)}}};t.Debug.fail=function ai(e){t.Debug._fail(e)};var c=function si(){};c.__typeName="ss.Enum";t.Enum=c;t.initClass(c,t,{});c.parse=function ui(e,n){var r=e.prototype;if(!t.isFlags(e)){for(var i in r){if(i===n){return r[i]}}}else{var a=n.split("|");var s=0;var u=true;for(var o=a.length-1;o>=0;o--){var l=a[o].trim();var f=false;for(var i in r){if(i===l){s|=r[i];f=true;break}}if(!f){u=false;break}}if(u){return s}}throw new L("Invalid Enumeration Value")};c.toString=function oi(e,n){var r=e.prototype;if(!t.isFlags(e)||n===0){for(var i in r){if(r[i]===n){return i}}throw new L("Invalid Enumeration Value")}else{var a=[];for(var i in r){if(r[i]&n){t.add(a,i)}}if(!a.length){throw new L("Invalid Enumeration Value")}return a.join(" | ")}};c.getValues=function li(e){var t=[];var n=e.prototype;for(var r in n){if(n.hasOwnProperty(r))t.push(n[r])}return t};var p=function fi(e,t,n){this.name=e;this.numberFormat=t;this.dateTimeFormat=n};p.__typeName="ss.CultureInfo";t.CultureInfo=p;t.initClass(p,t,{getFormat:function ci(e){switch(e){case o:return this.numberFormat;case l:return this.dateTimeFormat;default:return null}}},null,[u]);p.invariantCulture=new p("en-US",o.invariantInfo,l.invariantInfo);p.currentCulture=p.invariantCulture;var g=function pi(){};g.__typeName="ss.IEnumerator";t.IEnumerator=g;t.initInterface(g,t,{current:null,moveNext:null,reset:null},[A]);var m=function gi(){};m.__typeName="ss.IEnumerable";t.IEnumerable=m;t.initInterface(m,t,{getEnumerator:null});t.getEnumerator=function mi(e){return e.getEnumerator?e.getEnumerator():new x(e)};var h=function hi(){};h.__typeName="ss.ICollection";t.ICollection=h;t.initInterface(h,t,{get_count:null,add:null,clear:null,contains:null,remove:null});t.count=function yi(e){return e.get_count?e.get_count():e.length};t.add=function di(e,n){if(e.add)e.add(n);else if(t.isArray(e))e.push(n);else throw new P};t.clear=function _i(e){if(e.clear)e.clear();else if(t.isArray(e))e.length=0;else throw new P};t.remove=function vi(e,n){if(e.remove)return e.remove(n);else if(t.isArray(e)){var r=t.indexOf(e,n);if(r>=0){e.splice(r,1);return true}return false}else throw new P};t.contains=function bi(e,n){if(e.contains)return e.contains(n);else return t.indexOf(e,n)>=0};var y=function wi(e){this.ticks=e||0};y.getDefaultValue=y.createInstance=function Ci(){return new y(0)};y.__typeName="ss.TimeSpan";t.TimeSpan=y;t.initClass(y,t,{compareTo:function Si(e){return this.ticks<e.ticks?-1:this.ticks>e.ticks?1:0},equals:function xi(e){return t.isInstanceOfType(e,y)&&e.ticks===this.ticks},equalsT:function Ti(e){return e.ticks===this.ticks},toString:function ki(){var e=function(e,n){return t.padLeftString(e+"",n||2,48)};var n=this.ticks;var r="";if(Math.abs(n)>=864e9){r+=e(n/864e9|0)+".";n%=864e9}r+=e(n/36e9|0)+":";n%=36e9;r+=e(n/6e8|0)+":";n%=6e8;r+=e(n/1e7|0);n%=1e7;if(n>0)r+="."+e(n,7);return r}},null,[a,s]);y.__class=false;var d=function Di(){};d.__typeName="ss.IEqualityComparer";t.IEqualityComparer=d;t.initInterface(d,t,{areEqual:null,getObjectHashCode:null});var _=function Ii(){};_.__typeName="ss.IComparer";t.IComparer=_;t.initInterface(_,t,{compare:null});t.unbox=function Ei(e){if(!t.isValue(e))throw new B("Nullable object must have a value.");return e};var v=function Ai(e){var n=function(){};n.isInstanceOfType=function(n){return t.isInstanceOfType(n,e)};t.registerGenericClassInstance(n,v,[e],{},function(){return null},function(){return[]});return n};v.__typeName="ss.Nullable$1";t.Nullable$1=v;t.initGenericClass(v,t,1);v.eq=function Ni(e,n){return!t.isValue(e)?!t.isValue(n):e===n};v.ne=function Oi(e,n){return!t.isValue(e)?t.isValue(n):e!==n};v.le=function Mi(e,n){return t.isValue(e)&&t.isValue(n)&&e<=n};v.ge=function Vi(e,n){return t.isValue(e)&&t.isValue(n)&&e>=n};v.lt=function Fi(e,n){return t.isValue(e)&&t.isValue(n)&&e<n};v.gt=function Pi(e,n){return t.isValue(e)&&t.isValue(n)&&e>n};v.sub=function Ri(e,n){return t.isValue(e)&&t.isValue(n)?e-n:null};v.add=function ji(e,n){return t.isValue(e)&&t.isValue(n)?e+n:null};v.mod=function Ui(e,n){return t.isValue(e)&&t.isValue(n)?e%n:null};v.div=function Li(e,n){return t.isValue(e)&&t.isValue(n)?e/n:null};v.mul=function zi(e,n){return t.isValue(e)&&t.isValue(n)?e*n:null};v.band=function Gi(e,n){return t.isValue(e)&&t.isValue(n)?e&n:null};v.bor=function Hi(e,n){return t.isValue(e)&&t.isValue(n)?e|n:null};v.bxor=function qi(e,n){return t.isValue(e)&&t.isValue(n)?e^n:null};v.shl=function $i(e,n){return t.isValue(e)&&t.isValue(n)?e<<n:null};v.srs=function Bi(e,n){return t.isValue(e)&&t.isValue(n)?e>>n:null};v.sru=function Ki(e,n){return t.isValue(e)&&t.isValue(n)?e>>>n:null};v.and=function Wi(e,t){if(e===true&&t===true)return true;else if(e===false||t===false)return false;else return null};v.or=function Xi(e,t){if(e===true||t===true)return true;else if(e===false&&t===false)return false;else return null};v.xor=function Ji(e,n){return t.isValue(e)&&t.isValue(n)?!!(e^n):null};v.not=function Yi(e){return t.isValue(e)?!e:null};v.neg=function Zi(e){return t.isValue(e)?-e:null};v.pos=function Qi(e){return t.isValue(e)?+e:null};v.cpl=function ea(e){return t.isValue(e)?~e:null};v.lift1=function ta(e,n){return t.isValue(n)?e(n):null};v.lift2=function na(e,n,r){return t.isValue(n)&&t.isValue(r)?e(n,r):null};v.liftcmp=function ra(e,n,r){return t.isValue(n)&&t.isValue(r)?e(n,r):false};v.lifteq=function ia(e,n,r){var i=t.isValue(n),a=t.isValue(r);return!i&&!a||i&&a&&e(n,r)};v.liftne=function aa(e,n,r){var i=t.isValue(n),a=t.isValue(r);return i!==a||i&&e(n,r)};var b=function sa(){};b.__typeName="ss.IList";t.IList=b;t.initInterface(b,t,{get_item:null,set_item:null,indexOf:null,insert:null,removeAt:null},[h,m]);t.getItem=function ua(e,t){return e.get_item?e.get_item(t):e[t]};t.setItem=function oa(e,t,n){e.set_item?e.set_item(t,n):e[t]=n};t.indexOf=function la(e,n){if(t.isArrayOrTypedArray(e)){for(var r=0;r<e.length;r++){if(t.staticEquals(e[r],n)){return r}}return-1}else return e.indexOf(n)};t.insert=function fa(e,n,r){if(e.insert)e.insert(n,r);else if(t.isArray(e))e.splice(n,0,r);else throw new P};t.removeAt=function ca(e,n){if(e.removeAt)e.removeAt(n);else if(t.isArray(e))e.splice(n,1);else throw new P};var w=function pa(){};w.__typeName="ss.IDictionary";t.IDictionary=w;t.initInterface(w,t,{get_item:null,set_item:null,get_keys:null,get_values:null,containsKey:null,add:null,remove:null,tryGetValue:null},[m]);var C=function ga(){};C.__typeName="ss.Int32";t.Int32=C;t.initClass(C,t,{},Object,[s,a,i]);C.__class=false;C.isInstanceOfType=function ma(e){return typeof e==="number"&&isFinite(e)&&Math.round(e,0)==e};C.getDefaultValue=C.createInstance=function ha(){return 0};C.div=function ya(e,n){if(!t.isValue(e)||!t.isValue(n))return null;if(n===0)throw new q;return C.trunc(e/n)};C.trunc=function da(e){return t.isValue(e)?e>0?Math.floor(e):Math.ceil(e):null};C.tryParse=function _a(e,t,n,r){t.$=0;if(!/^[+-]?[0-9]+$/.test(e))return 0;var i=parseInt(e,10);if(i<n||i>r)return false;t.$=i;return true};var S=function va(){};S.__typeName="ss.JsDate";t.JsDate=S;t.initClass(S,t,{},Object,[s,a]);S.createInstance=function ba(){return new Date};S.isInstanceOfType=function wa(e){return e instanceof Date};var x=function Ca(e){this._array=e;this._index=-1};x.__typeName="ss.ArrayEnumerator";t.ArrayEnumerator=x;t.initClass(x,t,{moveNext:function Sa(){this._index++;return this._index<this._array.length},reset:function xa(){this._index=-1},current:function Ta(){if(this._index<0||this._index>=this._array.length)throw"Invalid operation";return this._array[this._index]},dispose:function ka(){}},null,[g,A]);var T=function Da(e){this._keys=Object.keys(e);this._index=-1;this._object=e};T.__typeName="ss.ObjectEnumerator";t.ObjectEnumerator=T;t.initClass(T,t,{moveNext:function Ia(){this._index++;return this._index<this._keys.length},reset:function Ea(){this._index=-1},current:function Aa(){if(this._index<0||this._index>=this._keys.length)throw new B("Invalid operation");var e=this._keys[this._index];return{key:e,value:this._object[e]}},dispose:function Na(){}},null,[g,A]);var k=function Oa(){};k.__typeName="ss.EqualityComparer";t.EqualityComparer=k;t.initClass(k,t,{areEqual:function Ma(e,n){return t.staticEquals(e,n)},getObjectHashCode:function Va(e){return t.isValue(e)?t.getHashCode(e):0}},null,[d]);k.def=new k;var D=function Fa(e){this.f=e};D.__typeName="ss.Comparer";t.Comparer=D;t.initClass(D,t,{compare:function Pa(e,t){return this.f(e,t)}},null,[_]);D.def=new D(function Ra(e,n){if(!t.isValue(e))return!t.isValue(n)?0:-1;else if(!t.isValue(n))return 1;else return t.compare(e,n)});var I=function ja(e,t){this._dict=e;this._isKeys=t};var E=function Ua(e,n){var r=function(e,n){this.countField=0;this.buckets={};this.comparer=n||k.def;if(t.isInstanceOfType(e,w)){var r=t.getEnumerator(e);try{while(r.moveNext()){var i=r.current();this.add(i.key,i.value)}}finally{if(t.isInstanceOfType(r,A)){t.cast(r,A).dispose()}}}else if(e){var a=Object.keys(e);for(var s=0;s<a.length;s++){this.add(a[s],e[a[s]])}}};t.registerGenericClassInstance(r,E,[e,n],{_setOrAdd:function(e,t,n){var r=this.comparer.getObjectHashCode(e);var i={key:e,value:t};if(this.buckets.hasOwnProperty(r.toString())){var a=this.buckets[r];for(var s=0;s<a.length;s++){if(this.comparer.areEqual(a[s].key,e)){if(n)throw new L("Key "+e+" already exists.");a[s]=i;return}}a.push(i)}else{this.buckets[r]=[i]}this.countField++},add:function(e,t){this._setOrAdd(e,t,true)},set_item:function(e,t){this._setOrAdd(e,t,false)},_get:function(e){var t=this.comparer.getObjectHashCode(e);if(this.buckets.hasOwnProperty(t.toString())){var n=this.buckets[t];for(var r=0;r<n.length;r++){var i=n[r];if(this.comparer.areEqual(i.key,e))return i.value!==undefined?i.value:null}}return undefined},get_item:function(e){var t=this._get(e);if(t===undefined)throw new W("Key "+e+" does not exist.");return t},tryGetValue:function(e,r){var i=this._get(e);if(i!==undefined){r.$=i;return true}else{r.$=t.getDefaultValue(n);return false}},containsKey:function(e){var t=this.comparer.getObjectHashCode(e);if(!this.buckets.hasOwnProperty(t.toString()))return false;var n=this.buckets[t];for(var r=0;r<n.length;r++){if(this.comparer.areEqual(n[r].key,e))return true}return false},clear:function(){this.countField=0;this.buckets={}},remove:function(e){var t=this.comparer.getObjectHashCode(e);if(!this.buckets.hasOwnProperty(t.toString()))return false;var n=this.buckets[t];for(var r=0;r<n.length;r++){if(this.comparer.areEqual(n[r].key,e)){n.splice(r,1);if(n.length==0)delete this.buckets[t];this.countField--;return true}}return false},get_count:function(){return this.countField},_getEnumerator:function(e){var t=Object.keys(this.buckets),n=-1,r;return new Y(function(){if(n<0||r>=this.buckets[t[n]].length-1){r=-1;n++}if(n>=t.length)return false;r++;return true},function(){return e(this.buckets[t[n]][r])},null,this)},get_keys:function(){return new I(this,true)},get_values:function(){return new I(this,false)},getEnumerator:function(){return this._getEnumerator(function(e){return e})}},function(){return null},function(){return[w,m]});return r};E.__typeName="ss.Dictionary$2";t.Dictionary$2=E;t.initGenericClass(E,t,2);I.__typeName="ss.$DictionaryCollection";t.$DictionaryCollection=I;t.initClass(I,t,{get_count:function La(){return this._dict.get_count()},contains:function za(e){if(this._isKeys){return this._dict.containsKey(e)}else{for(var t in this._dict.buckets){if(this._dict.buckets.hasOwnProperty(t)){var n=this._dict.buckets[t];for(var r=0;r<n.length;r++){if(this._dict.comparer.areEqual(n[r].value,e))return true}}}return false}},getEnumerator:function Ga(e){return this._dict._getEnumerator(this._isKeys?function(e){return e.key}:function(e){return e.value})},add:function Ha(e){throw new B("Collection is read-only")},clear:function qa(){throw new B("Collection is read-only")},remove:function $a(){throw new B("Collection is read-only")}},null,[m,h]);var A=function Ba(){};A.__typeName="ss.IDisposable";t.IDisposable=A;t.initInterface(A,t,{dispose:null});var N=function Ka(e){this._parts=t.isValue(e)&&e!=""?[e]:[];this.length=t.isValue(e)?e.length:0};N.__typeName="ss.StringBuilder";t.StringBuilder=N;t.initClass(N,t,{append:function Wa(e){if(t.isValue(e)){var n=e.toString();t.add(this._parts,n);this.length+=n.length}return this},appendChar:function Xa(e){return this.append(String.fromCharCode(e))},appendLine:function Ja(e){this.append(e);this.append("\r\n");return this},appendLineChar:function Ya(e){return this.appendLine(String.fromCharCode(e))},clear:function Za(){this._parts=[];this.length=0},toString:function Qa(){return this._parts.join("")}});var O=function es(e){var t=e===undefined?parseInt(Date.now()%2147483648):parseInt(Math.abs(e));this.inext=0;this.inextp=21;this.seedArray=new Array(56);for(var n=0;n<56;n++)this.seedArray[n]=0;t=161803398-t;if(t<0)t+=2147483648;this.seedArray[55]=t;var r=1;for(var n=1;n<55;n++){var i=21*n%55;this.seedArray[i]=r;r=t-r;if(r<0)r+=2147483648;t=this.seedArray[i]}for(var a=1;a<5;a++){for(var s=1;s<56;s++){this.seedArray[s]-=this.seedArray[1+(s+30)%55];if(this.seedArray[s]<0)this.seedArray[s]+=2147483648}}};O.__typeName="ss.Random";t.Random=O;t.initClass(O,t,{next:function ts(){return this.sample()*2147483648|0},nextMax:function ns(e){return this.sample()*e|0},nextMinMax:function rs(e,t){return this.sample()*(t-e)+e|0},nextBytes:function is(e){for(var t=0;t<e.length;t++)e[t]=this.sample()*256|0},nextDouble:function as(){return this.sample()},sample:function ss(){if(++this.inext>=56)this.inext=1;if(++this.inextp>=56)this.inextp=1;var e=this.seedArray[this.inext]-this.seedArray[this.inextp];if(e<0)e+=2147483648;this.seedArray[this.inext]=e;return e*(1/2147483648)}});var M=function us(){};M.__typeName="ss.EventArgs";t.EventArgs=M;t.initClass(M,t,{});M.Empty=new M;var V=function os(e,t){this._message=e||"An error occurred.";this._innerException=t||null;this._error=new Error};V.__typeName="ss.Exception";t.Exception=V;t.initClass(V,t,{get_message:function ls(){return this._message},get_innerException:function fs(){return this._innerException},get_stack:function cs(){return this._error.stack}});V.wrap=function ps(e){if(t.isInstanceOfType(e,V)){return e}else if(e instanceof TypeError){return new K(e.message,new U(e))}else if(e instanceof RangeError){return new G(null,e.message,new U(e))}else if(e instanceof Error){return new U(e)}else{return new V(e.toString())}};var F=function gs(e,t){V.call(this,e||"The method or operation is not implemented.",t)};F.__typeName="ss.NotImplementedException";t.NotImplementedException=F;t.initClass(F,t,{},V);var P=function ms(e,t){V.call(this,e||"Specified method is not supported.",t)};P.__typeName="ss.NotSupportedException";t.NotSupportedException=P;t.initClass(P,t,{},V);var R=function hs(e,n){this.innerExceptions=t.isValue(n)?t.arrayFromEnumerable(n):[];V.call(this,e||"One or more errors occurred.",this.innerExceptions.length?this.innerExceptions[0]:null)};R.__typeName="ss.AggregateException";t.AggregateException=R;t.initClass(R,t,{flatten:function ys(){var e=[];for(var n=0;n<this.innerExceptions.length;n++){var r=this.innerExceptions[n];if(t.isInstanceOfType(r,R)){e.push.apply(e,r.flatten().innerExceptions)}else{e.push(r)}}return new R(this._message,e)}},V);var j=function ds(e,n,r){V.call(this,n||(e.length&&e[0]?e[0].toString():"An error occurred"),r);this.arguments=t.arrayClone(e)};j.__typeName="ss.PromiseException";t.PromiseException=j;t.initClass(j,t,{get_arguments:function _s(){return this._arguments}},V);var U=function vs(e,t,n){V.call(this,t||e.message,n);this.error=e};U.__typeName="ss.JsErrorException";t.JsErrorException=U;t.initClass(U,t,{get_stack:function bs(){return this.error.stack}},V);var L=function ws(e,t,n){V.call(this,e||"Value does not fall within the expected range.",n);this.paramName=t||null};L.__typeName="ss.ArgumentException";t.ArgumentException=L;t.initClass(L,t,{},V);var z=function Cs(e,t,n){if(!t){t="Value cannot be null.";if(e)t+="\nParameter name: "+e}L.call(this,t,e,n)};z.__typeName="ss.ArgumentNullException";t.ArgumentNullException=z;t.initClass(z,t,{},L);var G=function Ss(e,t,n,r){if(!t){t="Value is out of range.";if(e)t+="\nParameter name: "+e}L.call(this,t,e,n);this.actualValue=r||null};G.__typeName="ss.ArgumentOutOfRangeException";t.ArgumentOutOfRangeException=G;t.initClass(G,t,{},L);var H=function xs(e,t){V.call(this,e||"Invalid format.",t)};H.__typeName="ss.FormatException";t.FormatException=H;t.initClass(H,t,{},V);var q=function Ts(e,t){V.call(this,e||"Division by 0.",t)};q.__typeName="ss.DivideByZeroException";t.DivideByZeroException=q;t.initClass(q,t,{},V);var $=function ks(e,t){V.call(this,e||"The cast is not valid.",t)};$.__typeName="ss.InvalidCastException";t.InvalidCastException=$;t.initClass($,t,{},V);var B=function Ds(e,t){V.call(this,e||"Operation is not valid due to the current state of the object.",t)};B.__typeName="ss.InvalidOperationException";t.InvalidOperationException=B;t.initClass(B,t,{},V);var K=function Is(e,t){V.call(this,e||"Object is null.",t)};K.__typeName="ss.NullReferenceException";t.NullReferenceException=K;t.initClass(K,t,{},V);var W=function Es(e,t){V.call(this,e||"Key not found.",t)};W.__typeName="ss.KeyNotFoundException";t.KeyNotFoundException=W;t.initClass(W,t,{},V);var X=function As(e,t){V.call(this,e||"Ambiguous match.",t)};X.__typeName="ss.AmbiguousMatchException";t.AmbiguousMatchException=X;t.initClass(X,t,{},V);var J=function Ns(e,t){this._getEnumerator=e;this._this=t};J.__typeName="ss.IteratorBlockEnumerable";t.IteratorBlockEnumerable=J;t.initClass(J,t,{getEnumerator:function Os(){return this._getEnumerator.call(this._this)}},null,[m]);var Y=function Ms(e,t,n,r){this._moveNext=e;this._getCurrent=t;this._dispose=n;this._this=r};Y.__typeName="ss.IteratorBlockEnumerator";t.IteratorBlockEnumerator=Y;t.initClass(Y,t,{moveNext:function Vs(){try{return this._moveNext.call(this._this)}catch(e){if(this._dispose)this._dispose.call(this._this);throw e}},current:function Fs(){return this._getCurrent.call(this._this)},reset:function Ps(){throw new P("Reset is not supported.")},dispose:function Rs(){if(this._dispose)this._dispose.call(this._this)}},null,[g,A]);var Z=function js(e){this._valueFactory=e;this.isValueCreated=false};Z.__typeName="ss.Lazy";t.Lazy=Z;t.initClass(Z,t,{value:function Us(){if(!this.isValueCreated){this._value=this._valueFactory();delete this._valueFactory;this.isValueCreated=true}return this._value}});var Q=function Ls(e,t){this._action=e;this._state=t;this.exception=null;this.status=0;this._thens=[];this._result=null};Q.delay=function zs(e){var t=new tt;setTimeout(function(){t.setResult(0)},e);return t.task};Q.fromResult=function Gs(e){var t=new Q;t.status=5;t._result=e;return t};Q.run=function Hs(e){var t=new tt;setTimeout(function(){try{t.setResult(e())}catch(n){t.setException(V.wrap(n))}},0);return t.task};Q.whenAll=function qs(e){var n=new tt;if(e.length===0){n.setResult([])}else{var r=new Array(e.length),i=e.length,a=false,s=[];for(var u=0;u<e.length;u++){(function(u){e[u].continueWith(function(e){switch(e.status){case 5:r[u]=e.getResult();break;case 6:a=true;break;case 7:t.arrayAddRange(s,e.exception.innerExceptions);break;default:throw new B("Invalid task status "+e.status)}if(--i===0){if(s.length>0)n.setException(s);else if(a)n.setCanceled();else n.setResult(r)}})})(u)}}return n.task};Q.whenAny=function $s(e){if(!e.length)throw new L("Must wait for at least one task","tasks");var t=new tt;for(var n=0;n<e.length;n++){e[n].continueWith(function(e){switch(e.status){case 5:t.trySetResult(e);break;case 6:t.trySetCanceled();break;case 7:t.trySetException(e.exception.innerExceptions);break;default:throw new B("Invalid task status "+e.status)}})}return t.task};Q.fromDoneCallback=function Bs(e,t,n){var r=new tt,i;if(typeof t==="number"){i=Array.prototype.slice.call(arguments,3);if(t<0)t+=i.length+1}else{i=Array.prototype.slice.call(arguments,2);n=t;t=i.length}var a=function(e){r.setResult(e)};i=i.slice(0,t).concat(a,i.slice(t));e[n].apply(e,i);return r.task};Q.fromPromise=function Ks(e,t){var n=new tt;if(typeof t==="number")t=function(e){return function(){return arguments[e>=0?e:arguments.length+e]}}(t);else if(typeof t!=="function")t=function(){return Array.prototype.slice.call(arguments,0)};e.then(function(){n.setResult(typeof t==="function"?t.apply(null,arguments):null)},function(){n.setException(new j(Array.prototype.slice.call(arguments,0)))});return n.task};Q.fromNode=function Ws(e,t,n){var r=new tt,i;if(typeof t==="function"){i=Array.prototype.slice.call(arguments,3)}else{i=Array.prototype.slice.call(arguments,2);n=t;t=function(){return arguments[0]}}var a=function(e){if(e)r.setException(V.wrap(e));else r.setResult(t.apply(null,Array.prototype.slice.call(arguments,1)))};i.push(a);e[n].apply(e,i);return r.task};Q.__typeName="ss.Task";t.Task=Q;t.initClass(Q,t,{continueWith:function Xs(e){var t=new tt;var n=this;var r=function(){try{t.setResult(e(n))}catch(r){t.setException(V.wrap(r))}};if(this.isCompleted()){setTimeout(r,0)}else{this._thens.push(r)}return t.task},start:function Js(){if(this.status!==0)throw new B("Task was already started.");var e=this;this.status=3;setTimeout(function(){try{var t=e._action(e._state);delete e._action;delete e._state;e._complete(t)}catch(n){e._fail(new R(null,[V.wrap(n)]))}},0)},_runCallbacks:function Ys(){for(var e=0;e<this._thens.length;e++)this._thens[e](this);delete this._thens},_complete:function Zs(e){if(this.isCompleted())return false;this._result=e;this.status=5;this._runCallbacks();return true},_fail:function Qs(e){if(this.isCompleted())return false;this.exception=e;this.status=7;this._runCallbacks();return true},_cancel:function eu(){if(this.isCompleted())return false;this.status=6;this._runCallbacks();return true},isCanceled:function tu(){return this.status===6},isCompleted:function nu(){return this.status>=5},isFaulted:function ru(){return this.status===7},_getResult:function iu(e){switch(this.status){case 5:return this._result;case 6:throw new B("Task was cancelled.");case 7:throw e?this.exception.innerExceptions[0]:this.exception;default:throw new B("Task is not yet completed.")}},getResult:function au(){return this._getResult(false)},getAwaitedResult:function su(){return this._getResult(true)},dispose:function uu(){}},null,[A]);var et=function(){};et.__typeName="ss.TaskStatus";t.TaskStatus=et;t.initEnum(et,t,{created:0,running:3,ranToCompletion:5,canceled:6,faulted:7});var tt=function ou(){this.task=new Q;this.task.status=3};tt.__typeName="ss.TaskCompletionSource";t.TaskCompletionSource=tt;t.initClass(tt,t,{setCanceled:function lu(){if(!this.task._cancel())throw new B("Task was already completed.")},setResult:function fu(e){if(!this.task._complete(e))throw new B("Task was already completed.")},setException:function cu(e){if(!this.trySetException(e))throw new B("Task was already completed.")},trySetCanceled:function pu(){return this.task._cancel()},trySetResult:function gu(e){return this.task._complete(e)},trySetException:function mu(e){if(t.isInstanceOfType(e,V))e=[e];return this.task._fail(new R(null,e))}});var nt=function hu(){M.call(this);this.cancel=false};nt.__typeName="ss.CancelEventArgs";t.CancelEventArgs=nt;t.initClass(nt,t,{},M);var rt=function yu(){};rt.$valid=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/gi;rt.$split=/^(.{8})(.{4})(.{4})(.{4})(.{12})$/;rt.empty="00000000-0000-0000-0000-000000000000";rt.$rng=new O;rt.__typeName="ss.Guid";t.Guid=rt;t.initClass(rt,t,{},Object,[s,a]);rt.__class=false;rt.isInstanceOfType=function du(e){return typeof e==="string"&&e.match(rt.$valid)};rt.getDefaultValue=rt.createInstance=function _u(){return rt.empty};rt.parse=function vu(e,t){var n={};if(rt.tryParse(e,t,n))return n.$;throw new H("Unable to parse UUID")};rt.tryParse=function bu(e,n,r){r.$=rt.empty;if(!t.isValue(e))throw new z("uuid");if(!n){var i=/^[{(]?([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})[)}]?$/gi.exec(e);if(i){r.$=i.slice(1).join("-").toLowerCase();return true}}else{if(n==="N"){var i=rt.$split.exec(e);if(!i)return false;e=i.slice(1).join("-")}else if(n==="B"||n==="P"){var a=n==="B";if(e[0]!==(a?"{":"(")||e[e.length-1]!==(a?"}":")"))return false;e=e.substr(1,e.length-2)}if(e.match(rt.$valid)){r.$=e.toLowerCase();return true}}return false};rt.format=function wu(e,t){switch(t){case"N":return e.replace(/-/g,"");case"B":return"{"+e+"}";case"P":return"("+e+")";default:return e}};rt.fromBytes=function Cu(e){if(!e||e.length!==16)throw new L("b","Must be 16 bytes");var n=e.map(function(e){return t.formatNumber(e&255,"x2")}).join("");return rt.$split.exec(n).slice(1).join("-")};rt.newGuid=function Su(){var e=Array(16);rt.$rng.nextBytes(e);e[6]=e[6]&15|64;e[8]=e[8]&191|128;return rt.fromBytes(e)};rt.getBytes=function xu(e){var t=Array(16);var n=e.replace(/-/g,"");for(var r=0;r<16;r++){t[r]=parseInt(n.substr(r*2,2),16)}return t};if(e.ss){for(var it in t){if(t.hasOwnProperty(it))e.ss[it]=t[it]}}else{e.ss=t}})(global);



(function(e,t){var n={Identity:function(e){return e},True:function(){return true},Blank:function(){}};var r={Boolean:typeof true,Number:typeof 0,String:typeof"",Object:typeof{},Undefined:typeof t,Function:typeof function(){}};var u={createLambda:function(e){if(e==null)return n.Identity;if(typeof e==r.String){if(e==""){return n.Identity}else if(e.indexOf("=>")==-1){var t=new RegExp("[$]+","g");var u=0;var i;while(i=t.exec(e)){var o=i[0].length;if(o>u){u=o}}var a=[];for(var f=1;f<=u;f++){var c="";for(var s=0;s<f;s++){c+="$"}a.push(c)}var l=Array.prototype.join.call(a,",");return new Function(l,"return "+e)}else{var p=e.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/);return new Function(p[1],"return "+p[2])}}return e},isIEnumerable:function(e){if(typeof Enumerator!==r.Undefined){try{new Enumerator(e);return true}catch(t){}}return false},defineProperty:Object.defineProperties!=null?function(e,t,n){Object.defineProperty(e,t,{enumerable:false,configurable:true,writable:true,value:n})}:function(e,t,n){e[t]=n},compare:function(e,t){return e===t?0:e>t?1:-1},dispose:function(e){if(e!=null)e.dispose()}};var i={Before:0,Running:1,After:2};var o=function(e,t,n){var r=new f;var u=i.Before;this.current=r.current;this.reset=function(){throw new Error("Reset is not supported")};this.moveNext=function(){try{switch(u){case i.Before:u=i.Running;e();case i.Running:if(t.apply(r)){return true}else{this.dispose();return false}case i.After:return false}}catch(n){this.dispose();throw n}};this.dispose=function(){if(u!=i.Running)return;try{n()}finally{u=i.After}}};var a={};ss.initAssembly(a,"linq");ss.initClass(o,a,{},null,[ss.IDisposable]);var f=function(){var e=null;this.current=function(){return e};this.yieldReturn=function(t){e=t;return true};this.yieldBreak=function(){return false}};var c=function(e){this.getEnumerator=e};ss.initClass(c,a,{},null,[ss.IEnumerable]);c.Utils={};c.Utils.createLambda=function(e){return u.createLambda(e)};c.Utils.createEnumerable=function(e){return new c(e)};c.Utils.createEnumerator=function(e,t,n){return new o(e,t,n)};c.Utils.extendTo=function(e){var t=e.prototype;var n;if(e===Array){n=h.prototype;u.defineProperty(t,"getSource",function(){return this})}else{n=c.prototype;u.defineProperty(t,"getEnumerator",function(){return c.from(this).getEnumerator()})}for(var r in n){var i=n[r];if(t[r]==i)continue;if(t[r]!=null){r=r+"ByLinq";if(t[r]==i)continue}if(i instanceof Function){u.defineProperty(t,r,i)}}};c.choice=function(){var e=arguments;return new c(function(){return new o(function(){e=e[0]instanceof Array?e[0]:e[0].getEnumerator!=null?e[0].toArray():e},function(){return this.yieldReturn(e[Math.floor(Math.random()*e.length)])},n.Blank)})};c.cycle=function(){var e=arguments;return new c(function(){var t=0;return new o(function(){e=e[0]instanceof Array?e[0]:e[0].getEnumerator!=null?e[0].toArray():e},function(){if(t>=e.length)t=0;return this.yieldReturn(e[t++])},n.Blank)})};c.empty=function(){return new c(function(){return new o(n.Blank,function(){return false},n.Blank)})};c.from=function(e){if(e==null){return c.empty()}if(e instanceof c){return e}if(typeof e==r.Number||typeof e==r.Boolean){return c.repeat(e,1)}if(typeof e==r.String){return new c(function(){var t=0;return new o(n.Blank,function(){return t<e.length?this.yieldReturn(e.charAt(t++)):false},n.Blank)})}var t=ss.safeCast(e,ss.IEnumerable);if(t){var i;return new c(function(){return new o(function(){i=ss.getEnumerator(t)},function(){var e=i.moveNext();return e?this.yieldReturn(i.current()):false},function(){var e=ss.safeCast(i,ss.IDisposable);if(e){e.dispose()}})})}if(typeof e!=r.Function){if(typeof e.length==r.Number){return new h(e)}if(!(e instanceof Object)&&u.isIEnumerable(e)){return new c(function(){var t=true;var r;return new o(function(){r=new Enumerator(e)},function(){if(t)t=false;else r.moveNext();return r.atEnd()?false:this.yieldReturn(r.item())},n.Blank)})}if(typeof Windows===r.Object&&typeof e.first===r.Function){return new c(function(){var t=true;var r;return new o(function(){r=e.first()},function(){if(t)t=false;else r.moveNext();return r.hasCurrent?this.yieldReturn(r.current):this.yieldBreak()},n.Blank)})}}return new c(function(){var t=[];var r=0;return new o(function(){for(var n in e){var r=e[n];if(!(r instanceof Function)&&Object.prototype.hasOwnProperty.call(e,n)){t.push({key:n,value:r})}}},function(){return r<t.length?this.yieldReturn(t[r++]):false},n.Blank)})},c.make=function(e){return c.repeat(e,1)};c.matches=function(e,t,r){if(r==null)r="";if(t instanceof RegExp){r+=t.ignoreCase?"i":"";r+=t.multiline?"m":"";t=t.source}if(r.indexOf("g")===-1)r+="g";return new c(function(){var u;return new o(function(){u=new RegExp(t,r)},function(){var t=u.exec(e);return t?this.yieldReturn(t):false},n.Blank)})};c.range=function(e,t,r){if(r==null)r=1;return new c(function(){var u;var i=0;return new o(function(){u=e-r},function(){return i++<t?this.yieldReturn(u+=r):this.yieldBreak()},n.Blank)})};c.rangeDown=function(e,t,r){if(r==null)r=1;return new c(function(){var u;var i=0;return new o(function(){u=e+r},function(){return i++<t?this.yieldReturn(u-=r):this.yieldBreak()},n.Blank)})};c.rangeTo=function(e,t,r){if(r==null)r=1;if(e<t){return new c(function(){var u;return new o(function(){u=e-r},function(){var e=u+=r;return e<=t?this.yieldReturn(e):this.yieldBreak()},n.Blank)})}else{return new c(function(){var u;return new o(function(){u=e+r},function(){var e=u-=r;return e>=t?this.yieldReturn(e):this.yieldBreak()},n.Blank)})}};c.repeat=function(e,t){if(t!=null)return c.repeat(e).take(t);return new c(function(){return new o(n.Blank,function(){return this.yieldReturn(e)},n.Blank)})};c.repeatWithFinalize=function(e,t){e=u.createLambda(e);t=u.createLambda(t);return new c(function(){var n;return new o(function(){n=e()},function(){return this.yieldReturn(n)},function(){if(n!=null){t(n);n=null}})})};c.generate=function(e,t){if(t!=null)return c.generate(e).take(t);e=u.createLambda(e);return new c(function(){return new o(n.Blank,function(){return this.yieldReturn(e())},n.Blank)})};c.toInfinity=function(e,t){if(e==null)e=0;if(t==null)t=1;return new c(function(){var r;return new o(function(){r=e-t},function(){return this.yieldReturn(r+=t)},n.Blank)})};c.toNegativeInfinity=function(e,t){if(e==null)e=0;if(t==null)t=1;return new c(function(){var r;return new o(function(){r=e+t},function(){return this.yieldReturn(r-=t)},n.Blank)})};c.unfold=function(e,t){t=u.createLambda(t);return new c(function(){var r=true;var u;return new o(n.Blank,function(){if(r){r=false;u=e;return this.yieldReturn(u)}u=t(u);return this.yieldReturn(u)},n.Blank)})};c.defer=function(e){return new c(function(){var t;return new o(function(){t=c.from(e()).getEnumerator()},function(){return t.moveNext()?this.yieldReturn(t.current()):this.yieldBreak()},function(){u.dispose(t)})})};c.prototype.traverseBreadthFirst=function(e,t){var n=this;e=u.createLambda(e);t=u.createLambda(t);return new c(function(){var r;var i=0;var a=[];return new o(function(){r=n.getEnumerator()},function(){while(true){if(r.moveNext()){a.push(r.current());return this.yieldReturn(t(r.current(),i))}var n=c.from(a).selectMany(function(t){return e(t)});if(!n.any()){return false}else{i++;a=[];u.dispose(r);r=n.getEnumerator()}}},function(){u.dispose(r)})})};c.prototype.traverseDepthFirst=function(e,t){var n=this;e=u.createLambda(e);t=u.createLambda(t);return new c(function(){var r=[];var i;return new o(function(){i=n.getEnumerator()},function(){while(true){if(i.moveNext()){var n=t(i.current(),r.length);r.push(i);i=c.from(e(i.current())).getEnumerator();return this.yieldReturn(n)}if(r.length<=0)return false;u.dispose(i);i=r.pop()}},function(){try{u.dispose(i)}finally{c.from(r).forEach(function(e){e.dispose()})}})})};c.prototype.flatten=function(){var e=this;return new c(function(){var t;var r=null;return new o(function(){t=e.getEnumerator()},function(){while(true){if(r!=null){if(r.moveNext()){return this.yieldReturn(r.current())}else{r=null}}if(t.moveNext()){if(t.current()instanceof Array){u.dispose(r);r=c.from(t.current()).selectMany(n.Identity).flatten().getEnumerator();continue}else{return this.yieldReturn(t.current())}}return false}},function(){try{u.dispose(t)}finally{u.dispose(r)}})})};c.prototype.pairwise=function(e){var t=this;e=u.createLambda(e);return new c(function(){var n;return new o(function(){n=t.getEnumerator();n.moveNext()},function(){var t=n.current();return n.moveNext()?this.yieldReturn(e(t,n.current())):false},function(){u.dispose(n)})})};c.prototype.scan=function(e,t){var n;if(t==null){t=u.createLambda(e);n=false}else{t=u.createLambda(t);n=true}var r=this;return new c(function(){var i;var a;var f=true;return new o(function(){i=r.getEnumerator()},function(){if(f){f=false;if(!n){if(i.moveNext()){return this.yieldReturn(a=i.current())}}else{return this.yieldReturn(a=e)}}return i.moveNext()?this.yieldReturn(a=t(a,i.current())):false},function(){u.dispose(i)})})};c.prototype.select=function(e){e=u.createLambda(e);if(e.length<=1){return new v(this,null,e)}else{var t=this;return new c(function(){var n;var r=0;return new o(function(){n=t.getEnumerator()},function(){return n.moveNext()?this.yieldReturn(e(n.current(),r++)):false},function(){u.dispose(n)})})}};c.prototype.selectMany=function(e,n){var r=this;e=u.createLambda(e);if(n==null)n=function(e,t){return t};n=u.createLambda(n);return new c(function(){var i;var a=t;var f=0;return new o(function(){i=r.getEnumerator()},function(){if(a===t){if(!i.moveNext())return false}do{if(a==null){var r=e(i.current(),f++);a=c.from(r).getEnumerator()}if(a.moveNext()){return this.yieldReturn(n(i.current(),a.current()))}u.dispose(a);a=null}while(i.moveNext());return false},function(){try{u.dispose(i)}finally{u.dispose(a)}})})};c.prototype.where=function(e){e=u.createLambda(e);if(e.length<=1){return new y(this,e)}else{var t=this;return new c(function(){var n;var r=0;return new o(function(){n=t.getEnumerator()},function(){while(n.moveNext()){if(e(n.current(),r++)){return this.yieldReturn(n.current())}}return false},function(){u.dispose(n)})})}};c.prototype.choose=function(e){e=u.createLambda(e);var t=this;return new c(function(){var n;var r=0;return new o(function(){n=t.getEnumerator()},function(){while(n.moveNext()){var t=e(n.current(),r++);if(t!=null){return this.yieldReturn(t)}}return this.yieldBreak()},function(){u.dispose(n)})})};c.prototype.ofType=function(e){var t=this;return new c(function(){var n;return new o(function(){n=ss.getEnumerator(t)},function(){while(n.moveNext()){var t=ss.safeCast(n.current(),e);if(ss.isValue(t)){return this.yieldReturn(t)}}return false},function(){u.dispose(n)})})};c.prototype.zip=function(){var e=arguments;var t=u.createLambda(arguments[arguments.length-1]);var n=this;if(arguments.length==2){var r=arguments[0];return new c(function(){var e;var i;var a=0;return new o(function(){e=n.getEnumerator();i=c.from(r).getEnumerator()},function(){if(e.moveNext()&&i.moveNext()){return this.yieldReturn(t(e.current(),i.current(),a++))}return false},function(){try{u.dispose(e)}finally{u.dispose(i)}})})}else{return new c(function(){var r;var i=0;return new o(function(){var t=c.make(n).concat(c.from(e).takeExceptLast().select(c.from)).select(function(e){return e.getEnumerator()}).toArray();r=c.from(t)},function(){if(r.all(function(e){return e.moveNext()})){var e=r.select(function(e){return e.current()}).toArray();e.push(i++);return this.yieldReturn(t.apply(null,e))}else{return this.yieldBreak()}},function(){c.from(r).forEach(u.dispose)})})}};c.prototype.merge=function(){var e=arguments;var t=this;return new c(function(){var n;var r=-1;return new o(function(){n=c.make(t).concat(c.from(e).select(c.from)).select(function(e){return e.getEnumerator()}).toArray()},function(){while(n.length>0){r=r>=n.length-1?0:r+1;var e=n[r];if(e.moveNext()){return this.yieldReturn(e.current())}else{e.dispose();n.splice(r--,1)}}return this.yieldBreak()},function(){c.from(n).forEach(u.dispose)})})};c.prototype.join=function(e,r,i,a,f){r=u.createLambda(r);i=u.createLambda(i);a=u.createLambda(a);var s=this;return new c(function(){var l;var p;var h=null;var y=0;return new o(function(){l=s.getEnumerator();p=c.from(e).toLookup(i,n.Identity,f)},function(){while(true){if(h!=null){var e=h[y++];if(e!==t){return this.yieldReturn(a(l.current(),e))}e=null;y=0}if(l.moveNext()){var n=r(l.current());h=p.get(n).toArray()}else{return false}}},function(){u.dispose(l)})})};c.prototype.groupJoin=function(e,t,r,i,a){t=u.createLambda(t);r=u.createLambda(r);i=u.createLambda(i);var f=this;return new c(function(){var s=f.getEnumerator();var l=null;return new o(function(){s=f.getEnumerator();l=c.from(e).toLookup(r,n.Identity,a)},function(){if(s.moveNext()){var e=l.get(t(s.current()));return this.yieldReturn(i(s.current(),e))}return false},function(){u.dispose(s)})})};c.prototype.all=function(e){e=u.createLambda(e);var t=true;this.forEach(function(n){if(!e(n)){t=false;return false}});return t};c.prototype.any=function(e){e=u.createLambda(e);var t=this.getEnumerator();try{if(arguments.length==0)return t.moveNext();while(t.moveNext()){if(e(t.current()))return true}return false}finally{u.dispose(t)}};c.prototype.isEmpty=function(){return!this.any()};c.prototype.concat=function(){var e=this;if(arguments.length==1){var t=arguments[0];return new c(function(){var n;var r;return new o(function(){n=e.getEnumerator()},function(){if(r==null){if(n.moveNext())return this.yieldReturn(n.current());r=c.from(t).getEnumerator()}if(r.moveNext())return this.yieldReturn(r.current());return false},function(){try{u.dispose(n)}finally{u.dispose(r)}})})}else{var n=arguments;return new c(function(){var t;return new o(function(){t=c.make(e).concat(c.from(n).select(c.from)).select(function(e){return e.getEnumerator()}).toArray()},function(){while(t.length>0){var e=t[0];if(e.moveNext()){return this.yieldReturn(e.current())}else{e.dispose();t.splice(0,1)}}return this.yieldBreak()},function(){c.from(t).forEach(u.dispose)})})}};c.prototype.insert=function(e,t){var n=this;return new c(function(){var r;var i;var a=0;var f=false;return new o(function(){r=n.getEnumerator();i=c.from(t).getEnumerator()},function(){if(a==e&&i.moveNext()){f=true;return this.yieldReturn(i.current())}if(r.moveNext()){a++;return this.yieldReturn(r.current())}if(!f&&i.moveNext()){return this.yieldReturn(i.current())}return false},function(){try{u.dispose(r)}finally{u.dispose(i)}})})};c.prototype.alternate=function(e){var t=this;return new c(function(){var n;var r;var i;var a;return new o(function(){if(e instanceof Array||e.getEnumerator!=null){i=c.from(c.from(e).toArray())}else{i=c.make(e)}r=t.getEnumerator();if(r.moveNext())n=r.current()},function(){while(true){if(a!=null){if(a.moveNext()){return this.yieldReturn(a.current())}else{a=null}}if(n==null&&r.moveNext()){n=r.current();a=i.getEnumerator();continue}else if(n!=null){var e=n;n=null;return this.yieldReturn(e)}return this.yieldBreak()}},function(){try{u.dispose(r)}finally{u.dispose(a)}})})};c.prototype.contains=function(e,t){t=t||ss.EqualityComparer.def;var n=this.getEnumerator();try{while(n.moveNext()){if(t.areEqual(n.current(),e))return true}return false}finally{u.dispose(n)}};c.prototype.defaultIfEmpty=function(e){var n=this;if(e===t)e=null;return new c(function(){var t;var r=true;return new o(function(){t=n.getEnumerator()},function(){if(t.moveNext()){r=false;return this.yieldReturn(t.current())}else if(r){r=false;return this.yieldReturn(e)}return false},function(){u.dispose(t)})})};c.prototype.distinct=function(e){return this.except(c.empty(),e)};c.prototype.distinctUntilChanged=function(e){e=u.createLambda(e);var t=this;return new c(function(){var n;var r;var i;return new o(function(){n=t.getEnumerator()},function(){while(n.moveNext()){var t=e(n.current());if(i){i=false;r=t;return this.yieldReturn(n.current())}if(r===t){continue}r=t;return this.yieldReturn(n.current())}return this.yieldBreak()},function(){u.dispose(n)})})};c.prototype.except=function(e,t){var n=this;return new c(function(){var r;var i;return new o(function(){r=n.getEnumerator();i=new(ss.makeGenericType(ss.Dictionary$2,[Object,Object]))(null,t);c.from(e).forEach(function(e){i.add(e)})},function(){while(r.moveNext()){var e=r.current();if(!i.containsKey(e)){i.add(e);return this.yieldReturn(e)}}return false},function(){u.dispose(r)})})};c.prototype.intersect=function(e,t){var n=this;return new c(function(){var r;var i;var a;return new o(function(){r=n.getEnumerator();i=new(ss.makeGenericType(ss.Dictionary$2,[Object,Object]))(null,t);c.from(e).forEach(function(e){i.add(e)});a=new(ss.makeGenericType(ss.Dictionary$2,[Object,Object]))(null,t)},function(){while(r.moveNext()){var e=r.current();if(!a.containsKey(e)&&i.containsKey(e)){a.add(e);return this.yieldReturn(e)}}return false},function(){u.dispose(r)})})};c.prototype.sequenceEqual=function(e,t){t=t||ss.EqualityComparer.def;var n=this.getEnumerator();try{var r=c.from(e).getEnumerator();try{while(n.moveNext()){if(!r.moveNext()||!t.areEqual(n.current(),r.current())){return false}}if(r.moveNext())return false;return true}finally{u.dispose(r)}}finally{u.dispose(n)}};c.prototype.union=function(e,n){var r=this;return new c(function(){var i;var a;var f;return new o(function(){i=r.getEnumerator();f=new(ss.makeGenericType(ss.Dictionary$2,[Object,Object]))(null,n)},function(){var n;if(a===t){while(i.moveNext()){n=i.current();if(!f.containsKey(n)){f.add(n);return this.yieldReturn(n)}}a=c.from(e).getEnumerator()}while(a.moveNext()){n=a.current();if(!f.containsKey(n)){f.add(n);return this.yieldReturn(n)}}return false},function(){try{u.dispose(i)}finally{u.dispose(a)}})})};c.prototype.orderBy=function(e,t){return new s(this,e,t,false)};c.prototype.orderByDescending=function(e,t){return new s(this,e,t,true)};c.prototype.reverse=function(){var e=this;return new c(function(){var t;var r;return new o(function(){t=e.toArray();r=t.length},function(){return r>0?this.yieldReturn(t[--r]):false},n.Blank)})};c.prototype.shuffle=function(){var e=this;return new c(function(){var t;return new o(function(){t=e.toArray()},function(){if(t.length>0){var e=Math.floor(Math.random()*t.length);return this.yieldReturn(t.splice(e,1)[0])}return false},n.Blank)})};c.prototype.weightedSample=function(e){e=u.createLambda(e);var t=this;return new c(function(){var r;var u=0;return new o(function(){r=t.choose(function(t){var n=e(t);if(n<=0)return null;u+=n;return{value:t,bound:u}}).toArray()},function(){if(r.length>0){var e=Math.floor(Math.random()*u)+1;var t=-1;var n=r.length;while(n-t>1){var i=Math.floor((t+n)/2);if(r[i].bound>=e){n=i}else{t=i}}return this.yieldReturn(r[n].value)}return this.yieldBreak()},n.Blank)})};c.prototype.groupBy=function(e,t,n,r){var i=this;e=u.createLambda(e);t=u.createLambda(t);if(n!=null)n=u.createLambda(n);return new c(function(){var a;return new o(function(){a=i.toLookup(e,t,r).toEnumerable().getEnumerator()},function(){while(a.moveNext()){return n==null?this.yieldReturn(a.current()):this.yieldReturn(n(a.current().key(),a.current()))}return false},function(){u.dispose(a)})})};c.prototype.partitionBy=function(e,t,n,r){var i=this;e=u.createLambda(e);t=u.createLambda(t);r=r||ss.EqualityComparer.def;var a;if(n==null){a=false;n=function(e,t){return new d(e,t)}}else{a=true;n=u.createLambda(n)}return new c(function(){var f;var s;var l=[];return new o(function(){f=i.getEnumerator();if(f.moveNext()){s=e(f.current());l.push(t(f.current()))}},function(){var u;while((u=f.moveNext())==true){if(r.areEqual(s,e(f.current()))){l.push(t(f.current()))}else break}if(l.length>0){var i=a?n(s,c.from(l)):n(s,l);if(u){s=e(f.current());l=[t(f.current())]}else l=[];return this.yieldReturn(i)}return false},function(){u.dispose(f)})})};c.prototype.buffer=function(e){var t=this;return new c(function(){var n;return new o(function(){n=t.getEnumerator()},function(){var t=[];var r=0;while(n.moveNext()){t.push(n.current());if(++r>=e)return this.yieldReturn(t)}if(t.length>0)return this.yieldReturn(t);return false},function(){u.dispose(n)})})};c.prototype.aggregate=function(e,t,n){n=u.createLambda(n);return n(this.scan(e,t,n).last())};c.prototype.average=function(e){e=u.createLambda(e);var t=0;var n=0;this.forEach(function(r){t+=e(r);++n});return t/n};c.prototype.count=function(e){e=e==null?n.True:u.createLambda(e);var t=0;this.forEach(function(n,r){if(e(n,r))++t});return t};c.prototype.max=function(e){if(e==null)e=n.Identity;return this.select(e).aggregate(function(e,t){return e>t?e:t})};c.prototype.min=function(e){if(e==null)e=n.Identity;return this.select(e).aggregate(function(e,t){return e<t?e:t})};c.prototype.maxBy=function(e){e=u.createLambda(e);return this.aggregate(function(t,n){return e(t)>e(n)?t:n})};c.prototype.minBy=function(e){e=u.createLambda(e);return this.aggregate(function(t,n){return e(t)<e(n)?t:n})};c.prototype.sum=function(e){if(e==null)e=n.Identity;return this.select(e).aggregate(0,function(e,t){return e+t})};c.prototype.elementAt=function(e){var t;var n=false;this.forEach(function(r,u){if(u==e){t=r;n=true;return false}});if(!n)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return t};c.prototype.elementAtOrDefault=function(e,n){if(n===t)n=null;var r;var u=false;this.forEach(function(t,n){if(n==e){r=t;u=true;return false}});return!u?n:r};c.prototype.first=function(e){if(e!=null)return this.where(e).first();var t;var n=false;this.forEach(function(e){t=e;n=true;return false});if(!n)throw new Error("first:No element satisfies the condition.");return t};c.prototype.firstOrDefault=function(e,n){if(n===t)n=null;if(e!=null)return this.where(e).firstOrDefault(null,n);var r;var u=false;this.forEach(function(e){r=e;u=true;return false});return!u?n:r};c.prototype.last=function(e){if(e!=null)return this.where(e).last();var t;var n=false;this.forEach(function(e){n=true;t=e});if(!n)throw new Error("last:No element satisfies the condition.");return t};c.prototype.lastOrDefault=function(e,n){if(n===t)n=null;if(e!=null)return this.where(e).lastOrDefault(null,n);var r;var u=false;this.forEach(function(e){u=true;r=e});return!u?n:r};c.prototype.single=function(e){if(e!=null)return this.where(e).single();var t;var n=false;this.forEach(function(e){if(!n){n=true;t=e}else throw new Error("single:sequence contains more than one element.")});if(!n)throw new Error("single:No element satisfies the condition.");return t};c.prototype.singleOrDefault=function(e,n){if(n===t)n=null;if(e!=null)return this.where(e).singleOrDefault(null,n);var r;var u=false;this.forEach(function(e){if(!u){u=true;r=e}else throw new Error("single:sequence contains more than one element.")});return!u?n:r};c.prototype.skip=function(e){var t=this;return new c(function(){var n;var r=0;return new o(function(){n=t.getEnumerator();while(r++<e&&n.moveNext()){}},function(){return n.moveNext()?this.yieldReturn(n.current()):false},function(){u.dispose(n)})})};c.prototype.skipWhile=function(e){e=u.createLambda(e);var t=this;return new c(function(){var n;var r=0;var i=false;return new o(function(){n=t.getEnumerator()},function(){while(!i){if(n.moveNext()){if(!e(n.current(),r++)){i=true;return this.yieldReturn(n.current())}continue}else return false}return n.moveNext()?this.yieldReturn(n.current()):false},function(){u.dispose(n)})})};c.prototype.take=function(e){var t=this;return new c(function(){var n;var r=0;return new o(function(){n=t.getEnumerator()},function(){return r++<e&&n.moveNext()?this.yieldReturn(n.current()):false},function(){u.dispose(n)})})};c.prototype.takeWhile=function(e){e=u.createLambda(e);var t=this;return new c(function(){var n;var r=0;return new o(function(){n=t.getEnumerator()},function(){return n.moveNext()&&e(n.current(),r++)?this.yieldReturn(n.current()):false},function(){u.dispose(n)})})};c.prototype.takeExceptLast=function(e){if(e==null)e=1;var t=this;return new c(function(){if(e<=0)return t.getEnumerator();var n;var r=[];return new o(function(){n=t.getEnumerator()},function(){while(n.moveNext()){if(r.length==e){r.push(n.current());return this.yieldReturn(r.shift())}r.push(n.current())}return false},function(){u.dispose(n)})})};c.prototype.takeFromLast=function(e){if(e<=0||e==null)return c.empty();var t=this;return new c(function(){var n;var r;var i=[];return new o(function(){n=t.getEnumerator()},function(){while(n.moveNext()){if(i.length==e)i.shift();i.push(n.current())}if(r==null){r=c.from(i).getEnumerator()}return r.moveNext()?this.yieldReturn(r.current()):false},function(){u.dispose(r)})})};c.prototype.indexOf=function(e,t){var n=null;if(typeof e===r.Function){this.forEach(function(t,r){if(e(t,r)){n=r;return false}})}else{t=t||ss.EqualityComparer.def;this.forEach(function(r,u){if(t.areEqual(r,e)){n=u;return false}})}return n!==null?n:-1};c.prototype.lastIndexOf=function(e,t){var n=-1;if(typeof e===r.Function){this.forEach(function(t,r){if(e(t,r))n=r})}else{t=t||ss.EqualityComparer.def;this.forEach(function(r,u){if(t.areEqual(r,e))n=u})}return n};c.prototype.asEnumerable=function(){return c.from(this)};c.prototype.toArray=function(){var e=[];this.forEach(function(t){e.push(t)});return e};c.prototype.toLookup=function(e,t,n){e=u.createLambda(e);t=u.createLambda(t);var r=new(ss.makeGenericType(ss.Dictionary$2,[Object,Object]))(null,n);var i=[];this.forEach(function(n){var u=e(n);var o=t(n);var a={$:null};if(r.tryGetValue(u,a)){a.$.push(o)}else{i.push(u);r.add(u,[o])}});return new m(r,i)};c.prototype.toObject=function(e,t){e=u.createLambda(e);t=u.createLambda(t);var n={};this.forEach(function(r){n[e(r)]=t(r)});return n};c.prototype.toDictionary=function(e,t,n,r,i){e=u.createLambda(e);t=u.createLambda(t);var o=new(ss.makeGenericType(ss.Dictionary$2,[n,r]))(null,i);this.forEach(function(n){o.add(e(n),t(n))});return o};c.prototype.toJSONString=function(e,t){if(typeof JSON===r.Undefined||JSON.stringify==null){throw new Error("toJSONString can't find JSON.stringify. This works native JSON support Browser or include json2.js")}return JSON.stringify(this.toArray(),e,t)};c.prototype.toJoinedString=function(e,t){if(e==null)e="";if(t==null)t=n.Identity;return this.select(t).toArray().join(e)};c.prototype.doAction=function(e){var t=this;e=u.createLambda(e);return new c(function(){var n;var r=0;return new o(function(){n=t.getEnumerator()},function(){if(n.moveNext()){e(n.current(),r++);return this.yieldReturn(n.current())}return false},function(){u.dispose(n)})})};c.prototype.forEach=function(e){e=u.createLambda(e);var t=0;var n=this.getEnumerator();try{while(n.moveNext()){if(e(n.current(),t++)===false)break}}finally{u.dispose(n)}};c.prototype.write=function(e,t){if(e==null)e="";t=u.createLambda(t);var n=true;this.forEach(function(r){if(n)n=false;else document.write(e);document.write(t(r))})};c.prototype.writeLine=function(e){e=u.createLambda(e);this.forEach(function(t){document.writeln(e(t)+"<br />")})};c.prototype.force=function(){var e=this.getEnumerator();try{while(e.moveNext()){}}finally{u.dispose(e)}};c.prototype.letBind=function(e){e=u.createLambda(e);var t=this;return new c(function(){var n;return new o(function(){n=c.from(e(t)).getEnumerator()},function(){return n.moveNext()?this.yieldReturn(n.current()):false},function(){u.dispose(n)})})};c.prototype.share=function(){var e=this;var t;var r=false;return new p(function(){return new o(function(){if(t==null){t=e.getEnumerator()}},function(){if(r)throw new Error("enumerator is disposed");return t.moveNext()?this.yieldReturn(t.current()):false},n.Blank)},function(){r=true;u.dispose(t)})};c.prototype.memoize=function(){var e=this;var t;var r;var i=false;return new p(function(){var u=-1;return new o(function(){if(r==null){r=e.getEnumerator();t=[]}},function(){if(i)throw new Error("enumerator is disposed");u++;if(t.length<=u){return r.moveNext()?this.yieldReturn(t[u]=r.current()):false}return this.yieldReturn(t[u])},n.Blank)},function(){i=true;u.dispose(r);t=null})};c.prototype.catchError=function(e){e=u.createLambda(e);var t=this;return new c(function(){var n;return new o(function(){n=t.getEnumerator()},function(){try{return n.moveNext()?this.yieldReturn(n.current()):false}catch(t){e(t);return false}},function(){u.dispose(n)})})};c.prototype.finallyAction=function(e){e=u.createLambda(e);var t=this;return new c(function(){var n;return new o(function(){n=t.getEnumerator()},function(){return n.moveNext()?this.yieldReturn(n.current()):false},function(){try{u.dispose(n)}finally{e()}})})};c.prototype.log=function(e){e=u.createLambda(e);return this.doAction(function(t){if(typeof console!==r.Undefined){console.log(e(t))}})};c.prototype.trace=function(e,t){if(e==null)e="Trace";t=u.createLambda(t);return this.doAction(function(n){if(typeof console!==r.Undefined){console.log(e,t(n))}})};var s=function(e,t,n,r,i){this.source=e;this.keySelector=u.createLambda(t);this.comparer=n||ss.Comparer.def;this.descending=r;this.parent=i};s.prototype=new c;s.prototype.createOrderedEnumerable=function(e,t,n){return new s(this.source,e,t,n,this)};s.prototype.thenBy=function(e,t){return this.createOrderedEnumerable(e,t,false)};s.prototype.thenByDescending=function(e,t){return this.createOrderedEnumerable(e,t,true)};s.prototype.getEnumerator=function(){var e=this;var t;var r;var u=0;return new o(function(){t=[];r=[];e.source.forEach(function(e,n){t.push(e);r.push(n)});var n=l.create(e,null);n.GenerateKeys(t);r.sort(function(e,t){return n.compare(e,t)})},function(){return u<r.length?this.yieldReturn(t[r[u++]]):false},n.Blank)};var l=function(e,t,n,r){this.keySelector=e;this.comparer=t;this.descending=n;this.child=r;this.keys=null};l.create=function(e,t){var n=new l(e.keySelector,e.comparer,e.descending,t);if(e.parent!=null)return l.create(e.parent,n);return n};l.prototype.GenerateKeys=function(e){var t=e.length;var n=this.keySelector;var r=new Array(t);for(var u=0;u<t;u++)r[u]=n(e[u]);this.keys=r;if(this.child!=null)this.child.GenerateKeys(e)};l.prototype.compare=function(e,t){var n=this.comparer.compare(this.keys[e],this.keys[t]);if(n==0){if(this.child!=null)return this.child.compare(e,t);return u.compare(e,t)}return this.descending?-n:n};var p=function(e,t){this.dispose=t;c.call(this,e)};p.prototype=new c;var h=function(e){this.getSource=function(){return e}};h.prototype=new c;h.prototype.any=function(e){return e==null?this.getSource().length>0:c.prototype.any.apply(this,arguments)};h.prototype.count=function(e){return e==null?this.getSource().length:c.prototype.count.apply(this,arguments)};h.prototype.elementAt=function(e){var t=this.getSource();return 0<=e&&e<t.length?t[e]:c.prototype.elementAt.apply(this,arguments)};h.prototype.elementAtOrDefault=function(e,n){if(n===t)n=null;var r=this.getSource();return 0<=e&&e<r.length?r[e]:n};h.prototype.first=function(e){var t=this.getSource();return e==null&&t.length>0?t[0]:c.prototype.first.apply(this,arguments)};h.prototype.firstOrDefault=function(e,n){if(n===t)n=null;if(e!=null){return c.prototype.firstOrDefault.apply(this,arguments)}var r=this.getSource();return r.length>0?r[0]:n};h.prototype.last=function(e){var t=this.getSource();return e==null&&t.length>0?t[t.length-1]:c.prototype.last.apply(this,arguments)};h.prototype.lastOrDefault=function(e,n){if(n===t)n=null;if(e!=null){return c.prototype.lastOrDefault.apply(this,arguments)}var r=this.getSource();return r.length>0?r[r.length-1]:n};h.prototype.skip=function(e){var t=this.getSource();return new c(function(){var r;return new o(function(){r=e<0?0:e},function(){return r<t.length?this.yieldReturn(t[r++]):false},n.Blank)})};h.prototype.takeExceptLast=function(e){if(e==null)e=1;return this.take(this.getSource().length-e)};h.prototype.takeFromLast=function(e){return this.skip(this.getSource().length-e)};h.prototype.reverse=function(){var e=this.getSource();return new c(function(){var t;return new o(function(){t=e.length},function(){return t>0?this.yieldReturn(e[--t]):false},n.Blank)})};h.prototype.sequenceEqual=function(e,t){if((e instanceof h||e instanceof Array)&&t==null&&c.from(e).count()!=this.count()){return false}return c.prototype.sequenceEqual.apply(this,arguments)};h.prototype.toJoinedString=function(e,t){var n=this.getSource();
if(t!=null||!(n instanceof Array)){return c.prototype.toJoinedString.apply(this,arguments)}if(e==null)e="";return n.join(e)};h.prototype.getEnumerator=function(){return new ss.ArrayEnumerator(this.getSource())};var y=function(e,t){this.prevSource=e;this.prevPredicate=t};y.prototype=new c;y.prototype.where=function(e){e=u.createLambda(e);if(e.length<=1){var t=this.prevPredicate;var n=function(n){return t(n)&&e(n)};return new y(this.prevSource,n)}else{return c.prototype.where.call(this,e)}};y.prototype.select=function(e){e=u.createLambda(e);return e.length<=1?new v(this.prevSource,this.prevPredicate,e):c.prototype.select.call(this,e)};y.prototype.getEnumerator=function(){var e=this.prevPredicate;var t=this.prevSource;var n;return new o(function(){n=t.getEnumerator()},function(){while(n.moveNext()){if(e(n.current())){return this.yieldReturn(n.current())}}return false},function(){u.dispose(n)})};var v=function(e,t,n){this.prevSource=e;this.prevPredicate=t;this.prevSelector=n};v.prototype=new c;v.prototype.where=function(e){e=u.createLambda(e);return e.length<=1?new y(this,e):c.prototype.where.call(this,e)};v.prototype.select=function(e){e=u.createLambda(e);if(e.length<=1){var t=this.prevSelector;var n=function(n){return e(t(n))};return new v(this.prevSource,this.prevPredicate,n)}else{return c.prototype.select.call(this,e)}};v.prototype.getEnumerator=function(){var e=this.prevPredicate;var t=this.prevSelector;var n=this.prevSource;var r;return new o(function(){r=n.getEnumerator()},function(){while(r.moveNext()){if(e==null||e(r.current())){return this.yieldReturn(t(r.current()))}}return false},function(){u.dispose(r)})};var m=function(e,t){this.count=function(){return e.get_count()};this.get=function(t){var n={$:null};var r=e.tryGetValue(t,n);return c.from(r?n.$:[])};this.contains=function(t){return e.containsKey(t)};this.toEnumerable=function(){return c.from(t).select(function(t){return new d(t,e.get_item(t))})};this.getEnumerator=function(){return this.toEnumerable().getEnumerator()}};ss.initClass(m,a,{},null,[ss.IEnumerable]);var d=function(e,t){this.key=function(){return e};h.call(this,t)};d.prototype=new h;if(typeof define===r.Function&&define.amd){define("linqjs",[],function(){return c});e.Enumerable=c}else if(typeof module!==r.Undefined&&module.exports){module.exports=c;global.Enumerable=c}else{e.Enumerable=c}})(this);



var __decorate=this&&this.__decorate||function(t,e,n,i){var r=arguments.length,a=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)if(o=t[s])a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a;return r>3&&a&&Object.defineProperty(e,n,a),a};var __extends=this&&this.__extends||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n];function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)};var Q;(function(t){function e(t,e){return ss.coalesce(t,e)}t.coalesce=e;function n(t){return ss.isValue(t)}t.isValue=n;function i(t){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}var r,a,o,s,l,u,f=arguments[0]||{},c=1,d=arguments.length;if(typeof f!=="object"&&!$.isFunction(f)){f={}}if(c===d){f={};c=0}for(;c<d;c++){if((r=arguments[c])!==null){if($.isArray(r)){f=$.extend(true,[],r)}else{for(a in r){o=f[a];s=r[a];if(f===s){continue}if(s&&($.isPlainObject(s)||(l=$.isArray(s)))){if(l){l=false;u=o&&$.isArray(o)?o:[]}else{u=o&&$.isPlainObject(o)?o:{}}f[a]=i(u,s)}else if(s!==undefined){f[a]=s}}}}}return f}t.deepClone=i})(Q||(Q={}));var Q;(function(t){function e(t,e){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(e(r))return true}return false}t.any=e;function n(t,e){var n=0;for(var i=0,r=t;i<r.length;i++){var a=r[i];if(e(a))n++}return n}t.count=n;function i(t,e){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(e(r))return r}throw new Error("first:No element satisfies the condition.!")}t.first=i;function r(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}t.indexOf=r;function a(t,e,n){ss.insert(t,e,n)}t.insert=a;function o(t){return ss.isArray(t)}t.isArray=o;function s(t,e){var n;var i=false;for(var r=0,a=t;r<a.length;r++){var o=a[r];if(e(o)){if(i)throw new Error("single:sequence contains more than one element.");i=true;n=o}}if(!i)throw new Error("single:No element satisfies the condition.");return n}t.single=s;function l(t,e){var n={};for(var i=0,r=t;i<r.length;i++){var a=r[i];var o=e(a)||"";var s=n[o];if(!s){s=n[o]=[]}s.push(a)}return n}t.toGrouping=l;function u(t,e){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(e(r))return r}}t.tryFirst=u})(Q||(Q={}));var Q;(function(t){function e(t,e){return ss.endsWithString(t,e)}t.endsWith=e;function n(t){return t==null||t.length===0}t.isEmptyOrNull=n;function i(t){return f(t)==null}t.isTrimmedEmpty=i;function r(t){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}return(i=ss).formatString.apply(i,[t].concat(e));var i}t.format=r;function a(t,e,n){if(n===void 0){n=" "}while(t.length<e)t="0"+t;return t}t.padLeft=a;function o(t,e){return ss.startsWithString(t,e)}t.startsWith=o;function s(e){return t.replaceAll(t.replaceAll(u(e),"\r\n"," "),"\n"," ").trim()}t.toSingleLine=s;function l(t){return(t==null?"":t).replace(new RegExp("^\\s+|\\s+$","g"),"")}t.trim=l;function u(t){if(t==null||t.length===0){return""}return l(t)}t.trimToEmpty=u;function f(t){if(t==null||t.length===0){return null}t=l(t);if(t.length===0){return null}else{return t}}t.trimToNull=f;var c;function d(t,e){var n="AaBbCcÇçFfGgĞğHhIıİiJjKkLlMmNnOoÖöPpRrSsŞşTtUuÜüVvYyZz";t=t||"";e=e||"";if(t==e)return 0;if(!c){c={};for(var i=0;i<n.length;i++){c[n.charAt(i)]=i+1}}for(var r=0,a=Math.min(t.length,e.length);r<a;r++){var o=t.charAt(r),s=e.charAt(r);if(o===s)continue;var l=c[o],u=c[s];if(l!=null&&u!=null)return l<u?-1:1;var f=o.localeCompare(s);if(f==0)continue;return f}return t.localeCompare(e)}t.turkishLocaleCompare=d;function g(t){if(!t)return t;return t.replace(/i/g,"İ").replace(/ı/g,"I").toUpperCase()}t.turkishLocaleToUpper=g;function p(t,e,n){return ss.replaceAllString(t,e,n)}t.replaceAll=p;function h(t,e){var n=t.toString();while(n.length<e)n="0"+n;return n}t.zeroPad=h})(Q||(Q={}));var Q;(function(t){var e;(function(e){e.decimalSeparator=".";e.dateSeparator="/";e.dateOrder="dmy";e.dateFormat="dd/MM/yyyy";e.dateTimeFormat="dd/MM/yyyy HH:mm:ss";function n(){return e.decimalSeparator===","?".":","}e.get_groupSeperator=n;var i=t.trimToNull($("script#ScriptCulture").html());if(i!=null){var r=$.parseJSON(i);if(r.DecimalSeparator!=null)e.decimalSeparator=r.DecimalSeparator;if(r.DateSeparator!=null)e.dateSeparator=r.DateSeparator;if(r.DateOrder!=null)e.dateOrder=r.DateOrder;if(r.DateFormat!=null)e.dateFormat=r.DateFormat;if(r.DateTimeFormat!=null)e.dateTimeFormat=r.DateTimeFormat}})(e=t.Culture||(t.Culture={}))})(Q||(Q={}));var Q;(function(t){function e(e,n,i,r){var o="-";if(isNaN(e)){return null}i=i||t.Culture.decimalSeparator;r=r||t.Culture.get_groupSeperator();var s="";if(n.indexOf(".")>-1){var l=i;var u=n.substring(n.lastIndexOf(".")+1);e=a(e,u.length);var f=e%1;var c=new String(f.toFixed(u.length));c=c.substring(c.lastIndexOf(".")+1);for(var d=0;d<u.length;d++){if(u.charAt(d)=="#"&&c.charAt(d)!="0"){l+=c.charAt(d);continue}else if(u.charAt(d)=="#"&&c.charAt(d)=="0"){var g=c.substring(d);if(g.match("[1-9]")){l+=c.charAt(d);continue}else break}else if(u.charAt(d)=="0")l+=c.charAt(d);else l+=u.charAt(d)}s+=l}else e=Math.round(e);var p=Math.floor(e);if(e<0)p=Math.ceil(e);var h="";if(n.indexOf(".")==-1)h=n;else h=n.substring(0,n.indexOf("."));var v="";if(!(p==0&&h.substr(h.length-1)=="#")){var m=new String(Math.abs(p));var y=9999;if(h.lastIndexOf(",")!=-1)y=h.length-h.lastIndexOf(",")-1;var b=0;for(var d=m.length-1;d>-1;d--){v=m.charAt(d)+v;b++;if(b==y&&d!=0){v=r+v;b=0}}if(h.length>v.length){var w=h.indexOf("0");if(w!=-1){var C=h.length-w;var _=h.length-v.length-1;while(v.length<C){var x=h.charAt(_);if(x==",")x=r;v=x+v;_--}}}}if(!v&&h.indexOf("0",h.length-1)!==-1)v="0";s=v+s;if(e<0)s=o+s;if(s.lastIndexOf(i)==s.length-1){s=s.substring(0,s.length-1)}return s}t.formatNumber=e;var n=/(\d{4,})(?:-(\d{1,2})(?:-(\d{1,2})(?:[T ](\d{1,2}):(\d{1,2})(?::(\d{1,2})(?:\.(\d+))?)?(?:(Z)|([+-])(\d{1,2})(?::(\d{1,2}))?)?)?)?)?/;function i(e){e=t.trim(e.toString());var n=t.Culture.get_groupSeperator();if(e&&e.length&&e.indexOf(n)>0){e=e.replace(new RegExp("(\\b\\d{1,3})\\"+n+"(?=\\d{3}(\\D|$))","g"),"$1")}if(!/^[-\+]?\d+$/.test(e))return NaN;return parseInt(e,10)}t.parseInteger=i;function r(e){if(e==null)return null;e=t.trim(e.toString());if(e.length==0)return null;var n=t.Culture.get_groupSeperator();if(e&&e.length&&e.indexOf(n)>0){e=e.replace(new RegExp("(\\b\\d{1,3})\\"+n+"(?=\\d{3}(\\D|$))","g"),"$1")}if(!new RegExp("^\\s*([-\\+])?(\\d*)\\"+t.Culture.decimalSeparator+"?(\\d*)\\s*$").test(e))return NaN;return parseFloat(e.toString().replace(t.Culture.decimalSeparator,"."))}t.parseDecimal=r;function a(t,e){var n=Math.pow(10,e||0);var i=(Math.round(t*n)/n).toString();if(e>0){var r=i.indexOf(".");if(r==-1){i+=".";r=0}else{r=i.length-(r+1)}while(r<e){i+="0";r++}}return parseFloat(i)}function o(t){if(t==null)return null;if(typeof t=="number")return t;t=$.trim(t);if(t==null||!t.length)return null;if(t.length>=15||!/^-?\d+$/.test(t))return t;var e=parseInt(t,10);if(isNaN(e))return t;return e}t.toId=o})(Q||(Q={}));var Q;(function(t){function e(e,n){if(!e){return""}var i;if(typeof e=="string"){var r=t.parseDate(e);if(!r)return e;i=r}else i=e;if(n==null||n=="d"){n=t.Culture.dateFormat}else{switch(n){case"g":n=t.Culture.dateTimeFormat.replace(":ss","");break;case"G":n=t.Culture.dateTimeFormat;break;case"s":n="yyyy-MM-ddTHH:mm:ss";break;case"u":return t.formatISODateTimeUTC(i)}}var a=function(e){return t.zeroPad(e,2)};return n.replace(new RegExp("dd?|MM?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|fff|zz?z?|\\/","g"),function(e){switch(e){case"/":return t.Culture.dateSeparator;case"hh":return a(i.getHours()<13?i.getHours():i.getHours()-12);case"h":return i.getHours()<13?i.getHours():i.getHours()-12;case"HH":return a(i.getHours());case"H":return i.getHours();case"mm":return a(i.getMinutes());case"m":return i.getMinutes();case"ss":return a(i.getSeconds());case"s":return i.getSeconds();case"yyyy":return i.getFullYear();case"yy":return i.getFullYear().toString().substr(2,4);case"dd":return a(i.getDate());case"d":return i.getDate().toString();case"MM":return a(i.getMonth()+1);case"M":return i.getMonth()+1;case"t":return i.getHours()<12?"A":"P";case"tt":return i.getHours()<12?"AM":"PM";case"fff":return t.zeroPad(i.getMilliseconds(),3);case"zzz":case"zz":case"z":return"";default:return e}})}t.formatDate=e;function n(e){if(e===0)return"0";else if(!e)return"";var n=Math.floor(e/24/60);var i="";if(n>0){i+=n.toString()}var r=t.zeroPad(Math.floor(e%(24*60)/60),2)+":"+t.zeroPad(e%60,2);if(r!="00:00"){if(n>0)i+=".";i+=r}return i}t.formatDayHourAndMin=n;function i(t){if(t==null)return"";var e=function(t){return(t<10?"0":"")+t};var n=t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes());var i=Number(t.getUTCSeconds()+"."+(t.getUTCMilliseconds()<100?"0":"")+e(t.getUTCMilliseconds()));n+=":"+e(i)+"Z";return n}t.formatISODateTimeUTC=i;var r=/(\d{4,})(?:-(\d{1,2})(?:-(\d{1,2})(?:[T ](\d{1,2}):(\d{1,2})(?::(\d{1,2})(?:\.(\d+))?)?(?:(Z)|([+-])(\d{1,2})(?::(\d{1,2}))?)?)?)?)?/;function a(t){if(!t||!t.length)return null;var e=Date.parse(t);if(!isNaN(e)&&typeof e=="Date")return e;t=t+"";if(typeof t!="string"||t.length===0){return null}var n=t.match(r);if(typeof n=="undefined"||n===null){return null}var i,a,o,s,l,u,f;i=parseInt(n[1],10);if(typeof n[2]=="undefined"||n[2]===""){return new Date(i)}a=parseInt(n[2],10)-1;o=parseInt(n[3],10);if(typeof n[4]=="undefined"||n[4]===""){return new Date(i,a,o)}s=parseInt(n[4],10);l=parseInt(n[5],10);u=typeof n[6]!="undefined"&&n[6]!==""?parseInt(n[6],10):0;if(typeof n[7]!="undefined"&&n[7]!==""){f=Math.round(1e3*parseFloat("0."+n[7]))}else{f=0}if((typeof n[8]=="undefined"||n[8]==="")&&(typeof n[9]=="undefined"||n[9]==="")){return new Date(i,a,o,s,l,u,f)}var c;if(typeof n[9]!="undefined"&&n[9]!==""){c=parseInt(n[10],10)*36e5;if(typeof n[11]!="undefined"&&n[11]!==""){c+=parseInt(n[11],10)*6e4}if(n[9]=="-"){c=-c}}else{c=0}return new Date(Date.UTC(i,a,o,s,l,u,f)-c)}t.parseISODateTime=a;function o(e){var n=t.trim(e);if(n.length<4||n.length>5)return NaN;var i,r;if(n.charAt(1)==":"){i=t.parseInteger(n.substr(0,1));r=t.parseInteger(n.substr(2,2))}else{if(n.charAt(2)!=":")return NaN;i=t.parseInteger(n.substr(0,2));r=t.parseInteger(n.substr(3,2))}if(isNaN(i)||isNaN(r)||i<0||i>23||r<0||r>59)return NaN;return i*60+r}t.parseHourAndMin=o;function s(e){var n;var i=t.trim(e);if(!i)return NaN;var r=i.split(".");if(r.length==0||r.length>2)return NaN;if(r.length==1){n=t.parseInteger(r[0]);if(!isNaN(n))return n*24*60;return o(r[0])}else{n=t.parseInteger(r[0]);var a=o(r[1]);if(isNaN(n)||isNaN(a))return NaN;return n*24*60+a}}t.parseDayHourAndMin=s;function l(e,n){if(!e||!e.length)return null;if(e.length>=10&&e.charAt(4)==="-"&&e.charAt(7)==="-"&&(e.length===10||e.length>10&&e.charAt(10)==="T")){var i=t.parseISODateTime(e);if(i==null)return false;return i}var r;var a;var o,s,l;a=u(e);if(!a)return false;if(a.length==3){n=n||t.Culture.dateOrder;switch(n){case"dmy":o=parseInt(a[0],10);s=parseInt(a[1],10)-1;l=parseInt(a[2],10);break;case"ymd":o=parseInt(a[2],10);s=parseInt(a[1],10)-1;l=parseInt(a[0],10);break;case"mdy":default:o=parseInt(a[1],10);s=parseInt(a[0],10)-1;l=parseInt(a[2],10);break}if(isNaN(o)||isNaN(s)||isNaN(l)||o<1||o>31||s<0||s>11||l>9999||l<0)return false;if(l<100){var f=(new Date).getFullYear();var c=f%100+10;l+=f-f%100+(l<=c?0:-100)}try{r=new Date(l,s,o);if(isNaN(r.getFullYear()))return false}catch(d){return false}}else if(a.length==1){try{r=new Date(a[0]);if(isNaN(r.getFullYear()))return false}catch(d){return false}}return r}t.parseDate=l;function u(e){e=t.trim(e);if(!e.length)return;if(e.indexOf("/")>=0)return e.split("/");else if(e.indexOf(".")>=0)return e.split(".");else if(e.indexOf("-")>=0)return e.split("-");else if(e.indexOf("\\")>=0)return e.split("\\");else return[e]}t.splitDateString=u})(Q||(Q={}));var Q;(function(t){function e(t){var e=i.$table[t];if(e==null){e=t||""}return e}t.text=e;function n(t){return i.$table[t]}t.tryGetText=n;var i=function(){function t(t){this.key=t}t.add=function(e,n){if(!e){return}n=n||"";for(var i=0,r=Object.keys(e);i<r.length;i++){var a=r[i];var o=n+a;var s=e[a];if(typeof s==="object"){t.add(s,o+".")}else{t.$table[o]=s}}};t.prototype.get=function(){var e=t.$table[this.key];if(e==null){e=this.key||""}return e};t.prototype.toString=function(){var e=t.$table[this.key];if(e==null){e=this.key||""}return e};t.$table={};t.empty=new t("");t.initializeTextClass=function(e,n){var i=Object.keys(e).slice();for(var r=0;r<i.length;r++){var a=i[r];var o=e[a];if(o instanceof t){var s=o;var l=n+a;t.$table[l]=s.key;e[a]=new t(l)}}};t.getDefault=function(e,n){var i=t.$table[e];if(i==null){i=n;if(i==null){i=e||""}}return i};return t}();t.LT=i})(Q||(Q={}));var Q;(function(t){var e=function(){function e(t,e){this.items=[];this.itemById={};t=t||{};this.textFormatter=t.textFormatter;this.idField=t.idField;this.parentIdField=t.parentIdField;this.textField=t.textField;this.textFormatter=t.textFormatter;if(e!=null)this.update(e)}e.prototype.update=function(e){this.items=[];this.itemById={};if(e){for(var n=0,i=e;n<i.length;n++){var r=i[n];this.items.push(r)}}var a=this.idField;if(!t.isEmptyOrNull(a)){for(var o=0,s=this.items;o<s.length;o++){var l=s[o];var u=l[a];if(u!=null){this.itemById[u]=l}}}};e.prototype.get_idField=function(){return this.idField};e.prototype.get_parentIdField=function(){return this.parentIdField};e.prototype.get_textField=function(){return this.textField};e.prototype.get_textFormatter=function(){return this.textFormatter};e.prototype.get_itemById=function(){return this.itemById};e.prototype.get_items=function(){return this.items};return e}();t.Lookup=e})(Q||(Q={}));var Q;(function(t){var e=0;function n(t){if(e>0){e++;return}$.blockUI(t);e++}function i(t){t=$.extend({baseZ:2e3,message:"",overlayCSS:{opacity:"0.0",zIndex:2e3,cursor:"wait"},fadeOut:0},t);if(t.useTimeout){window.setTimeout(function(){n(t)},0)}else{n(t)}}t.blockUI=i;function r(){if(e>1){e--;return}e--;$.unblockUI({fadeOut:0})}t.blockUndo=r})(Q||(Q={}));var Q;(function(t){function e(t,e,n){$("<option/>").val(e).text(n).appendTo(t)}t.addOption=e;function n(n){e(n,"",t.text("Controls.SelectEditor.EmptyItemText"))}t.addEmptyOption=n;function i(t){t.html("")}t.clearOptions=i;function r(e,n){var i=e.attr("id");if(t.isEmptyOrNull(i)){return $("#"+n)}var r=$(i+n);if(r.length>0){return r}r=$(i+"_"+n);if(r.length>0){return r}while(true){var a=i.lastIndexOf("_");if(a<=0){return $("#"+n)}i=i.substr(0,a);r=$("#"+i+"_"+n);if(r.length>0){return r}}}t.findElementWithRelativeId=r;function a(t){switch(t){case"&":return"&amp;";case">":return"&gt;";case"<":return"&lt;"}return t}function o(t){var e=t==null?"":t.toString();if(new RegExp("[><&]","g").test(e)){return e.replace(new RegExp("[><&]","g"),a)}return e}t.htmlEncode=o;function s(e,n){if(!e||e.indexOf("{{")<0){return e}if(!$.templates||!$.views){throw new ss.Exception("Please make sure that jsrender.js is included in the page!")}n=n||{};var i=$.templates(e);$.views.converters({text:t.text},i);return i.render(n)}t.jsRender=s;function l(t){window.console&&window.console.log(t)}t.log=l;function u(){return $("<div/>").appendTo(document.body)}t.newBodyDiv=u;function f(t){return $("<i/>").append(t.eq(0).clone()).html()}t.outerHtml=f})(Q||(Q={}));var Q;(function(t){function e(e,n){var i;n=$.extend({htmlEncode:true,okButton:t.text("Dialogs.OkButton"),title:t.text("Dialogs.AlertTitle"),onClose:null,onOpen:null,autoOpen:false,dialogClass:"s-MessageDialog s-AlertDialog",modal:true,width:"40%",maxWidth:"450",minWidth:"180",resizable:false,open:function(){if(n.onOpen)n.onOpen.call(this)},close:function(){i.dialog("destroy");if(n.onClose)n.onClose()}},n);if(n.htmlEncode)e=t.htmlEncode(e);if(!n.buttons){var r=[];r.push({text:n.okButton,click:function(){i.dialog("close")}});n.buttons=r}i=$('<div><div class="message"></div></div>').dialog(n).children(".message").html(e).parent().dialog("open")}t.alert=e;function n(e,n,i){var r;i=$.extend({htmlEncode:true,yesButton:t.text("Dialogs.YesButton"),noButton:t.text("Dialogs.NoButton"),title:t.text("Dialogs.ConfirmationTitle"),onNo:null,onCancel:null,onClose:null,autoOpen:false,modal:true,dialogClass:"s-MessageDialog s-ConfirmDialog",width:"40%",maxWidth:"450",minWidth:"180",resizable:false,open:function(){if(i.onOpen)i.onOpen.call(this)},close:function(){r.dialog("destroy");if(!a&&i.onCancel)i.onCancel()},overlay:{opacity:.77,background:"black"}},i);if(i.htmlEncode)e=t.htmlEncode(e);var a=false;if(!i.buttons){var o=[];o.push({text:i.yesButton,click:function(){a=true;r.dialog("close");if(n)n()}});if(i.noButton)o.push({text:i.noButton,click:function(){a=true;r.dialog("close");if(i.onNo)i.onNo();else if(i.onCancel)i.onCancel()}});i.buttons=o}r=$('<div><div class="message"></div></div>').dialog(i).children(".message").html(e).parent().dialog("open")}t.confirm=n;function i(e){var n;var i=$("<div><iframe></iframe></div>");var r=$.extend({autoOpen:true,modal:true,width:"60%",height:"400",title:t.text("Dialogs.AlertTitle"),open:function(){n=i.find("iframe").css({border:"none",width:"100%",height:"100%"})[0].contentDocument;n.open();n.write(r.html);n.close()},close:function(){n.open();n.write("");n.close();i.dialog("destroy").html("")}},e);i.dialog(r)}t.iframeDialog=i;function r(e,i,r){n(e,i,$.extend({title:t.text("Dialogs.InformationTitle"),dialogClass:"s-MessageDialog s-InformationDialog",yesButton:t.text("Dialogs.OkButton"),noButton:null},r))}t.information=r;function a(n,i){e(n,$.extend({title:t.text("Dialogs.WarningTitle"),dialogClass:"s-MessageDialog s-WarningDialog"},i))}t.warning=a})(Q||(Q={}));var Q;(function(t){t.defaultNotifyOptions={timeOut:3e3,showDuration:250,hideDuration:500,extendedTimeOut:500,positionClass:"toast-top-full-width"};function e(e){e=$.extend({},t.defaultNotifyOptions,e);o(true);return e}function n(t,n,i){toastr.warning(t,n,e(i))}t.notifyWarning=n;function i(t,n,i){toastr.success(t,n,e(i))}t.notifySuccess=i;function r(t,n,i){toastr.info(t,n,e(i))}t.notifyInfo=r;function a(t,n,i){toastr.error(t,n,e(i))}t.notifyError=a;function o(t){if(typeof toastr==="undefined"){return}var e=$(window.document.body).children(".ui-dialog:visible").last();var n=toastr.getContainer(null,t);if(n.length===0){return}if(e.length>0){var i=e.position();n.addClass("positioned-toast toast-top-full-width");n.css({position:"absolute",top:i.top+28+"px",left:i.left+6+"px",width:e.width()-12+"px"})}else{n.addClass("toast-top-full-width");if(n.hasClass("positioned-toast")){n.removeClass("positioned-toast");n.css({position:"",top:"",left:"",width:""})}}}t.positionToastContainer=o})(Q||(Q={}));var Q;(function(t){var e;(function(t){t.applicationPath="/";var e=$("link#ApplicationPath");if(e.length>0){t.applicationPath=e.attr("href")}t.emailAllowOnlyAscii=true;t.responsiveDialogs=false;t.rootNamespaces=["Serenity"];t.notLoggedInHandler=null})(e=t.Config||(t.Config={}))})(Q||(Q={}));var Q;(function(t){function e(t){var e;if(t===undefined)e=location.search.substring(1,location.search.length);else e=t||"";var n={};var i=e.split("&");for(var r=0;r<i.length;r++){var a=i[r].split("=");var o=decodeURIComponent(a[0]);n[o]=a.length>=2?decodeURIComponent(a[1]):o}return n}t.parseQueryString=e;function n(t){var e=$("<form/>").attr("method","POST").attr("action",t.url?r(t.url):r("~/services/"+t.service)).appendTo(document.body);if(t.target)e.attr("target",t.target);var n=$("<div/>").appendTo(e);$("<input/>").attr("type","hidden").attr("name","request").val($["toJSON"](t.request)).appendTo(n);$("<input/>").attr("type","submit").appendTo(n);e.submit();window.setTimeout(function(){e.remove()},0)}t.postToService=n;function i(t){var e=$("<form/>").attr("method","POST").attr("action",r(t.url)).appendTo(document.body);if(t.target)e.attr("target",t.target);var n=$("<div/>").appendTo(e);if(t.params!=null){for(var i in t.params){$("<input/>").attr("type","hidden").attr("name",i).val(t.params[i]).appendTo(n)}}$("<input/>").attr("type","submit").appendTo(n);e.submit();window.setTimeout(function(){e.remove()},0)}t.postToUrl=i;function r(e){if(e&&e.substr(0,2)==="~/"){return t.Config.applicationPath+e.substr(2)}return e}t.resolveUrl=r})(Q||(Q={}));var Q;(function(t){var e;(function(e){function n(e){var n;if(e==null){n="??ERROR??"}else{n=e.Message;if(n==null){n=e.Code}}t.alert(n)}e.showServiceError=n})(e=t.ErrorHandling||(t.ErrorHandling={}))})(Q||(Q={}));var Q;(function(t){function e(e){var n=function(n){if(t.Config.notLoggedInHandler!=null&&n&&n.Error&&n.Error.Code=="NotLoggedIn"&&t.Config.notLoggedInHandler(e,n)){return}if(e.onError!=null){e.onError(n);return}t.ErrorHandling.showServiceError(n.Error)};var i=e.service;if(i&&i.length&&i.charAt(0)!="~"&&i.charAt(0)!="/"&&i.indexOf("://")<0)i=t.resolveUrl("~/services/")+i;e=$.extend({dataType:"json",contentType:"application/json",type:"POST",cache:false,blockUI:true,url:i,data:$.toJSON(e.request),success:function(n,i,r){try{if(!n.Error&&e.onSuccess){e.onSuccess(n)}}finally{if(e.blockUI){t.blockUndo()}e.onCleanup&&e.onCleanup()}},error:function(i,r,a){try{if(i.status===403){var o=null;try{o=i.getResponseHeader("Location")}catch(s){o=null}if(o){window.top.location.href=o;return}}if((i.getResponseHeader("content-type")||"").toLowerCase().indexOf("application/json")>=0){var l=$.parseJSON(i.responseText);if(l&&l.Error){n(l);return}}var u=i.responseText;t.iframeDialog({html:u})}finally{if(e.blockUI){t.blockUndo()}e.onCleanup&&e.onCleanup()}}},e);if(e.blockUI){t.blockUI(null)}return $.ajax(e)}t.serviceCall=e;function n(t,n,i,r){return e($.extend({service:t,request:n,onSuccess:i},r))}t.serviceRequest=n;function i(t,e,n){if(t.EqualityFilter==null){t.EqualityFilter={}}t.EqualityFilter[e]=n}t.setEquality=i})(Q||(Q={}));var Q;(function(t){function e(t){t.css("height","100%");o(t)}t.autoFullHeight=e;function n(t){$("body").addClass("full-height-page");t.addClass("responsive-height");var e=function(){var e=t.parent().hasClass("page-content")||t.parent().is("section.content");if(e){t.css("height","1px").css("overflow","hidden")}r(t);if(e){t.css("overflow","")}t.triggerHandler("layout")};if($("body").hasClass("has-layout-event")){$("body").bind("layout",e)}else if(window.Metronic){window.Metronic.addResizeHandler(e)}else{$(window).resize(e)}e()}t.initFullHeightGridPage=n;function i(t){var e=0;t.parent().children().not(t).each(function(t,n){var i=$(n);if(i.is(":visible")){e+=i.outerHeight(true)}});e=t.parent().height()-e;if(t.css("box-sizing")!=="border-box"){e=e-(t.outerHeight(true)-t.height())}return e}t.layoutFillHeightValue=i;function r(t){var e=i(t);var n=Math.round(e)+"px";if(t.css("height")!=n){t.css("height",n)}}t.layoutFillHeight=r;function a(){var t=navigator.userAgent.indexOf("Mobi")>=0||window.matchMedia("(max-width: 767px)").matches;var e=$(document.body);if(e.hasClass("mobile-device")){if(!t){e.removeClass("mobile-device")}}else if(t){e.addClass("mobile-device")}}t.setMobileDeviceMode=a;function o(t){Serenity.LazyLoadHelper.executeEverytimeWhenShown(t,function(){t.triggerHandler("layout")},true)}t.triggerLayoutOnShow=o;function s(t){if(!t.hasClass("ui-dialog"))t=t.closest(".ui-dialog");t.position({at:"center center",of:window});var e=t.position();if(e.left<0)t.css("left","0px");if(e.top<0)t.css("top","0px")}t.centerDialog=s})(Q||(Q={}));var Q;(function(t){var e;(function(e){var n={};var i={};function r(t,e,n){$(document.body).bind("scriptdatachange."+e,function(e,i){if(i==t){n()}})}e.bindToChange=r;function a(t){$(document.body).triggerHandler("scriptdatachange",[t])}e.triggerChange=a;function o(t){$(document.body).unbind("scriptdatachange."+t)}e.unbindFromChange=o;function s(t){$.ajax({async:false,cache:true,type:"GET",url:t,data:null,dataType:"script"})}function l(e){return RSVP.resolve().then(function(){t.blockUI(null);return RSVP.resolve($.ajax({async:true,cache:true,type:"GET",url:e,data:null,dataType:"script"}).always(function(){t.blockUndo()}))},null)}function u(e){if(n[e]==null){throw new Error(t.format("Script data {0} is not found in registered script list!",e))}e=e+".js?"+n[e];s(t.resolveUrl("~/DynJS.axd/")+e)}function f(e){return RSVP.resolve().then(function(){if(n[e]==null){throw new Error(t.format("Script data {0} is not found in registered script list!",e))}e=e+".js?"+n[e];return l(t.resolveUrl("~/DynJS.axd/")+e)},null)}function c(e){var n=i[e];if(n==null){u(e)}n=i[e];if(n==null)throw new Error(t.format("Can't load script data: {0}!",e));return n}e.ensure=c;function d(e){return RSVP.resolve().then(function(){var n=i[e];if(n!=null){return RSVP.resolve(n)}return f(e).then(function(){n=i[e];if(n==null){throw new Error(t.format("Can't load script data: {0}!",e))}return n},null)},null)}e.ensureAsync=d;function g(e){if(n[e]==null){throw new Error(t.format("Script data {0} is not found in registered script list!",e))}n[e]=(new Date).getTime().toString();u(e);var r=i[e];return r}e.reload=g;function p(e){return RSVP.resolve().then(function(){if(n[e]==null){throw new Error(t.format("Script data {0} is not found in registered script list!",e))}n[e]=(new Date).getTime().toString();return f(e).then(function(){return i[e]},null)},null)}e.reloadAsync=p;function h(t){return i[t]!=null||n[t]!=null}e.canLoad=h;function v(t){n={};for(var e in t){n[e]=t[e].toString()}}e.setRegisteredScripts=v;function m(t,e){i[t]=e;a(t)}e.set=m})(e=t.ScriptData||(t.ScriptData={}));function n(t){return e.ensure("RemoteData."+t)}t.getRemoteData=n;function i(t){return e.ensureAsync("RemoteData."+t)}t.getRemoteDataAsync=i;function r(t){return e.ensure("Lookup."+t)}t.getLookup=r;function a(t){return e.ensureAsync("Lookup."+t)}t.getLookupAsync=a;function o(t){e.reload("Lookup."+t)}t.reloadLookup=o;function s(t){return e.reloadAsync("Lookup."+t)}t.reloadLookupAsync=s;function l(t){return e.ensure("Columns."+t)}t.getColumns=l;function u(t){return e.ensureAsync("Columns."+t)}t.getColumnsAsync=u;function f(t){return e.ensure("Form."+t)}t.getForm=f;function c(t){return e.ensureAsync("Form."+t)}t.getFormAsync=c;function d(t){return e.ensure("Template."+t)}t.getTemplate=d;function g(t){return e.ensureAsync("Template."+t)}t.getTemplateAsync=g;function p(t){return e.canLoad(t)}t.canLoadScriptData=p})(Q||(Q={}));var Q;(function(t){function e(t,e,n,i){n=n||"get_"+e;i=i||"set_"+e;Object.defineProperty(t.prototype,e,{get:function(){return this[n]()},set:function(t){return this[i](t)},configurable:true,enumerable:true})}t.prop=e;function n(t,e,n){function i(t,e,r){if(!t)return;if($.isArray(t)||t instanceof Date)return;var a=typeof t;if(a=="string"||a=="number")return;if($.isFunction(t)||t.__enum&&t.__register)n(t,e);if(r>3)return;for(var o=0,s=Object.keys(t);o<s.length;o++){var l=s[o];if(l.charAt(0)<"A"||l.charAt(0)>"Z")continue;if(l.indexOf("$")>=0)continue;if(l=="prototype")continue;i(t[l],e+"."+l,r+1)}}for(var r=0,a=e;r<a.length;r++){var o=a[r];if(o==null||!o.length){continue}if(o.indexOf(".")>=0){var s=t;var l=o.split(".");for(var u=0,f=l;u<f.length;u++){var c=f[u];if(!c.length)continue;s=s[c];if(!s)continue}i(s,o,0)}i(t[o],o,0)}}(function(e){if(typeof RSVP!==undefined){RSVP.on&&RSVP.on(function(e){t.log(e);t.log(e.get_stack&&e.get_stack()||e.stack)})}ss.initAssembly({},"App",{});e.Q$Externals=t;e.Q$Config=t.Config;e.Q$Culture=t.Culture;e.Q$Lookup=t.Lookup;e.Q$ScriptData=t.ScriptData;e.Q$LT=t.LT;function i(){n(e,t.Config.rootNamespaces,function(t,e){if(t.hasOwnProperty("__typeName")&&!t.__register)return;if(!t.__interfaces&&t.prototype.format&&e.substr(-9)=="Formatter"){t.__class=true;t.__interfaces=[Serenity.ISlickFormatter]}if(!t.__class){var n=ss.getBaseType(t);if(n.__class)t.__class=true}if(t.__class||t.__enum){t.__typeName=e;if(!t.__assembly){t.__assembly=ss.__assemblies["App"]}t.__assembly.__types[e]=t}delete t.__register})}$(function(){i();t.setMobileDeviceMode();$(e).bind("resize",function(){t.setMobileDeviceMode()})})})(window||{})})(Q||(Q={}));var Q;(function(t){var e;(function(e){function n(t){if(t==null)return false;if(t=="*")return true;if(t==""||t=="?")return e.isLoggedIn;var n=e.userDefinition;if(n&&n.IsAdmin)return true;if(n&&n.Permissions){var i=n.Permissions;if(i[t])return true;var r=t.split("|");for(var a=0,o=r;a<o.length;a++){var s=o[a];if(!s)continue;var l=s.split("&");if(!l.length)continue;var u=false;for(var f=0,c=l;f<c.length;f++){var d=c[f];if(!i[d]){u=true;break}}if(!u)return true}}return false}e.hasPermission=n;function i(e){if(!n(e)){t.notifyError(t.text("Authorization.AccessDenied"));throw new Error(t.text("Authorization.AccessDenied"))}}e.validatePermission=i})(e=t.Authorization||(t.Authorization={}));Object.defineProperty(t.Authorization,"userDefinition",{get:function(){return t.getRemoteData("UserData")}});Object.defineProperty(t.Authorization,"isLoggedIn",{get:function(){var t=e.userDefinition;return t&&!!t.Username}});Object.defineProperty(t.Authorization,"username",{get:function(){var t=e.userDefinition;if(t)return t.Username;return null}})})(Q||(Q={}));var Serenity;(function(t){var e=function(){function t(t){this.value=t}return t}();t.ColumnsKeyAttribute=e;var n=function(){function t(t){this.value=t}return t}();t.DialogTypeAttribute=n;var i=function(){function t(){}return t}();t.EditorAttribute=i;var r=function(){function t(t){this.value=t}return t}();t.ElementAttribute=r;var a=function(){function t(t){this.value=t}return t}();t.EntityTypeAttribute=a;var o=function(){function t(t){this.value=t}return t}();t.EnumKeyAttribute=o;var s=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.FlexifyAttribute=s;var l=function(){function t(t){this.value=t}return t}();t.FormKeyAttribute=l;var u=function(){function t(t){this.origin=t}return t}();t.GeneratedCodeAttribute=u;var f=function(){function t(t){this.value=t}return t}();t.IdPropertyAttribute=f;var c=function(){function t(t){this.value=t}return t}();t.IsActivePropertyAttribute=c;var d=function(){function t(t){this.value=t}return t}();t.ItemNameAttribute=d;var g=function(){function t(t){this.value=t}return t}();t.LocalTextPrefixAttribute=g;var p=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.MaximizableAttribute=p;var h=function(){function t(t){this.value=t}return t}();t.NamePropertyAttribute=h;var v=function(){function t(){}return t}();t.OptionAttribute=v;var m=function(){function t(t){this.value=t}return t}();t.OptionsTypeAttribute=m;var y=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.PanelAttribute=y;var b=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.ResizableAttribute=b;var w=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.ResponsiveAttribute=w;var C=function(){function t(t){this.value=t}return t}();t.ServiceAttribute=C})(Serenity||(Serenity={}));var Serenity;(function(t){var e;(function(e){function n(t,e){var n=t.__metadata;t.__metadata=t.__metadata||{};t.__metadata.attr=t.__metadata.attr||[];t.__metadata.attr.push(e)}e.addAttribute=n;function i(t,e,n){var i=t.__metadata;t.__metadata=t.__metadata||{};t.__metadata.members=t.__metadata.members||[];var r=undefined;for(var a=0,o=t.__metadata.members;a<o.length;a++){var s=o[a];if(s.name==e){r=s;break}}if(!r){r={name:e,attr:[],type:4,returnType:Object,sname:e};t.__metadata.members.push(r)}r.attr=r.attr||[];r.attr.push(n)}e.addMemberAttr=i;function r(e){return function(i){n(i,new t.ColumnsKeyAttribute(e))}}e.columnsKey=r;function a(e){return function(i){n(i,new t.DialogTypeAttribute(e))}}e.dialogType=a;function o(e){return function(i){var r=new t.EditorAttribute;if(e!==undefined)r.key=e;n(i,r)}}e.editor=o;function s(e){return function(i){n(i,new t.ElementAttribute(e))}}e.element=s;function l(e){return function(i){n(i,new t.EntityTypeAttribute(e))}}e.entityType=l;function u(e){return function(i){n(i,new t.EnumKeyAttribute(e))}}e.enumKey=u;function f(e){if(e===void 0){e=true}return function(i){n(i,new t.FlexifyAttribute(e))}}e.flexify=f;function c(e){return function(i){n(i,new t.FormKeyAttribute(e))}}e.formKey=c;function d(e){return function(i){n(i,new t.GeneratedCodeAttribute(e))}}e.generatedCode=d;function g(e){return function(i){n(i,new t.IdPropertyAttribute(e))
}}e.idProperty=g;function p(t,e){return function(n){n.__register=true;n.__class=true;n.__assembly=e||ss.__assemblies["App"];if(t)n.__interfaces=t}}e.registerClass=p;function h(e,i,r){if(!e.__enum){Object.defineProperty(e,"__enum",{get:function(){return true}});e.prototype=e.prototype||{};for(var a=0,o=Object.keys(e);a<o.length;a++){var s=o[a];if(isNaN(Q.parseInteger(s))&&e[s]!=null&&!isNaN(Q.parseInteger(e[s])))e.prototype[s]=e[s]}e.__register=true;if(i)n(e,new t.EnumKeyAttribute(i))}}e.registerEnum=h;function v(t,e){return p(t,e)}e.registerEditor=v;function m(e,n){if(e===void 0){e=[t.ISlickFormatter]}return p(e,n)}e.registerFormatter=m;function y(e){if(e===void 0){e=true}return function(i){n(i,new t.FilterableAttribute(e))}}e.filterable=y;function b(e){return function(i){n(i,new t.ItemNameAttribute(e))}}e.itemName=b;function w(e){return function(i){n(i,new t.IsActivePropertyAttribute(e))}}e.isActiveProperty=w;function C(e){return function(i){n(i,new t.LocalTextPrefixAttribute(e))}}e.localTextPrefix=C;function _(e){if(e===void 0){e=true}return function(i){n(i,new t.MaximizableAttribute(e))}}e.maximizable=_;function x(e){return function(i){n(i,new t.NamePropertyAttribute(e))}}e.nameProperty=x;function $(){return function(e,n){i(e.constructor,n,new t.OptionAttribute)}}e.option=$;function S(e){return function(i){n(i,new t.OptionsTypeAttribute(e))}}e.optionsType=S;function T(e){if(e===void 0){e=true}return function(i){n(i,new t.PanelAttribute(e))}}e.panel=T;function P(e){if(e===void 0){e=true}return function(i){n(i,new t.ResizableAttribute(e))}}e.resizable=P;function k(e){if(e===void 0){e=true}return function(i){n(i,new t.ResponsiveAttribute(e))}}e.responsive=k;function A(e){return function(i){n(i,new t.ServiceAttribute(e))}}e.service=A})(e=t.Decorators||(t.Decorators={}))})(Serenity||(Serenity={}));var Serenity;(function(t){function e(t){return[t]}t.Criteria=e;var e;(function(t){var e=t;function n(t){return t==null||t.length===0||t.length===1&&typeof t[0]=="string"&&t[0].length===0}t.isEmpty=n;function i(t,n,i){if(e.isEmpty(t))return i;if(e.isEmpty(i))return t;return[t,n,i]}t.join=i;function r(t){return e.isEmpty(t)?t:["()",t]}t.paren=r;function a(t,e){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}var a=i(t,"and",e);if(n){for(var o=0,s=n;o<s.length;o++){var l=s[o];a=i(a,"and",l)}}return a}t.and=a;function o(t,e){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}var a=i(t,"or",e);if(n){for(var o=0,s=n;o<s.length;o++){var l=s[o];a=i(a,"or",l)}}return a}t.or=o})(e=t.Criteria||(t.Criteria={}))})(Serenity||(Serenity={}));var Serenity;(function(t){var e;(function(t){var e=0;function n(t,n){e++;var i="ExecuteOnceWhenShown"+e;var r=false;if(t.is(":visible")){n()}else{var a=t.closest(".ui-tabs");if(a.length>0){a.bind("tabsshow."+i,function(e){if(t.is(":visible")){a.unbind("tabsshow."+i);if(!r){r=true;t.unbind("shown."+i);n()}}})}var o;if(t.hasClass("ui-dialog")){o=t.children(".ui-dialog-content")}else{o=t.closest(".ui-dialog-content")}if(o.length>0){o.bind("dialogopen."+i,function(){o.unbind("dialogopen."+i);if(t.is(":visible")&&!r){r=true;t.unbind("shown."+i);n()}})}t.bind("shown."+i,function(){if(t.is(":visible")){t.unbind("shown."+i);if(!r){r=true;n()}}})}}t.executeOnceWhenShown=n;function i(t,n,i){e++;var r="ExecuteEverytimeWhenShown"+e;var a=t.is(":visible");if(a&&i){n()}var o=function(e){if(t.is(":visible")){if(!a){a=true;n()}}else{a=false}};var s=t.closest(".ui-tabs");if(s.length>0){s.bind("tabsactivate."+r,o)}var l=t.closest(".ui-dialog-content");if(l.length>0){l.bind("dialogopen."+r,o)}t.bind("shown."+r,o)}t.executeEverytimeWhenShown=i})(e=t.LazyLoadHelper||(t.LazyLoadHelper={}))})(Serenity||(Serenity={}));var Serenity;(function(t){var e;(function(t){function e(t,e,n){if(!t)return;var r=i(t);if(!r)return;var a=r[e];if(a==null){return}if(a===t.tabs("option","active")){t.tabs("option","active",0)}t.tabs(n?"disable":"enable",a)}t.setDisabled=e;function n(t){var e=t.children("ul").children("li").eq(t.tabs("option","active")).children("a").attr("href").toString();var n="_Tab";var i=e.lastIndexOf(n);if(i>=0){e=e.substr(i+n.length)}return e}t.activeTabKey=n;function i(t){var e=t.data("indexByKey");if(!e){e={};t.children("ul").children("li").children("a").each(function(t,n){var i=n.getAttribute("href").toString();var r="_Tab";var a=i.lastIndexOf(r);if(a>=0){i=i.substr(a+r.length)}e[i]=t});t.data("indexByKey",e)}return e}t.indexByKey=i;function r(t,e){var n=i(t);if(!n)return;var r=n[e];if(r==null){return}if(r!==t.tabs("option","active")){t.tabs("option","active",r)}}t.selectTab=r})(e=t.TabsExtensions||(t.TabsExtensions={}))})(Serenity||(Serenity={}));var Serenity;(function(t){var e=function(){function e(t,n){var i=this;this.element=t;this.options=n||{};this.widgetName=e.getWidgetName(ss.getInstanceType(this));this.uniqueName=this.widgetName+(e.nextWidgetNumber++).toString();if(t.data(this.widgetName)){throw new ss.Exception(Q.format("The element already has widget '{0}'!",this.widgetName))}t.bind("remove."+this.widgetName,function(t){if(t.bubbles||t.cancelable){return}i.destroy()}).data(this.widgetName,this);this.addCssClass();if(this.isAsyncWidget()){window.setTimeout(function(){if(t&&!i.asyncPromise){i.asyncPromise=i.initializeAsync()}},0)}}e.prototype.destroy=function(){this.element.removeClass("s-"+ss.getTypeName(ss.getInstanceType(this)));this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.element=null;this.asyncPromise=null};e.prototype.addCssClass=function(){this.element.addClass(this.getCssClass())};e.prototype.getCssClass=function(){var t=ss.getInstanceType(this);var e="s-"+ss.getTypeName(t);var n=Q.replaceAll(ss.getTypeFullName(t),".","-");for(var i=0,r=Q.Config.rootNamespaces;i<r.length;i++){var a=r[i];if(Q.startsWith(n,a+"-")){n=n.substr(a.length+1);break}}n="s-"+n;if(e===n){return e}return e+" "+n};e.prototype.initializeAsync=function(){return RSVP.resolve()};e.prototype.isAsyncWidget=function(){return ss.isInstanceOfType(this,t.IAsyncInit)};e.getWidgetName=function(t){return Q.replaceAll(ss.getTypeFullName(t),".","_")};e.elementFor=function(e){var n=ss.getAttributes(e,t.ElementAttribute,true);var i=n.length>0?n[0].value:"<input/>";return $(i)};e.create=function(n){var i;if(ss.isAssignableFrom(t.IDialog,n.type)){i=new n.type(n.options);if(n.container)i.element.appendTo(n.container);n.element&&n.element(i.element)}else{var r=e.elementFor(n.type);if(n.container)r.appendTo(n.container);n.element&&n.element(r);i=new n.type(r,n.options)}i.init(n.init);return i};e.prototype.init=function(t){var e=this;var n=this.initialize();if(t){n.then(function(){return t(e)})}return this};e.prototype.initialize=function(){if(!this.isAsyncWidget()){return RSVP.resolve()}if(!this.asyncPromise){this.asyncPromise=this.initializeAsync()}return this.asyncPromise};e.nextWidgetNumber=0;e=__decorate([t.Decorators.registerClass()],e);return e}();t.Widget=e})(Serenity||(Serenity={}));var Serenity;(function(t){var e=function(e){__extends(n,e);function n(t,n){e.call(this,t,n);this.idPrefix=this.uniqueName+"_";var i=this.getTemplate().replace(new RegExp("~_","g"),this.idPrefix);i=Q.jsRender(i);this.element.html(i)}n.prototype.byId=function(t){return $("#"+this.idPrefix+t)};n.prototype.byID=function(e,n){return t.WX.getWidget(this.byId(e),n)};n.prototype.getTemplateName=function(){var e=function(t){var e=t.indexOf("$");if(e>=0){return t.substr(0,e)}return t};var i=ss.getInstanceType(this);var r=ss.getTypeFullName(i);var a=n.templateNames;var o=n.templateNames[r];if(o!=null){return o}while(i&&i!==t.Widget){var s=e(ss.getTypeFullName(i));for(var l=0,u=Q.Config.rootNamespaces;l<u.length;l++){var f=u[l];if(Q.startsWith(s,f+".")){s=s.substr(f.length+1);break}}if(Q.canLoadScriptData("Template."+s)){a[r]=s;return s}s=Q.replaceAll(s,".","_");if(Q.canLoadScriptData("Template."+s)||$("script#Template_"+s).length>0){a[r]=s;return s}s=e(ss.getTypeName(i));if(Q.canLoadScriptData("Template."+s)||$("script#Template_"+s).length>0){n.templateNames[r]=s;return s}i=ss.getBaseType(i)}a[r]=o=e(ss.getTypeName(ss.getInstanceType(this)));return o};n.prototype.getTemplate=function(){var t=this.getTemplateName();var e=$("script#Template_"+t);if(e.length>0){return e.html()}var n=Q.getTemplate(t);if(n==null){throw new Error(Q.format("Can't locate template for widget '{0}' with name '{1}'!",ss.getTypeName(ss.getInstanceType(this)),t))}return n};n.templateNames={};n=__decorate([t.Decorators.registerClass()],n);return n}(t.Widget);t.TemplatedWidget=e})(Serenity||(Serenity={}));var Serenity;(function(t){var e=function(){function t(){}return t}()})(Serenity||(Serenity={}));var Serenity;(function(t){var e=function(){function t(){}return t}()})(Serenity||(Serenity={}));var Serenity;(function(t){var e=function(){function t(){}return t}()})(Serenity||(Serenity={}));var Serenity;(function(t){var e=function(e){__extends(n,e);function n(n){e.call(this,Q.newBodyDiv(),n);this.isPanel=ss.getAttributes(ss.getInstanceType(this),t.PanelAttribute,true).length>0;if(!this.isPanel){this.initDialog()}this.initValidator();this.initTabs();this.initToolbar()}n.getCssSize=function(t,e){var n=t.css(e);if(n==null){return null}if(!Q.endsWith(n,"px")){return null}n=n.substr(0,n.length-2);var i=Q.parseInteger(n);if(i==null||isNaN(i)||i==0)return null;return i};n.applyCssSizes=function(t,e){var i;var r=$("<div/>").hide().addClass(e).appendTo(document.body);try{var a=$("<div/>").addClass("size").appendTo(r);i=n.getCssSize(a,"minWidth");if(i!=null)t.minWidth=i;i=n.getCssSize(a,"width");if(i!=null)t.width=i;i=n.getCssSize(a,"height");if(i!=null)t.height=i;i=n.getCssSize(a,"minHeight");if(i!=null)t.minHeight=i}finally{r.remove()}};n.prototype.destroy=function(){this.tabs&&this.tabs.tabs("destroy");this.tabs=null;this.toolbar&&this.toolbar.destroy();this.toolbar=null;this.validator&&this.byId("Form").remove();this.validator=null;!this.isPanel&&this.element.dialog("destroy");$(window).unbind("."+this.uniqueName);e.prototype.destroy.call(this)};n.prototype.initDialog=function(){var e=this;this.element.dialog(this.getDialogOptions());this.element.closest(".ui-dialog").on("resize",function(t){return e.arrange()});var n=ss.getInstanceType(this);this.responsive=Q.Config.responsiveDialogs||ss.getAttributes(n,t.ResponsiveAttribute,true).length>0;if(this.responsive){t.DialogExtensions.dialogResizable(this.element);$(window).bind("resize."+this.uniqueName,function(t){if(e.element&&e.element.is(":visible")){e.handleResponsive()}});this.element.closest(".ui-dialog").addClass("flex-layout")}else if(ss.getAttributes(n,t.FlexifyAttribute,true).length>0){t.DialogExtensions.dialogFlexify(this.element);t.DialogExtensions.dialogResizable(this.element)}if(ss.getAttributes(n,t.MaximizableAttribute,true).length>0){t.DialogExtensions.dialogMaximizable(this.element)}var i=this;this.element.bind("dialogopen."+this.uniqueName,function(){$(document.body).addClass("modal-dialog-open");if(e.responsive){e.handleResponsive()}i.onDialogOpen()});this.element.bind("dialogclose."+this.uniqueName,function(){$(document.body).toggleClass("modal-dialog-open",$(".ui-dialog:visible").length>0);i.onDialogClose()})};n.prototype.initToolbar=function(){var e=this.byId("Toolbar");if(e.length===0){return}var n=this.element.closest(".ui-dialog");if(n.length===0){n=this.element}var i={buttons:this.getToolbarButtons(),hotkeyContext:n[0]};this.toolbar=new t.Toolbar(e,i)};n.prototype.getToolbarButtons=function(){return[]};n.prototype.getValidatorOptions=function(){return{}};n.prototype.initValidator=function(){var t=this.byId("Form");if(t.length>0){var e=this.getValidatorOptions();this.validator=t.validate(Q.validateOptions(e))}};n.prototype.resetValidation=function(){this.validator&&this.validator.resetAll()};n.prototype.validateForm=function(){return this.validator==null||!!this.validator.form()};n.prototype.dialogOpen=function(){if(this.isPanel){return}this.element.dialog().dialog("open")};n.prototype.onDialogOpen=function(){$(":input:eq(0)",this.element).focus();this.arrange();this.tabs&&this.tabs.tabs("option","active",0)};n.prototype.arrange=function(){this.element.find(".require-layout").filter(":visible").each(function(t,e){$(e).triggerHandler("layout")})};n.prototype.onDialogClose=function(){var t=this;$(document).trigger("click");if($.qtip){$(document.body).children(".qtip").each(function(t,e){$(e).qtip("hide")})}window.setTimeout(function(){var e=t.element;t.destroy();e.remove();Q.positionToastContainer(false)},0)};n.prototype.addCssClass=function(){var n=ss.getInstanceType(this);if(ss.getAttributes(n,t.PanelAttribute,true).length>0){e.prototype.addCssClass.call(this)}};n.prototype.getDialogOptions=function(){var e={};var i="s-Dialog "+this.getCssClass();e.dialogClass=i;e.width=920;n.applyCssSizes(e,i);e.autoOpen=false;var r=ss.getInstanceType(this);e.resizable=ss.getAttributes(r,t.ResizableAttribute,true).length>0;e.modal=true;e.position={my:"center",at:"center",of:$(window.window)};return e};n.prototype.dialogClose=function(){if(this.isPanel){return}this.element.dialog().dialog("close")};Object.defineProperty(n.prototype,"dialogTitle",{get:function(){if(this.isPanel){return null}return this.element.dialog("option","title")},set:function(t){if(this.isPanel){return}this.element.dialog("option","title",t)},enumerable:true,configurable:true});n.prototype.set_dialogTitle=function(t){this.dialogTitle=t};n.prototype.initTabs=function(){var t=this;var e=this.byId("Tabs");if(e.length===0){return}this.tabs=e.tabs({});this.tabs.bind("tabsactivate",function(){return t.arrange()})};n.prototype.handleResponsive=function(){var t=this.element.dialog();var e=this.element.closest(".ui-dialog");if($(document.body).hasClass("mobile-device")){var n=this.element.data("responsiveData");if(!n){n={};n.draggable=t.dialog("option","draggable");n.resizable=t.dialog("option","resizable");var i=e.position();n.left=i.left;n.top=i.top;n.width=e.width();n.height=e.height();n.contentHeight=this.element.height();this.element.data("responsiveData",n);t.dialog("option","draggable",false);t.dialog("option","resizable",false)}e.addClass("mobile-layout");e.css({left:"0px",top:"0px",width:$(window).width()+"px",height:$(window).height()+"px"});$(document.body).scrollTop(0);Q.layoutFillHeight(this.element)}else{var r=this.element.data("responsiveData");if(r){t.dialog("option","draggable",r.draggable);t.dialog("option","resizable",r.resizable);this.element.closest(".ui-dialog").css({left:"0px",top:"0px",width:r.width+"px",height:r.height+"px"});this.element.height(r.contentHeight);e.removeClass("mobile-layout");this.element.removeData("responsiveData")}}};n=__decorate([t.Decorators.registerClass([t.IDialog])],n);return n}(t.TemplatedWidget);t.TemplatedDialog=e})(Serenity||(Serenity={}));var Serenity;(function(t){var e=function(e){__extends(n,e);function n(){var n=this;e.call(this);new t.QuickSearchInput(this.byId("Search"),{onSearch:function(t,e,i){e=Q.trimToNull(e);if(e!=null)e=Select2.util.stripDiacritics(e.toLowerCase());n.element.find("li").each(function(t,n){$(n).toggle(!e||Select2.util.stripDiacritics($(n).text().toLowerCase()).indexOf(e)>=0)})}});this.ulVisible=this.byId("VisibleCols");this.ulHidden=this.byId("HiddenCols")}n.createToolButton=function(e){return{hint:Q.text("Controls.ColumnPickerDialog.Title"),cssClass:"column-picker-button",onClick:function(){var n=new t.ColumnPickerDialog;n.allColumns=e.allColumns;if(e.initialSettings){var i=e.initialSettings;if(i.columns&&i.columns.length)n.defaultColumns=i.columns.map(function(t){return t.id})}n.visibleColumns=e.slickGrid.getColumns().map(function(t){return t.id});n.done=function(){e.allColumns=n.allColumns;var t=n.allColumns.filter(function(t){return t.visible===true});e.slickGrid.setColumns(t);e.persistSettings();e.refresh()};n.dialogOpen()}}};n.prototype.getDialogOptions=function(){var t=this;var n=e.prototype.getDialogOptions.call(this);n.title=Q.text("Controls.ColumnPickerDialog.Title");n.width=600;n.buttons=[{text:Q.text("Controls.ColumnPickerDialog.RestoreDefaults"),click:function(){var e={};t.ulVisible.children().add(t.ulHidden.children()).each(function(t,n){var i=$(n);e[i.data("key")]=i});var n=null;for(var i=0,r=t.defaultColumns;i<r.length;i++){var a=r[i];var o=e[a];if(!o)continue;if(n==null)o.prependTo(t.ulVisible);else o.insertAfter(n);n=o;var s=o.data("key");delete e[s]}for(var s in e)e[s].appendTo(t.ulHidden);t.updateListStates()}},{text:Q.text("Dialogs.OkButton"),click:function(){var e=[];for(var n=0,i=t.allColumns;n<i.length;n++){var r=i[n];r.visible=false}t.visibleColumns=t.ulVisible.children().toArray().map(function(n){var i=$(n).data("key");var r=t.colById[i];r.visible=true;e.push(r);return i});for(var a=0,o=t.allColumns;a<o.length;a++){var r=o[a];if(!r.visible)e.push(r)}t.allColumns=e;t.done&&t.done();t.dialogClose()}},{text:Q.text("Dialogs.CancelButton"),click:function(){t.dialogClose()}}];return n};n.prototype.getTitle=function(t){if(t.id=="__select__")return"[x]";return t.name||t.toolTip||t.id};n.prototype.createLI=function(t){return $('\n<li data-key="'+t.id+'">\n  <span class="drag-handle">☰</span>\n  '+Q.htmlEncode(this.getTitle(t))+'\n  <i class="js-hide" title="'+Q.text("Controls.ColumnPickerDialog.HideHint")+'">✖</i>\n  <i class="js-show icon-eye" title="'+Q.text("Controls.ColumnPickerDialog.ShowHint")+'"></i>\n</li>')};n.prototype.updateListStates=function(){this.ulVisible.children().removeClass("bg-info").addClass("bg-success");this.ulHidden.children().removeClass("bg-success").addClass("bg-info")};n.prototype.setupColumns=function(){var t=this;this.allColumns=this.allColumns||[];this.visibleColumns=this.visibleColumns||[];var e={};for(var n=0,i=this.visibleColumns;n<i.length;n++){var r=i[n];e[r]=true}this.colById={};for(var a=0,o=this.allColumns;a<o.length;a++){var s=o[a];this.colById[s.id]=s}if(this.defaultColumns==null)this.defaultColumns=this.visibleColumns.slice(0);var l=[];for(var u=0,f=this.allColumns;u<f.length;u++){var c=f[u];if(!e[c.id]&&(!c.sourceItem||c.sourceItem.filterOnly!==true&&(c.sourceItem.readPermission==null||Q.Authorization.hasPermission(c.sourceItem.readPermission)))){l.push(c)}}var d=l.sort(function(e,n){return Q.turkishLocaleCompare(t.getTitle(e),t.getTitle(n))});for(var g=0,p=this.visibleColumns;g<p.length;g++){var r=p[g];var h=this.colById[r];if(!h)continue;this.createLI(h).appendTo(this.ulVisible)}for(var v=0,m=d;v<m.length;v++){var y=m[v];this.createLI(y).appendTo(this.ulHidden)}this.updateListStates();if(typeof Sortable!=="undefined"&&Sortable.create){Sortable.create(this.ulVisible[0],{group:this.uniqueName+"_group",filter:".js-hide",onFilter:function(e){$(e.item).appendTo(t.ulHidden);t.updateListStates()},onEnd:function(e){return t.updateListStates()}});Sortable.create(this.ulHidden[0],{group:this.uniqueName+"_group",sort:false,filter:".js-show",onFilter:function(e){$(e.item).appendTo(t.ulVisible);t.updateListStates()},onEnd:function(e){return t.updateListStates()}})}};n.prototype.onDialogOpen=function(){e.prototype.onDialogOpen.call(this);this.element.find("input").removeAttr("disabled");this.element.closest(".ui-dialog").children(".ui-dialog-buttonpane").find("button").eq(0).addClass("restore-defaults").next().focus();this.setupColumns();Q.centerDialog(this.element)};n.prototype.getTemplate=function(){return'\n<div class="search"><input id="~_Search" type="text" disabled /></div>\n<div class="columns-container">\n<div class="column-list visible-list bg-success">\n  <h5><i class="icon-eye"></i> '+Q.text("Controls.ColumnPickerDialog.VisibleColumns")+'</h5>\n  <ul id="~_VisibleCols"></ul>\n</div>\n<div class="column-list hidden-list bg-info">\n  <h5><i class="icon-list"></i> '+Q.text("Controls.ColumnPickerDialog.HiddenColumns")+'</h5>\n  <ul id="~_HiddenCols"></ul>\n</div>\n</div>'};n=__decorate([t.Decorators.registerClass(),t.Decorators.resizable(),t.Decorators.responsive()],n);return n}(t.TemplatedDialog);t.ColumnPickerDialog=e})(Serenity||(Serenity={}));var Serenity;(function(t){var e=function(){function e(n){this.options=n;var i=this.dataGrid=n.grid;var r=i.getIdProperty();var a=this.getId=function(t){return t[r]};i.element.find(".grid-container").on("click",function(e){if($(e.target).hasClass("s-TreeToggle")){var n=i.slickGrid.getCellFromEvent(e);if(n.cell>=0&&n.row>=0){t.SlickTreeHelper.toggleClick(e,n.row,n.row,i.view,a)}}});var o=i.onViewFilter;i.onViewFilter=function(e){if(!o.apply(this,[e]))return false;return t.SlickTreeHelper.filterById(e,i.view,n.getParentId)};var s=i.onViewProcessData;i.onViewProcessData=function(i){i=s.apply(this,[i]);i.Entities=e.applyTreeOrdering(i.Entities,a,n.getParentId);t.SlickTreeHelper.setIndents(i.Entities,a,n.getParentId,n.initialCollapse&&n.initialCollapse()||false);return i};if(n.toggleField){var l=Q.first(i.getGrid().getColumns(),function(t){return t.field==n.toggleField});l.format=t.SlickFormatting.treeToggle(function(){return i.view},a,l.format||function(t){return Q.htmlEncode(t.value)});l.formatter=t.SlickHelper.convertToFormatter(l.format)}}e.prototype.toggleAll=function(){t.SlickTreeHelper.setCollapsed(this.dataGrid.view.getItems(),!this.dataGrid.view.getItems().every(function(t){return t._collapsed==true}));this.dataGrid.view.setItems(this.dataGrid.view.getItems(),true)};e.applyTreeOrdering=function(t,e,n){var i=[];var r=Q.toGrouping(t,e);var a=Q.toGrouping(t,n);var o={};function s(t){if(o[t])return;o[t]=true;for(var n=0,r=a[t]||[];n<r.length;n++){var l=r[n];i.push(l);s(e(l))}}for(var l=0,u=t;l<u.length;l++){var f=u[l];var c=n(f);if(c==null||!(r[c]||[]).length){i.push(f);s(e(f))}}return i};return e}();t.TreeGridMixin=e})(Serenity||(Serenity={}));if($.fn.button&&$.fn.button.noConflict){var btn=$.fn.button.noConflict();$.fn.btn=btn}$.fn.flexHeightOnly=function(t){if(t===void 0){t=1}return this.flexWidthHeight(0,t)};$.fn.flexWidthOnly=function(t){if(t===void 0){t=1}return this.flexWidthHeight(t,0)};$.fn.flexWidthHeight=function(t,e){if(t===void 0){t=1}if(e===void 0){e=1}return this.addClass("flexify").data("flex-x",t).data("flex-y",e)};$.fn.flexX=function(t){return this.data("flex-x",t)};$.fn.flexY=function(t){return this.data("flex-y",t)};if($.fn.button&&$.fn.button.noConflict){var btn=$.fn.button.noConflict();$.fn.btn=btn}(function(t){t.widget("ui.slickPager",{options:{view:null,showRowsPerPage:true,rowsPerPageOptions:[20,100,500,2e3],onRpChange:null},_create:function(){var e=this;var n=e.options;var i=n.view;if(!i)throw"SlickPager requires view option to be set!";this.element.addClass("s-SlickPager slick-pg").html('<div class="slick-pg-in">'+'<div class="slick-pg-grp">'+'<div class="slick-pg-first slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'<div class="slick-pg-prev slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'</div><div class="slick-pg-sep"></div><div class="slick-pg-grp">'+'<span class="slick-pg-control">&nbsp;'+Q.text("Controls.Pager.Page")+'&nbsp;<input class="slick-pg-current" type="text" size="4" value="1" /> / '+'<span class="slick-pg-total"> 1 </span></span>'+'</div><div class="slick-pg-sep"></div><div class="slick-pg-grp">'+'<div class="slick-pg-next slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'<div class="slick-pg-last slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'</div><div class="slick-pg-sep"></div><div class="slick-pg-grp">'+'<div class="slick-pg-reload slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'</div><div class="slick-pg-sep"></div>'+'<div class="slick-pg-grp"><span class="slick-pg-stat"></span></div></div>');t(".slick-pg-reload",this.element).click(function(){i.populate()});t(".slick-pg-first",this.element).click(function(){e._changePage("first")});t(".slick-pg-prev",this.element).click(function(){e._changePage("prev")});t(".slick-pg-next",this.element).click(function(){e._changePage("next")});t(".slick-pg-last",this.element).click(function(){e._changePage("last")});t(".slick-pg-current",this.element).keydown(function(t){if(t.keyCode==13)e._changePage("input")});if(e.options.showRowsPerPage){var r,a="";for(var o=0;o<n.rowsPerPageOptions.length;o++){if(i.rowsPerPage==n.rowsPerPageOptions[o])a='selected="selected"';else a="";r+="<option value='"+n.rowsPerPageOptions[o]+"' "+a+" >"+n.rowsPerPageOptions[o]+"&nbsp;&nbsp;</option>"}t(".slick-pg-in",this.element).prepend('<div class="slick-pg-grp"><select class="slick-pg-size" name="rp">'+r+'</select></div><div class="slick-pg-sep"></div>');t("select.slick-pg-size",this.element).change(function(){if(n.onRowsPerPageChange)n.onRowsPerPageChange(+this.value);else{i.newp=1;i.setPagingOptions({page:1,rowsPerPage:+this.value})}})}i.onPagingInfoChanged.subscribe(function(){e._updatePager()})},destroy:function(){t.Widget.prototype.destroy.apply(this,arguments)},_changePage:function(e){var n=this.options.view;if(!n||n.loading)return true;var i=n.getPagingInfo();var r=!i.rowsPerPage||!i.totalCount?1:Math.ceil(i.totalCount/i.rowsPerPage);var a;switch(e){case"first":a=1;break;case"prev":if(i.page>1)a=parseInt(i.page)-1;break;case"next":if(i.page<r)a=parseInt(i.page)+1;break;case"last":a=r;break;case"input":var o=parseInt(t("input.slick-pg-current",this.element).val());if(isNaN(o))o=1;else if(o<1)o=1;else if(o>r)o=r;t(".slick-pg-current",this.element).val(o);a=o;break}if(a==i.page)return false;if(this.options.onChangePage)this.options.onChangePage(a);else{n.setPagingOptions({page:a})}},_updatePager:function(){var e=this.options.view;var n=e.getPagingInfo();var i=!n.rowsPerPage||!n.totalCount?1:Math.ceil(n.totalCount/n.rowsPerPage);t(".slick-pg-current",this.element).val(n.page);t(".slick-pg-total",this.element).html(i);var r=(n.page-1)*n.rowsPerPage+1;var a=r+n.rowsPerPage-1;if(n.totalCount<a)a=n.totalCount;var o;if(n.loading){o=Q.text("Controls.Pager.LoadingStatus")}else if(n.error){o=n.error}else if(n.totalCount>0){o=Q.text("Controls.Pager.PageStatus");o=o.replace(/{from}/,r);o=o.replace(/{to}/,a);o=o.replace(/{total}/,n.totalCount)}else o=Q.text("Controls.Pager.NoRowStatus");t(".slick-pg-stat",this.element).html(o);t(".slick-pg-size",this.element).val((n.rowsPerPage||0).toString())},_setOption:function(e,n){t.Widget.prototype._setOption.apply(this,arguments)}})})(jQuery);var Slick;(function(t){var e;(function(t){var e})(e=t.Data||(t.Data={}))})(Slick||(Slick={}));var Slick;(function(t){var e=function(){function e(e){var n=this;var i={groupItemMetadataProvider:null,inlineFilters:false};var r;var a=[];var o=[];var s={};var l=null;var u=null;var f=null;var c=0;var d=true;var g;var p;var h={};var v={};var m;var y=[];var b;var w;var C=[];var _={getter:null,formatter:null,comparer:function(t,e){return t.value===e.value?0:t.value>e.value?1:-1},predefinedValues:[],aggregateEmpty:false,aggregateCollapsed:false,aggregateChildGroups:false,collapsed:false,displayTotalsRow:true,lazyTotalsCalculation:false};var x={};var S=[];var T=[];var P=[];var k=":|:";var A=1;var I=0;var D=new t.Event;var N=new t.Event;var O=new t.Event;var E=false;var F=null;var M=0;var R=0;var H;var z;var j=null;var L=new t.Event;var V=new t.Event;var B=new t.Event;var W=new t.Event;var U;function G(){c++}function q(){c--;if(c<=0)Ke()}function K(t){h=t}function Z(t){m=t}function J(t){t=t||0;var e;for(var n=t,i=a.length;n<i;n++){e=a[n][r];if(e===undefined){var o="Each data element must implement a unique '"+r+"' property. Object at index '"+n+"' "+"has no identity value: ";o+=$.toJSON(a[n]);throw o}s[e]=n}}function Y(){var t;for(var e=0,n=a.length;e<n;e++){t=a[e][r];if(t===undefined||s[t]!==e){var i="Each data element must implement a unique '"+r+"' property. Object at index '"+e+"' ";if(t==undefined)i+="has no identity value: ";else i+="has repeated identity value '"+t+"': ";i+=$.toJSON(a[e]);throw i}}}function X(){return a}function te(t){a=y=t;s={};l=null;x.totals={};J();Y();if(c){qe(a)}else{Ke()}L.notify({dataView:n},null,n)}function ee(t){var e=false;if(t.rowsPerPage!=undefined&&U.rowsPerPage!=t.rowsPerPage){U.rowsPerPage=t.rowsPerPage;e=true}if(t.page!=undefined){var n;if(!U.rowsPerPage)n=1;else if(j==null)n=t.page;else n=Math.min(t.page,Math.ceil(j/U.rowsPerPage)+1);if(n<1)n=1;if(n!=A){U.seekToPage=n;e=true}}if(e)Xe()}function ne(){return{rowsPerPage:U.rowsPerPage,page:A,totalCount:j,loading:E,error:F,dataView:n}}function ie(t,e){d=e;p=t;g=null;if(e===false){a.reverse()}a.sort(t);if(e===false){a.reverse()}s={};J();Ke()}function re(t,e){d=e;g=t;p=null;var n=Object.prototype.toString;Object.prototype.toString=typeof t==="function"?t:function(){return this[t]};if(e===false){a.reverse()}a.sort();Object.prototype.toString=n;if(e===false){a.reverse()}s={};J();Ke()}function ae(){if(p){ie(p,d)}else if(g){re(g,d)}}function oe(t){u=t;if(e.inlineFilters){b=Le();w=Ve()}Ke()}function se(){return S}function le(t){t=t||{};x.aggregators=t.aggregators||[];x.compiledAccumulators=[];x.totals={};var e=x.aggregators.length;while(e--){x.compiledAccumulators[e]=je(x.aggregators[e])}fe(S||[])}function ue(){x.totals=x.totals||{};if(!x.totals.initialized){x.aggregators=x.aggregators||[];x.compiledAccumulators=x.compiledAccumulators||[];var t,e=x.aggregators.length;while(e--){t=x.aggregators[e];t.init();x.compiledAccumulators[e].call(t,a);t.storeResult(x.totals)}x.totals.initialized=true}return x.totals}function fe(n){if(!e.groupItemMetadataProvider){e.groupItemMetadataProvider=new t.Data.GroupItemMetadataProvider}T=[];P=[];n=n||[];S=n instanceof Array?n:[n];for(var i=0;i<S.length;i++){var r=S[i]=$.extend(true,{},_,S[i]);r.aggregators=r.aggregators||x.aggregators||[];r.getterIsAFn=typeof r.getter==="function";r.compiledAccumulators=[];var a=r.aggregators.length;while(a--){r.compiledAccumulators[a]=je(r.aggregators[a])}P[i]={}}Ke()}function ce(t){return a[t]}function de(t){return s[t]}function ge(){if(!l){l={};for(var t=0,e=o.length;t<e;t++){l[o[t][r]]=t}}}function pe(t){ge();return l[t]}function he(t){return a[s[t]]}function ve(t){var e=[];ge();for(var n=0,i=t.length;n<i;n++){var r=l[t[n]];if(r!=null){e[e.length]=r}}return e}function me(t){var e=[];for(var n=0,i=t.length;n<i;n++){if(t[n]<o.length){e[e.length]=o[t[n]][r]}}return e}function ye(t,e){if(s[t]===undefined||t!==e[r]){throw"Invalid or non-matching id"}a[s[t]]=e;if(!f){f={}}f[t]=true;Ke()}function be(t,e){a.splice(t,0,e);J(t);Ke()}function we(t){a.push(t);J(a.length-1);Ke()}function Ce(t){var e=s[t];if(e===undefined){throw"Invalid id"}delete s[t];a.splice(e,1);J(e);Ke()}function _e(){return o}function xe(){return o.length}function $e(t){var e=o[t];if(e&&e.__group&&e.totals&&!e.totals.initialized){var n=S[e.level];if(!n.displayTotalsRow){Fe(e.totals);e.title=n.formatter?n.formatter(e):e.value}}else if(e&&e.__groupTotals&&!e.initialized){Fe(e)}return e}function Se(t){var n=o[t];if(n===undefined){return null}if(n.__group){return e.groupItemMetadataProvider.getGroupRowMetadata(n)}if(n.__groupTotals){return e.groupItemMetadataProvider.getTotalsRowMetadata(n)}return e.getItemMetadata&&e.getItemMetadata(n,t)||null}function Te(t,e){if(t==null){for(var n=0;n<S.length;n++){P[n]={};S[n].collapsed=e}}else{P[t]={};S[t].collapsed=e}Ke()}function Pe(t){Te(t,true)}function ke(t){Te(t,false)}function Ae(t){var e=t[0];if(t.length===1&&e.indexOf(k)!==-1){return{level:e.split(k).length-1,groupingKey:e}}else{return{level:t.length-1,groupingKey:t.join(k)}}}function Ie(t,e){var n=Ae(t);P[n.level][n.groupingKey]=S[n.level].collapsed^e;Ke()}function De(t){var e=Array.prototype.slice.call(arguments);Ie(e,true)}function Ne(t){var e=Array.prototype.slice.call(arguments);Ie(e,false)}function Oe(){return T}function Qe(e,n,i,r,a){var o=e[n];if(!o){o=new t.Group;o.value=n;o.level=i;o.groupingKey=(r?r.groupingKey+k:"")+n;a[a.length]=o;e[n]=o}return o}function Ee(t,e){var n;var i;var r=[];var a={};var o;var s=e?e.level+1:0;var l=S[s];for(var u=0,f=l.predefinedValues.length;u<f;u++){i=l.predefinedValues[u];n=Qe(a,i,s,e,r)}for(var u=0,f=t.length;u<f;u++){o=t[u];i=l.getterIsAFn?l.getter(o):o[l.getter];n=Qe(a,i,s,e,r);n.rows[n.count++]=o}if(s<S.length-1){for(var u=0;u<r.length;u++){n=r[u];n.groups=Ee(n.rows,n)}}r.sort(S[s].comparer);return r}function Fe(t){var e=t.group;
var n=S[e.level];var i=e.level==S.length;var r,a=n.aggregators.length;if(!i&&n.aggregateChildGroups){var o=e.groups.length;while(o--){if(!e.groups[o].totals.initialized){Fe(e.groups[o].totals)}}}while(a--){r=n.aggregators[a];r.init();if(!i&&n.aggregateChildGroups){n.compiledAccumulators[a].call(r,e.groups)}else{n.compiledAccumulators[a].call(r,e.rows)}r.storeResult(t)}t.initialized=true}function Me(e){var n=S[e.level];var i=new t.GroupTotals;i.group=e;e.totals=i;if(!n.lazyTotalsCalculation){Fe(i)}}function Re(t,e){e=e||0;var n=S[e];var i=n.collapsed;var r=P[e];var a=t.length,o;while(a--){o=t[a];if(o.collapsed&&!n.aggregateCollapsed){continue}if(o.groups){Re(o.groups,e+1)}if(n.aggregators.length&&(n.aggregateEmpty||o.rows.length||o.groups&&o.groups.length)){Me(o)}o.collapsed=i^r[o.groupingKey];o.title=n.formatter?n.formatter(o):o.value}}function He(t,e){e=e||0;var n=S[e];var i=[],r,a=0,o;for(var s=0,l=t.length;s<l;s++){o=t[s];i[a++]=o;if(!o.collapsed){r=o.groups?He(o.groups,e+1):o.rows;for(var u=0,f=r.length;u<f;u++){i[a++]=r[u]}}if(o.totals&&n.displayTotalsRow&&(!o.collapsed||n.aggregateCollapsed)){i[a++]=o.totals}}return i}function ze(t){var e=/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/;var n=t.toString().match(e);return{params:n[1].split(","),body:n[2]}}function je(t){var e=ze(t.accumulate);var n=new Function("_items","for (var "+e.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+e.params[0]+" = _items[_i]; "+e.body+"}");n.displayName=n.name="compiledAccumulatorLoop";return n}function Le(){var t=ze(u);var e=t.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2");var n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,e);n=n.replace(/\$item\$/gi,t.params[0]);n=n.replace(/\$args\$/gi,t.params[1]);var i=new Function("_items,_args",n);i.displayName=i.name="compiledFilter";return i}function Ve(){var t=ze(u);var e=t.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2");var n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,e);n=n.replace(/\$item\$/gi,t.params[0]);n=n.replace(/\$args\$/gi,t.params[1]);var i=new Function("_items,_args,_cache",n);i.displayName=i.name="compiledFilterWithCaching";return i}function Be(t,e){var n=[],i=0;for(var r=0,a=t.length;r<a;r++){if(u(t[r],e)){n[i++]=t[r]}}return n}function We(t,e,n){var i=[],r=0,a;for(var o=0,s=t.length;o<s;o++){a=t[o];if(n[o]){i[r++]=a}else if(u(a,e)){i[r++]=a;n[o]=true}}return i}function Ue(t){if(u){var n=e.inlineFilters?b:Be;var i=e.inlineFilters?w:We;if(h.isFilterNarrowing){y=n(y,m)}else if(h.isFilterExpanding){y=i(t,m,C)}else if(!h.isFilterUnchanged){y=n(t,m)}}else{y=t.concat()}return{totalRows:y.length,rows:y}}function Ge(t,e){var n,i,a,o=[];var s=0,l=e.length;if(h&&h.ignoreDiffsBefore){s=Math.max(0,Math.min(e.length,h.ignoreDiffsBefore))}if(h&&h.ignoreDiffsAfter){l=Math.min(e.length,Math.max(0,h.ignoreDiffsAfter))}for(var u=s,c=t.length;u<l;u++){if(u>=c){o[o.length]=u}else{n=e[u];i=t[u];if(S.length&&(a=n.__nonDataRow||i.__nonDataRow)&&n.__group!==i.__group||n.__group&&!n.equals(i)||a&&(n.__groupTotals||i.__groupTotals)||n[r]!=i[r]||f&&f[n[r]]){o[o.length]=u}}}return o}function qe(t){l=null;if(h.isFilterNarrowing!=v.isFilterNarrowing||h.isFilterExpanding!=v.isFilterExpanding){C=[]}var e=Ue(t);I=e.totalRows;var n=e.rows;x.totals={};T=[];if(S.length){T=Ee(n);if(T.length){Re(T);n=He(T)}}var i=Ge(o,n);o=n;return i}function Ke(){if(c){return}var t=o.length;var e=I;var i=qe(a);f=null;v=h;h={};if(e!==I){O.notify(ne(),null,n)}if(t!==o.length){D.notify({previous:t,current:o.length,dataView:n},null,n)}if(i.length>0){N.notify({rows:i,dataView:n},null,n)}}function Ze(e,n,i){var r=this;var a;var o=r.mapRowsToIds(e.getSelectedRows());var s=new t.Event;function l(n){if(o.join(",")==n.join(",")){return}o=n;s.notify({grid:e,ids:o,dataView:r},new t.EventData,r)}function u(){if(o.length>0){a=true;var t=r.mapIdsToRows(o);if(!n){l(r.mapRowsToIds(t))}e.setSelectedRows(t);a=false}}e.onSelectedRowsChanged.subscribe(function(t,n){if(a){return}var s=r.mapRowsToIds(e.getSelectedRows());if(!i||!e.getOptions().multiSelect){l(s)}else{var u=$.grep(o,function(t){return r.getRowById(t)===undefined});l(u.concat(s))}});this.onRowsChanged.subscribe(u);this.onRowCountChanged.subscribe(u);return s}function Je(t,e){var n;var i;a(t.getCellCssStyles(e));function a(t){n={};for(var e in t){var i=o[e][r];n[i]=t[e]}}function s(){if(n){i=true;ge();var r={};for(var a in n){var o=l[a];if(o!=undefined){r[o]=n[a]}}t.setCellCssStyles(e,r);i=false}}t.onCellCssStylesChanged.subscribe(function(t,n){if(i){return}if(e!=n.key){return}if(n.hash){a(n.hash)}});this.onRowsChanged.subscribe(s);this.onRowCountChanged.subscribe(s)}function Ye(t){if(U.onProcessData&&t)t=U.onProcessData(t,U)||t;F=null;E&&E.abort();E=false;if(!t){F=U.errormsg;O.notify(ne());return false}var e=t;t.TotalCount=t.TotalCount||0;t.Entities=t.Entities||[];if(!t.Skip||!U.rowsPerPage&&!t.Take)t.Page=1;else t.Page=Math.ceil(t.Skip/(t.Take||U.rowsPerPage))+1;A=t.Page;j=t.TotalCount;te(t.Entities);O.notify(ne())}function Xe(){if(M>0){R++;return}R=0;E&&E.abort();if(U.onSubmit){var t=U.onSubmit(U);if(t===false)return false}V.notify(this);if(!U.url)return false;if(!U.seekToPage)U.seekToPage=1;var e={};var n=(U.seekToPage-1)*U.rowsPerPage;if(n)e.Skip=n;if(U.rowsPerPage)e.Take=U.rowsPerPage;if(U.sortBy&&U.sortBy.length){if($.isArray(U.sortBy))e.Sort=U.sortBy;else{e.Sort=[U.sortBy]}}if(U.params){e=$.extend(e,U.params)}var i=z;var r=this;var a={cache:false,type:U.method,contentType:H,url:U.url,data:e,dataType:i,success:function(t){E=false;if(t.Error)Q.notifyError(t.Error.Message||t.Error.Code);else Ye(t);B.notify(this)},error:function(t,e,n){E=false;if((t.getResponseHeader("content-type")||"").toLowerCase().indexOf("application/json")>=0){var i=$.parseJSON(t.responseText);if(i!=null&&i.Error!=null){Q.notifyError(i.Error.Message||i.Error.Code);O.notify(ne());B.notify(this);return}}F=t.errormsg;O.notify(ne());B.notify(this)},complete:function(){E=false}};if(U.onAjaxCall){var o=U.onAjaxCall(this,a);if(o===false){E=false;O.notify(ne());return false}}a.data=$.toJSON(a.data);O.notify(ne());E=$.ajax(a)}function tn(){if(M==0)R=0;M++}function en(){if(M>0){M--;if(M==0&&R>0)Xe()}}U={beginUpdate:G,endUpdate:q,setPagingOptions:ee,getPagingInfo:ne,getRows:_e,getItems:X,setItems:te,setFilter:oe,sort:ie,fastSort:re,reSort:ae,setSummaryOptions:le,getGrandTotals:ue,setGrouping:fe,getGrouping:se,collapseAllGroups:Pe,expandAllGroups:ke,collapseGroup:De,expandGroup:Ne,getGroups:Oe,getIdxById:de,getRowById:pe,getItemById:he,getItemByIdx:ce,mapRowsToIds:me,mapIdsToRows:ve,setRefreshHints:K,setFilterArgs:Z,refresh:Ke,updateItem:ye,insertItem:be,addItem:we,deleteItem:Ce,syncGridSelection:Ze,syncGridCellCssStyles:Je,getLength:xe,getItem:$e,getItemMetadata:Se,onRowCountChanged:D,onRowsChanged:N,onPagingInfoChanged:O,addData:Ye,populate:Xe,populateLock:tn,populateUnlock:en,onDataChanged:L,onDataLoaded:B,onDataLoading:V};r=e.idField||"id";H=e.contentType||"application/json";z=e.dataType||"json";u=e.filter||null;U.params=e.params||{};U.onSubmit=e.onSubmit||null;U.url=e.url||null;U.rowsPerPage=e.rowsPerPage||0;U.seekToPage=e.seekToPage||1;U.onAjaxCall=e.onAjaxCall||null;U.onProcessData=e.onProcessData||null;U.method=e.method||"POST";U.errormsg=U.errormsg||Q.text("Controls.Pager.DefaultLoadError");U.sortBy=e.sortBy||[];U.idField=r;if(e.url&&e.autoLoad){Xe()}return U}return e}();t.RemoteView=e})(Slick||(Slick={}));var Slick;(function(t){var e;(function(t){function e(t){this.field_=t;this.init=function(){this.count_=0;this.nonNullCount_=0;this.sum_=0};this.accumulate=function(t){var e=t[this.field_];this.count_++;if(e!=null&&e!==""&&!isNaN(e)){this.nonNullCount_++;this.sum_+=parseFloat(e)}};this.storeResult=function(t){if(!t.avg){t.avg={}}if(this.nonNullCount_!=0){t.avg[this.field_]=this.sum_/this.nonNullCount_}}}t.Avg=e;function n(t,e){this.field_=t;this.weightedField_=e;this.init=function(){this.sum_=0;this.weightedSum_=0};this.accumulate=function(t){var e=t[this.field_];var n=t[this.weightedField_];if(this.isValid(e)&&this.isValid(n)){this.weightedSum_+=parseFloat(n);this.sum_+=parseFloat(e)*parseFloat(n)}};this.storeResult=function(t){if(!t.avg){t.avg={}}if(this.sum_&&this.weightedSum_){t.avg[this.field_]=this.sum_/this.weightedSum_}};this.isValid=function(t){return t!==null&&t!==""&&!isNaN(t)}}t.WeightedAvg=n;function i(t){this.field_=t;this.init=function(){this.min_=null};this.accumulate=function(t){var e=t[this.field_];if(e!=null&&e!==""&&!isNaN(e)){if(this.min_==null||e<this.min_){this.min_=e}}};this.storeResult=function(t){if(!t.min){t.min={}}t.min[this.field_]=this.min_}}t.Min=i;function r(t){this.field_=t;this.init=function(){this.max_=null};this.accumulate=function(t){var e=t[this.field_];if(e!=null&&e!==""&&!isNaN(e)){if(this.max_==null||e>this.max_){this.max_=e}}};this.storeResult=function(t){if(!t.max){t.max={}}t.max[this.field_]=this.max_}}t.Max=r;function a(t){this.field_=t;this.init=function(){this.sum_=null};this.accumulate=function(t){var e=t[this.field_];if(e!=null&&e!==""&&!isNaN(e)){this.sum_+=parseFloat(e)}};this.storeResult=function(t){if(!t.sum){t.sum={}}t.sum[this.field_]=this.sum_}}t.Sum=a})(e=t.Aggregators||(t.Aggregators={}))})(Slick||(Slick={}));var Q;(function(t){var e;function n(t,n){e.call(this,t,n);this.errorsFor(t).each(function(e,n){if($(t).hasClass("error"))$(n).removeClass("checked");$(n).attr("title",$(n).text())})}function i(){if($.validator.methods["customValidate"]==null){$.validator.addMethod("customValidate",function(t,e){var n=this.optional(e);if(e==null||!!n){return n}var i=$._data(e,"events");if(!i){return true}var r=i.customValidate;if(r==null||r.length===0){return true}var a=$(e);for(var o=0;!!(o<r.length);o++){var s=ss.safeCast(r[o].handler,Function);if(s){var l=s(a);if(l!=null){a.data("customValidationMessage",l);return false}}}return true},function(t,e){return $(e).data("customValidationMessage")})}}function r(){i();var r=$.validator;r=r.prototype;e=r.showLabel;r.showLabel=n;$.validator.addMethod("dateQ",function(e,n){var i=this.optional(n);if(i)return i;var r=t.parseDate(e);if(!r)return false;var a=new Date(r);a.setHours(0,0,0,0);return a.getTime()===r.getTime()});$.validator.addMethod("hourAndMin",function(e,n){return this.optional(n)||!isNaN(t.parseHourAndMin(e))});$.validator.addMethod("dayHourAndMin",function(e,n){return this.optional(n)||!isNaN(t.parseDayHourAndMin(e))});$.validator.addMethod("decimalQ",function(e,n){return this.optional(n)||!isNaN(t.parseDecimal(e))});$.validator.addMethod("integerQ",function(e,n){return this.optional(n)||!isNaN(t.parseInteger(e))});var a=$.validator.methods["email"];$.validator.addMethod("email",function(e,n){if(!t.Config.emailAllowOnlyAscii)return a.call(this,e,n);return this.optional(n)||/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)});$.validator.addMethod("emailMultiple",function(t,e){var n=this.optional(e);if(n)return n;if(t.indexOf(";")>=0)t=t.split(";");else t=t.split(",");for(var i=0;i<t.length;i++){n=$.validator.methods["email"].call(this,t[i],e);if(!n)return n}return n});$.validator.addMethod("anyvalue",function(t,e){return true});var o=$.validator.defaults;o.ignoreTitle=true;o.onchange=function(t){this.element(t)};r.oldinit=r.init;r.init=function(){r.oldinit.call(this);function t(t){if(this.form==null)return;var e=$.data(this.form,"validator"),n="on"+t.type.replace(/^validate/,"");e&&e.settings[n]&&e.settings[n].call(e,this)}function e(e){var n=this[0];if(!$.data(n,"changebound")){$(n).change(t);$.data(n,"changebound",true)}}$(this.currentForm).on(":text, :password, :file, select, textarea","focusin.validate",e)};r.oldfocusInvalid=r.focusInvalid;r.focusInvalid=function(){if(this.settings.abortHandler)this.settings.abortHandler(this);this.oldfocusInvalid.call(this)};r.oldstopRequest=r.focusInvalid;r.stopRequest=function(t,e){var n=this.formSubmitted;this.oldfocusInvalid.call(this,[t,e]);if(!e&&this.pendingRequest==0&&n&&this.settings.abortHandler){this.settings.abortHandler(this)}};r.resetAll=function(){this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)};jQuery(function(){$.extend($.validator.messages,{email:t.text("Validation.Email"),required:t.text("Validation.Required"),minlength:t.text("Validation.MinLength"),maxlength:t.text("Validation.MaxLength"),digits:t.text("Validation.Digits"),range:t.text("Validation.Range"),xss:t.text("Validation.Xss"),dateQ:t.text("Validation.DateInvalid"),decimalQ:t.text("Validation.Decimal"),integerQ:t.text("Validation.Integer"),url:t.text("Validation.Url")})})}function a(t){t.settings.abortHandler=null;t.settings.submitHandler=function(){return false}}t.validatorAbortHandler=a;function o(e){return $.extend({ignore:":hidden",meta:"v",errorClass:"error",errorPlacement:function(t,e){var n=null;var i=e.attr("data-vx-id");if(i){n=$("#"+i);if(!n.length)n=null;else n=n[0]}if(n==null){n=e.parents("div.field");if(n.length){var r=$("div.vx",n[0]);if(r.length)n=r[0]}else n=e.parent()}t.appendTo(n)},submitHandler:function(){return false},invalidHandler:function(e,n){t.notifyError(t.text("Validation.InvalidFormMessage"));$(n.errorList.map(function(t){return t.element})).closest(".category.collapsed").children(".category-title").each(function(t,e){return $(e).click()})},success:function(t){t.addClass("checked")}},e)}t.validateOptions=o;if(window["jQuery"]&&window["jQuery"]["validator"])r();else if(window["jQuery"]){jQuery(function(t){if(t.validator)r()})}function s(){var e=t.Culture.dateOrder;var n=t.Culture.dateSeparator;var i=($("html").attr("lang")||"en").toLowerCase();if(!$.datepicker.regional[i]){i=i.split("-")[0];if(!$.datepicker.regional[i]){i="en"}}$.datepicker.setDefaults($.datepicker.regional["en"]);$.datepicker.setDefaults($.datepicker.regional[i]);$.datepicker.setDefaults({dateFormat:e=="mdy"?"mm"+n+"dd"+n+"yy":e=="ymd"?"yy"+n+"mm"+n+"dd":"dd"+n+"mm"+n+"yy",buttonImage:t.resolveUrl("~/content/serenity/images/datepicker.png"),buttonImageOnly:true,showOn:"both",showButtonPanel:true,changeMonth:true,changeYear:true})}if(window["jQuery"]&&window["jQuery"]["datepicker"]&&window["jQuery"]["datepicker"]["regional"]&&window["jQuery"]["datepicker"]["regional"]["en"]){s()}else{jQuery(function(t){if(t.datepicker)s()})}function l(){$.ui.dialog.prototype._allowInteraction=function(t){if($(t.target).closest(".ui-dialog").length){return true}return!!$(t.target).closest(".ui-datepicker, .select2-drop, .cke, .cke_dialog, #support-modal").length}}if(window["jQuery"]&&window["jQuery"]["ui"]){l()}else{jQuery(function(t){if(window["jQuery"]["ui"])l()})}function u(){ss.Exception.prototype.toString=function(){return this.get_message()}}if(ss&&ss.Exception)u();else{jQuery(function(t){if(ss&&ss.Exception)u()})}})(Q||(Q={}));



(function(){"use strict";var e={};global.Serenity=global.Serenity||{};global.Serenity.Reporting=global.Serenity.Reporting||{};global.System=global.System||{};global.System.ComponentModel=global.System.ComponentModel||{};ss.initAssembly(e,"Serenity.Script.UI");var t=function(e,t){Ti.call(this,e,null);var i=ss.getEnumerator(t);try{while(i.moveNext()){var s=i.current();var n=s.name;var r=Q.tryGetText(s.title);if(ss.isNullOrUndefined(r)){var a=s.title;if(ss.isNullOrUndefined(a)){a=s.name}r=a}this.addOption(n,r,s,false)}}finally{i.dispose()}};t.__typeName="Serenity.$FilterPanel$FieldSelect";var i=function(e,t){Ti.call(this,e,null);var i=ss.getEnumerator(t);try{while(i.moveNext()){var s=i.current();var n=s.title;if(ss.isNullOrUndefined(n)){var r=Q.tryGetText("Controls.FilterPanel.OperatorNames."+s.key);if(ss.isNullOrUndefined(r)){r=s.key}n=r}var a=n;this.addOption(s.key,a,s,false)}}finally{i.dispose()}var l=Enumerable.from(t).firstOrDefault(null,ss.getDefaultValue(Object));if(ss.isValue(l)){this.set_value(l.key)}};i.__typeName="Serenity.$FilterPanel$OperatorSelect";var s=function(e,t){Gt.call(this,e,t)};s.__typeName="Serenity.AsyncLookupEditor";global.Serenity.AsyncLookupEditor=s;var n=function(e){var t=function(){this.editor=null;r.call(this)};ss.registerGenericClassInstance(t,n,[e],{useEditor:function(){switch(this.get_operator().key){case"eq":case"ne":case"lt":case"le":case"gt":case"ge":{return true}}return false},createEditor:function(){if(this.useEditor()){this.editor=Serenity.Widget.create({type:e,container:this.get_container(),options:this.getEditorOptions(),init:null});return}r.prototype.createEditor.call(this)},useIdField:function(){return false},getCriteriaField:function(){if(this.useEditor()&&this.useIdField()&&!Q.isEmptyOrNull(this.get_field().filteringIdField)){return this.get_field().filteringIdField}return r.prototype.getCriteriaField.call(this)},getEditorOptions:function(){var e=Q.deepClone({},this.get_field().editorParams);delete e["cascadeFrom"];return Q.deepClone(e,this.get_field().filteringParams)},loadState:function(e){if(this.useEditor()){if(ss.isNullOrUndefined(e)){return}M.setValue(this.editor,e);return}r.prototype.loadState.call(this,e)},saveState:function(){if(this.useEditor()){return M.getValue(this.editor)}return r.prototype.saveState.call(this)},getEditorValue:function(){if(this.useEditor()){var e=M.getValue(this.editor);if(ss.isNullOrUndefined(e)||ss.isInstanceOfType(e,String)&&ss.cast(e,String).trim().length===0){throw this.argumentNull()}return e}return r.prototype.getEditorValue.call(this)},initQuickFilter:function(t){r.prototype.initQuickFilter.call(this,t);t.type=e;t.options=Q.deepClone({},this.getEditorOptions(),this.get_field().quickFilterParams)}},function(){return r},function(){return[_t,Vt]});return t};n.__typeName="Serenity.BaseEditorFiltering$1";ss.initGenericClass(n,e,1);global.Serenity.BaseEditorFiltering$1=n;var r=function(){this.$1$FieldField=null;this.$1$ContainerField=null;this.$1$OperatorField=null};r.__typeName="Serenity.BaseFiltering";global.Serenity.BaseFiltering=r;var a=function(e){Serenity.Widget.call(this,e,new Object);e.removeClass("flexify")};a.__typeName="Serenity.BooleanEditor";global.Serenity.BooleanEditor=a;var l=function(){r.call(this)};l.__typeName="Serenity.BooleanFiltering";global.Serenity.BooleanFiltering=l;var o=function(){this.$1$FalseTextField=null;this.$1$TrueTextField=null};o.__typeName="Serenity.BooleanFormatter";global.Serenity.BooleanFormatter=o;var u=function(e){var t=function(e,t){this.$widget=null;this.$parentChange=null;this.$parentID=null;this.$widget=e;this.$parentChange=t;this.bind();this.$widget.element.bind("remove."+e.uniqueName+"cwh",ss.mkdel(this,function(e){this.unbind();this.$widget=null;this.$parentChange=null}))};ss.registerGenericClassInstance(t,u,[e],{bind:function(){if(Q.isEmptyOrNull(this.$parentID)){return null}var t=Q.findElementWithRelativeId(this.$widget.element,this.$parentID).tryGetWidget(e);if(ss.isValue(t)){t.element.bind("change."+this.$widget.uniqueName,ss.mkdel(this,function(){this.$parentChange(t)}));return t}else{Q.notifyError("Can't find cascaded parent element with ID: "+this.$parentID+"!","",null);return null}},unbind:function(){if(Q.isEmptyOrNull(this.$parentID)){return null}var t=Q.findElementWithRelativeId(this.$widget.element,this.$parentID).tryGetWidget(e);if(ss.isValue(t)){t.element.unbind("."+this.$widget.uniqueName)}return t},get_parentID:function(){return this.$parentID},set_parentID:function(e){if(!ss.referenceEquals(this.$parentID,e)){this.unbind();this.$parentID=e;this.bind()}}},function(){return null},function(){return[]});return t};u.__typeName="Serenity.CascadedWidgetLink$1";ss.initGenericClass(u,e,1);global.Serenity.CascadedWidgetLink$1=u;var d=function(e){this.category=null;this.category=e};d.__typeName="Serenity.CategoryAttribute";global.Serenity.CategoryAttribute=d;var c=function(){};c.__typeName="Serenity.CheckboxFormatter";global.Serenity.CheckboxFormatter=c;var f=function(e,t){this.$list=null;Serenity.Widget.call(this,e,t);e.addClass("s-CheckListEditor");this.$list=$("<ul/>").appendTo(e);this.updateItems()};f.__typeName="Serenity.CheckListEditor";global.Serenity.CheckListEditor=f;var h=function(){};h.__typeName="Serenity.CheckListEditorOptions";h.createInstance=function(){return h.$ctor()};h.$ctor=function(){var e={};e.items=null;e.selectAllOptionText=null;e.selectAllOptionText="Tümünü Seç";e.items=[];return e};h.isInstanceOfType=function(){return true};global.Serenity.CheckListEditorOptions=h;var p=function(e,t){this.$byId=null;y.call(this,e,t);e.addClass("s-CheckTreeEditor");this.updateItems()};p.__typeName="Serenity.CheckTreeEditor";global.Serenity.CheckTreeEditor=p;var m=function(e){this.value=false;this.collapsed=false;this.value=e};m.__typeName="Serenity.CollapsibleAttribute";global.Serenity.CollapsibleAttribute=m;var g=function(e){this.cssClass=null;this.cssClass=e};g.__typeName="Serenity.CssClassAttribute";global.Serenity.CssClassAttribute=g;var y=function(e,t){this.titleDiv=null;this.toolbar=null;this.filterBar=null;this.quickFiltersDiv=null;this.view=null;this.slickContainer=null;this.slickGrid=null;this.allColumns=null;this.initialSettings=null;this.restoringSettings=0;this.$idProperty=null;this.$isActiveProperty=null;this.$localTextDbPrefix=null;this.$isDisabled=false;this.$4$submitHandlersField=null;this.rows=null;this.$slickGridOnSort=null;this.$slickGridOnClick=null;Serenity.Widget.call(this,e,t);var i=this;this.element.addClass("s-DataGrid").html("");this.element.addClass("s-"+ss.getTypeName(ss.getInstanceType(this)));this.element.addClass("require-layout").bind("layout",function(){i.layout()});this.setTitle(this.getInitialTitle());var s=this.getButtons();if(ss.isValue(s)){this.createToolbar(s)}this.slickContainer=this.createSlickContainer();this.view=this.createView();this.slickGrid=this.createSlickGrid();if(this.enableFiltering()){this.createFilterBar()}if(this.usePager()){this.createPager()}this.bindToSlickEvents();this.bindToViewEvents();if(ss.isValue(s)){this.createToolbarExtensions()}this.createQuickFilters();this.updateDisabledState();if(!this.isAsyncWidget()){this.initialSettings=this.getCurrentSettings(null);this.restoreSettings(null,null);window.setTimeout(ss.mkdel(this,this.initialPopulate),0)}};y.__typeName="Serenity.DataGrid";global.Serenity.DataGrid=y;var v=function(e){this.$4$MinValueField=null;this.$4$MaxValueField=null;Serenity.Widget.call(this,e,new Object);e.addClass("dateQ");e.datepicker({showOn:"button",beforeShow:function(){return!e.hasClass("readonly")}});e.bind("keyup."+this.uniqueName,ss.mkdel(this,function(e){if(e.which===32&&!this.get_readOnly()){this.set_valueAsDate(new Date)}else{v.dateInputKeyup(e)}}));e.bind("change."+this.uniqueName,v.dateInputChange);Gi.addValidationRule(e,this.uniqueName,ss.mkdel(this,function(e){var t=this.get_value();if(ss.isNullOrEmptyString(t)){return null}if(!ss.isNullOrEmptyString(this.get_minValue())&&ss.compareStrings(t,this.get_minValue())<0){return ss.formatString(Q.text("Validation.MinDate"),Q.formatDate(this.get_minValue(),null))}if(!ss.isNullOrEmptyString(this.get_maxValue())&&ss.compareStrings(t,this.get_maxValue())>=0){return ss.formatString(Q.text("Validation.MaxDate"),Q.formatDate(this.get_maxValue(),null))}return null}));this.set_sqlMinMax(true)};v.__typeName="Serenity.DateEditor";v.dateInputChange=function(e){if(Q.Culture.dateOrder!=="dmy"){return}var t=$(e.target);if(!t.is(":input")){return}var i=ss.coalesce(t.val(),"");var s={};if(i.length>=6&&ss.Int32.tryParse(i,s)){t.val(i.substr(0,2)+Q.Culture.dateSeparator+i.substr(2,2)+Q.Culture.dateSeparator+i.substr(4))}i=ss.coalesce(t.val(),"");if(!!(i.length>=5&&!ss.referenceEquals(Q.parseDate(i),false))){var n=Q.parseDate(i);t.val(Q.formatDate(n,null))}};v.dateInputKeyup=function(e){if(Q.Culture.dateOrder!=="dmy"){return}var t=$(e.target);if(!t.is(":input")){return}if(t.is("[readonly]")||t.is(":disabled")){return}var i=ss.coalesce(t.val(),"");if(!!(i.length===0||!ss.referenceEquals(t[0].selectionEnd,i.length))){return}if(i.indexOf(Q.Culture.dateSeparator+Q.Culture.dateSeparator)!==-1){t.val(ss.replaceAllString(i,Q.Culture.dateSeparator+Q.Culture.dateSeparator,Q.Culture.dateSeparator));return}if(e.which===47||e.which===111){if(i.length>=2&&ss.referenceEquals(String.fromCharCode(i.charCodeAt(i.length-1)),Q.Culture.dateSeparator)&&ss.referenceEquals(String.fromCharCode(i.charCodeAt(i.length-2)),Q.Culture.dateSeparator)){t.val(i.substr(0,i.length-1));return}if(!ss.referenceEquals(String.fromCharCode(i.charCodeAt(i.length-1)),Q.Culture.dateSeparator)){return}switch(i.length){case 2:{if(v.$isNumeric(i.charCodeAt(0))){i="0"+i;break}else{return}}case 4:{if(v.$isNumeric(i.charCodeAt(0))&&v.$isNumeric(i.charCodeAt(2))&&ss.referenceEquals(String.fromCharCode(i.charCodeAt(1)),Q.Culture.dateSeparator)){i="0"+String.fromCharCode(i.charCodeAt(0))+Q.Culture.dateSeparator+"0"+String.fromCharCode(i.charCodeAt(2))+Q.Culture.dateSeparator;break}else{return}}case 5:{if(v.$isNumeric(i.charCodeAt(0))&&v.$isNumeric(i.charCodeAt(2))&&v.$isNumeric(i.charCodeAt(3))&&ss.referenceEquals(String.fromCharCode(i.charCodeAt(1)),Q.Culture.dateSeparator)){i="0"+i;break}else if(v.$isNumeric(i.charCodeAt(0))&&v.$isNumeric(i.charCodeAt(1))&&v.$isNumeric(i.charCodeAt(3))&&ss.referenceEquals(String.fromCharCode(i.charCodeAt(2)),Q.Culture.dateSeparator)){i=String.fromCharCode(i.charCodeAt(0))+String.fromCharCode(i.charCodeAt(1))+Q.Culture.dateSeparator+"0"+String.fromCharCode(i.charCodeAt(3))+Q.Culture.dateSeparator;break}else{break}}default:{return}}t.val(i)}if(i.length<6&&(e.which>=48&&e.which<=57||e.which>=96&&e.which<=105)&&v.$isNumeric(i.charCodeAt(i.length-1))){switch(i.length){case 1:{if(i.charCodeAt(0)<=51){return}i="0"+i;break}case 2:{if(!v.$isNumeric(i.charCodeAt(0))){return}break}case 3:{if(!v.$isNumeric(i.charCodeAt(0))||!ss.referenceEquals(String.fromCharCode(i.charCodeAt(1)),Q.Culture.dateSeparator)||i.charCodeAt(2)<=49){return}i="0"+String.fromCharCode(i.charCodeAt(0))+Q.Culture.dateSeparator+"0"+String.fromCharCode(i.charCodeAt(2));break}case 4:{if(ss.referenceEquals(String.fromCharCode(i.charCodeAt(1)),Q.Culture.dateSeparator)){if(!v.$isNumeric(i.charCodeAt(0))||!v.$isNumeric(i.charCodeAt(2))){return}i="0"+i;break}else if(ss.referenceEquals(String.fromCharCode(i.charCodeAt(2)),Q.Culture.dateSeparator)){if(!v.$isNumeric(i.charCodeAt(0))||!v.$isNumeric(i.charCodeAt(1))||i.charCodeAt(3)<=49){return}i=String.fromCharCode(i.charCodeAt(0))+String.fromCharCode(i.charCodeAt(1))+Q.Culture.dateSeparator+"0"+String.fromCharCode(i.charCodeAt(3));break}else{return}}case 5:{if(!ss.referenceEquals(String.fromCharCode(i.charCodeAt(2)),Q.Culture.dateSeparator)||!v.$isNumeric(i.charCodeAt(0))||!v.$isNumeric(i.charCodeAt(1))||!v.$isNumeric(i.charCodeAt(3))){return}break}default:{return}}t.val(i+Q.Culture.dateSeparator)}};v.$isNumeric=function(e){return e>=48&&e<=57};v.defaultAutoNumericOptions=function(){return{aDec:Q.Culture.decimalSeparator,altDec:Q.Culture.decimalSeparator==="."?",":".",aSep:Q.Culture.decimalSeparator==="."?",":".",aPad:true}};global.Serenity.DateEditor=v;var S=function(){ss.makeGenericType(n,[v]).call(this)};S.__typeName="Serenity.DateFiltering";global.Serenity.DateFiltering=S;var b=function(){this.$1$DisplayFormatField=null;this.set_displayFormat(Q.Culture.dateFormat)};b.__typeName="Serenity.DateFormatter";b.format=function(e,t){if(!ss.isValue(e)){return""}var i;if(typeof e==="date"){i=e}else if(typeof e==="string"){i=Q.parseISODateTime(e);if(ss.staticEquals(i,null)){return Q.htmlEncode(e)}}else{return e.toString()}return Q.htmlEncode(Q.formatDate(i,t))};global.Serenity.DateFormatter=b;var C=function(e,t){this.$time=null;this.$4$MinValueField=null;this.$4$MaxValueField=null;Serenity.Widget.call(this,e,t);e.addClass("dateQ s-DateTimeEditor").datepicker({showOn:"button",beforeShow:function(){return!e.hasClass("readonly")}});e.bind("keyup."+this.uniqueName,ss.mkdel(this,function(e){if(e.which===32&&!this.get_readOnly()){this.set_valueAsDate(new Date)}else{v.dateInputKeyup(e)}}));e.bind("change."+this.uniqueName,v.dateInputChange);this.$time=$("<select/>").addClass("editor s-DateTimeEditor time").insertAfter(e.next(".ui-datepicker-trigger"));var i=C.$getTimeOptions(ss.coalesce(this.options.startHour,0),0,ss.coalesce(this.options.endHour,23),59,ss.coalesce(this.options.intervalMinutes,5));for(var s=0;s<i.length;s++){var n=i[s];Q.addOption(this.$time,n,n)}Gi.addValidationRule(e,this.uniqueName,ss.mkdel(this,function(e){var t=this.get_value();if(ss.isNullOrEmptyString(t)){return null}if(!ss.isNullOrEmptyString(this.get_minValue())&&ss.compareStrings(t,this.get_minValue())<0){return ss.formatString(Q.text("Validation.MinDate"),Q.formatDate(this.get_minValue(),null))}if(!ss.isNullOrEmptyString(this.get_maxValue())&&ss.compareStrings(t,this.get_maxValue())>=0){return ss.formatString(Q.text("Validation.MaxDate"),Q.formatDate(this.get_maxValue(),null))}return null}));this.set_sqlMinMax(true);$("<div class='inplace-button inplace-now'><b></b></div>").attr("title","set to now").insertAfter(this.$time).click(ss.mkdel(this,function(e){if(this.element.hasClass("readonly")){return}this.set_valueAsDate(new Date)}))};C.__typeName="Serenity.DateTimeEditor";C.$getTimeOptions=function(e,t,i,s,n){var r=[];if(i>=23){i=23}if(s>=60){s=59}var a=e;var l=t;while(true){if(a>i||a===i&&l>s){break}var o=(a>=10?"":"0")+a+":"+(l>=10?"":"0")+l;r.push(o);l+=n;if(l>=60){l-=60;a++}}return r};C.roundToMinutes=function(e,t){e=new Date(e.getTime());var i=ss.Int32.trunc(ss.round(e.getMinutes()/t)*t);e.setMinutes(i);e.setSeconds(0);e.setMilliseconds(0);return e};global.Serenity.DateTimeEditor=C;var T=function(){ss.makeGenericType(n,[v]).call(this)};T.__typeName="Serenity.DateTimeFiltering";global.Serenity.DateTimeFiltering=T;var _=function(){b.call(this);this.set_displayFormat(Q.Culture.dateTimeFormat)};_.__typeName="Serenity.DateTimeFormatter";global.Serenity.DateTimeFormatter=_;var E=function(e,t){_i.call(this,e,t);this.updateItems()};E.__typeName="Serenity.DateYearEditor";global.Serenity.DateYearEditor=E;var x=function(){};x.__typeName="Serenity.DateYearEditorOptions";x.createInstance=function(){return x.$ctor()};x.$ctor=function(){var e=Ei.$ctor();e.minYear=null;e.maxYear=null;e.descending=false;e.minYear="-10";e.maxYear="+0";return e};x.isInstanceOfType=function(){return true};global.Serenity.DateYearEditorOptions=x;var O=function(e,t){Serenity.Widget.call(this,e,t);e.addClass("decimalQ");var i=$.extend(O.defaultAutoNumericOptions(),{vMin:this.options.minValue,vMax:this.options.maxValue});if(ss.isValue(this.options.decimals)){i.mDec=ss.unbox(this.options.decimals)}if(ss.isValue(this.options.padDecimals)){i.aPad=ss.unbox(this.options.padDecimals)}e.autoNumeric(i)};O.__typeName="Serenity.DecimalEditor";O.defaultAutoNumericOptions=function(){return{aDec:Q.Culture.decimalSeparator,altDec:Q.Culture.decimalSeparator==="."?",":".",aSep:Q.Culture.decimalSeparator==="."?",":".",aPad:true}};global.Serenity.DecimalEditor=O;var k=function(){};k.__typeName="Serenity.DecimalEditorOptions";k.createInstance=function(){return k.$ctor()};k.$ctor=function(){var e={};e.minValue=null;e.maxValue=null;e.decimals=null;e.padDecimals=null;e.minValue="0.00";e.maxValue="999999999999.99";return e};k.isInstanceOfType=function(){return true};global.Serenity.DecimalEditorOptions=k;var w=function(){ss.makeGenericType(n,[O]).call(this)};w.__typeName="Serenity.DecimalFiltering";global.Serenity.DecimalFiltering=w;var I=function(e){this.value=null;this.value=e};I.__typeName="Serenity.DefaultValueAttribute";global.Serenity.DefaultValueAttribute=I;var F=function(){};F.__typeName="Serenity.DialogExtensions";F.dialogFlexify=function(e){var t=new rt(e.closest(".ui-dialog"),{});return e};F.dialogResizable=function(e,t,i,s,n){var r=e.dialog();r.dialog("option","resizable",true);if(ss.isValue(s)){r.dialog("option","minWidth",ss.unbox(s))}if(ss.isValue(t)){r.dialog("option","width",ss.unbox(t))}if(ss.isValue(n)){r.dialog("option","minHeight",ss.unbox(n))}if(ss.isValue(i)){r.dialog("option","height",ss.unbox(i))}return e};F.dialogMaximizable=function(e){e.dialogExtend({closable:true,maximizable:true,dblclick:"maximize",icons:{maximize:"ui-icon-maximize-window"}});return e};F.dialogCloseOnEnter=function(e){e.bind("keydown",function(e){if(e.which!==F.$enterKeyCode){return}var t=e.target.tagName.toLowerCase();if(t==="button"||t==="select"||t==="textarea"||t==="input"&&e.target.getAttribute("type")==="button"){return}var i=$(this);if(!i.hasClass("ui-dialog")){i=i.closest(".ui-dialog")}var s=i.children(".ui-dialog-buttonpane").find("button");if(s.length>0){var n=s.find(".default-button");if(n.length>0){s=n}}var r=s.eq(0);if(!r.is(":disabled")){e.preventDefault();r.trigger("click")}});return e};global.Serenity.DialogExtensions=F;var N=function(){};N.__typeName="Serenity.DialogTypeRegistry";N.$search=function(e){var t=ss.getType(e);if(ss.isValue(t)&&ss.isAssignableFrom(Ct,t)){return t}for(var i=0;i<Q.Config.rootNamespaces.length;i++){var s=Q.Config.rootNamespaces[i];t=ss.getType(s+"."+e);if(ss.isValue(t)&&ss.isAssignableFrom(Ct,t)){return t}}return null};N.get=function(e){if(!ss.keyExists(N.$knownTypes,e)){var t=e;var i=N.$search(t);if(ss.isNullOrUndefined(i)&&!ss.endsWithString(e,"Dialog")){t=e+"Dialog";i=N.$search(t)}if(ss.isNullOrUndefined(i)){throw new ss.Exception(t+" dialog class is not found!")}N.$knownTypes[e]=i}return N.$knownTypes[e]};global.Serenity.DialogTypeRegistry=N;var V=function(){this.$3$EditorTypeField=null;this.$3$UseRelativeField=false;this.$3$UseLikeField=false;ss.makeGenericType(n,[Object]).call(this)};V.__typeName="Serenity.EditorFiltering";global.Serenity.EditorFiltering=V;var D=function(e,t){this.key=null;this.value=null;this.key=e;this.value=t};D.__typeName="Serenity.EditorOptionAttribute";global.Serenity.EditorOptionAttribute=D;var A=function(e){P.call(this,e)};A.__typeName="Serenity.EditorTypeAttribute";global.Serenity.EditorTypeAttribute=A;var P=function(e){this.editorType=null;this.editorType=e};P.__typeName="Serenity.EditorTypeAttributeBase";global.Serenity.EditorTypeAttributeBase=P;var U=function(e){var t=Ei.$ctor();t.emptyOptionText=Q.text("Controls.SelectEditor.EmptyItemText");_i.call(this,e,t)};U.__typeName="Serenity.EditorTypeEditor";global.Serenity.EditorTypeEditor=U;var B=function(){};B.__typeName="Serenity.EditorTypeRegistry";B.get=function(e){if(Q.isEmptyOrNull(e)){throw new ss.ArgumentNullException("key")}B.$initialize();var t=B.$knownTypes[e.toLowerCase()];if(ss.isNullOrUndefined(t)){throw new ss.Exception(ss.formatString("Can't find {0} editor type!",e))}return t};B.$initialize=function(){if(ss.isValue(B.$knownTypes)){return}B.$knownTypes={};var e=ss.getAssemblies();for(var t=0;t<e.length;t++){var i=e[t];var s=ss.getAssemblyTypes(i);for(var n=0;n<s.length;n++){var r=s[n];if(!(r.prototype instanceof Serenity.Widget)){continue}if(ss.isGenericTypeDefinition(r)){continue}var a=ss.getTypeFullName(r).toLowerCase();B.$knownTypes[a]=r;var l=ss.getAttributes(r,Serenity.EditorAttribute,false);if(ss.isValue(l)&&l.length>0){var o=l[0].key;if(!Q.isEmptyOrNull(o)){B.$knownTypes[o.toLowerCase()]=r}}for(var u=0;u<Q.Config.rootNamespaces.length;u++){var d=Q.Config.rootNamespaces[u];if(ss.startsWithString(a,d.toLowerCase()+".")){var c=a.substr(d.length+1).toLowerCase();if(ss.isNullOrUndefined(B.$knownTypes[c])){B.$knownTypes[c]=r}}}}}B.$setTypeKeysWithoutEditorSuffix()};B.reset=function(){B.$knownTypes=null};B.$setTypeKeysWithoutEditorSuffix=function(){var e="editor";var t=Enumerable.from(Object.keys(B.$knownTypes)).toArray();for(var i=0;i<t.length;i++){var s=t[i];if(!ss.endsWithString(s,e)){continue}var n=s.substr(0,s.length-e.length);if(Q.isEmptyOrNull(n)){continue}if(ss.isValue(B.$knownTypes[n])){continue}B.$knownTypes[n]=B.$knownTypes[s]}};global.Serenity.EditorTypeRegistry=B;var M=function(){};M.__typeName="Serenity.EditorUtils";M.getValue=function(e){var t={};M.saveValue(e,M.$dummy,t);return t["_"]};M.saveValue=function(e,t,i){var s=ss.safeCast(e,Et);if(ss.isValue(s)){s.getEditValue(t,i);return}var n=ss.safeCast(e,Qt);if(ss.isValue(n)){i[t.name]=n.get_value();return}var r=ss.safeCast(e,St);if(ss.isValue(r)){i[t.name]=r.get_value();return}var a=ss.safeCast(e,$t);if(ss.isValue(a)){var l=a.get_value();i[t.name]=isNaN(l)?null:l;return}if(!!ss.isValue(e.getEditValue)){e.getEditValue(t,i);return}if(e.element.is(":input")){i[t.name]=e.element.val();return}};M.setValue=function(e,t){var i={_:t};M.loadValue(e,M.$dummy,i)};M.loadValue=function(e,t,i){var s=ss.safeCast(e,At);if(ss.isValue(s)){s.setEditValue(i,t);return}var n=ss.safeCast(e,Qt);if(ss.isValue(n)){var r=i[t.name];if(!!ss.isValue(r)){r=r.toString()}n.set_value(ss.cast(r,String));return}var a=ss.safeCast(e,St);if(ss.isValue(a)){var l=i[t.name];if(typeof l==="number"){a.set_value(l>0)}else{a.set_value(!!l)}return}var o=ss.safeCast(e,$t);if(ss.isValue(o)){var u=i[t.name];if(!!(ss.isNullOrUndefined(u)||ss.isInstanceOfType(u,String)&&Q.isTrimmedEmpty(ss.cast(u,String)))){o.set_value(null)}else if(ss.isInstanceOfType(u,String)){o.set_value(ss.cast(Q.parseDecimal(ss.cast(u,String)),Number))}else if(ss.isInstanceOfType(u,Boolean)){o.set_value(!!u?1:0)}else{o.set_value(ss.cast(u,Number))}return}if(!!ss.isValue(e.setEditValue)){e.setEditValue(i,t);return}if(e.element.is(":input")){var d=i[t.name];if(!!!ss.isValue(d)){e.element.val("")}else{e.element.val(d)}return}};M.setReadonly=function(e,t){e.each(function(e,i){var s=$(i);var n=s.attr("type");if(s.is("select")||n==="radio"||n==="checkbox"){if(t){s.addClass("readonly").attr("disabled","disabled")}else{s.removeClass("readonly").removeAttr("disabled")}}else if(t){s.addClass("readonly").attr("readonly","readonly")}else{s.removeClass("readonly").removeAttr("readonly")}return true});return e};M.setReadOnly=function(e,t){var i=ss.safeCast(e,Dt);if(ss.isValue(i)){i.set_readOnly(t)}else if(e.element.is(":input")){M.setReadonly(e.element,t)}};M.setRequired=function(e,t){var i=ss.safeCast(e,Ut);if(ss.isValue(i)){i.set_required(t)}else if(e.element.is(":input")){e.element.toggleClass("required",!!t)}var s=Li.getGridField(e);var n=Enumerable.from(s.find("sup").get()).any();if(t&&!n){$("<sup>*</sup>").attr("title",Q.text("Controls.PropertyGrid.RequiredHint")).prependTo(s.find(".caption")[0])}else if(!t&&n){$(s.find("sup")[0]).remove()}};global.Serenity.EditorUtils=M;var G=function(e,t){Serenity.Widget.call(this,e,t);G.registerValidationMethods();e.addClass("emailuser").removeClass("flexify");var i=$("<span/>").text("@").addClass("emailat").insertAfter(e);var s=$('<input type="text"/>').addClass("emaildomain").addClass("flexify").insertAfter(i);s.bind("blur."+this.uniqueName,function(){var t=s.closest("form").data("validator");if(ss.isValue(t)){t.element(e[0])}});if(!Q.isEmptyOrNull(this.options.domain)){s.val(this.options.domain)}if(this.options.readOnlyDomain){s.attr("readonly","readonly").addClass("disabled").attr("tabindex","-1")}e.bind("keypress."+this.uniqueName,ss.mkdel(this,function(e){if(e.which===64){e.preventDefault();if(!this.options.readOnlyDomain){s.focus();s.select()}}}));s.bind("keypress."+this.uniqueName,function(e){if(e.which===64){e.preventDefault()}});if(!this.options.readOnlyDomain){e.change(ss.mkdel(this,function(t){this.set_value(e.val())}))}};G.__typeName="Serenity.EmailEditor";G.registerValidationMethods=function(){if(ss.staticEquals($.validator.methods["emailuser"],null)){$.validator.addMethod("emailuser",function(e,t){var i=$(t).nextAll(".emaildomain");if(i.length>0&&ss.isNullOrUndefined(i.attr("readonly"))){if(this.optional(t)&&this.optional(i[0])){return true}e=e+"@"+i.val();if(Q.Config.emailAllowOnlyAscii){return new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$").test(e)}return new RegExp("^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$","i").test(e)}else{if(Q.Config.emailAllowOnlyAscii){return this.optional(t)||new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+$").test(e)}return this.optional(t)||new RegExp("^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))$","i").test(e)}},"Lütfen geçerli bir e-posta adresi giriniz!")}};global.Serenity.EmailEditor=G;var q=function(){};q.__typeName="Serenity.EmailEditorOptions";q.createInstance=function(){return q.$ctor()};q.$ctor=function(){var e={};e.domain=null;e.readOnlyDomain=false;return e};q.isInstanceOfType=function(){return true};global.Serenity.EmailEditorOptions=q;var L=function(e){this.entity=null;this.entityId=null;this.$entityType=null;this.$entitySingular=null;this.$formKey=null;this.$idProperty=null;this.$isActiveProperty=null;this.$localTextDbPrefix=null;this.$nameProperty=null;this.$service=null;this.localizationGrid=null;this.localizationButton=null;this.localizationLastValue=null;this.localizationPendingValue=null;this.propertyGrid=null;this.saveAndCloseButton=null;this.applyChangesButton=null;this.deleteButton=null;this.undeleteButton=null;this.cloneButton=null;Serenity.TemplatedDialog.call(this,e);if(!this.isAsyncWidget()){this.$initPropertyGrid();this.$initLocalizationGrid()}};L.__typeName="Serenity.EntityDialog";global.Serenity.EntityDialog=L;var R=function(e,t){this.$entityType=null;this.$displayName=null;this.$itemName=null;this.$service=null;this.$dialogType=null;y.call(this,e,t)};R.__typeName="Serenity.EntityGrid";global.Serenity.EntityGrid=R;var W=function(e,t){Ti.call(this,e,t);this.updateItems()};W.__typeName="Serenity.EnumEditor";global.Serenity.EnumEditor=W;var z=function(){};z.__typeName="Serenity.EnumEditorOptions";z.createInstance=function(){return z.$ctor()};z.$ctor=function(){var e={};e.enumKey=null;e.enumType=null;return e};z.isInstanceOfType=function(){return true};global.Serenity.EnumEditorOptions=z;var H=function(){ss.makeGenericType(n,[W]).call(this)};H.__typeName="Serenity.EnumFiltering";global.Serenity.EnumFiltering=H;var j=function(){this.$1$EnumKeyField=null};j.__typeName="Serenity.EnumFormatter";j.format=function(e,t){if(!ss.isValue(t)){return""}var i;try{i=ss.Enum.toString(e,t)}catch(s){s=ss.Exception.wrap(s);if(ss.isInstanceOfType(s,ss.ArgumentException)){i=t.toString()}else{throw s}}var n=ss.getAttributes(e,Serenity.EnumKeyAttribute,false);var r=n.length>0?n[0].value:ss.getTypeFullName(e);return j.getText$1(r,i)};j.getText$1=function(e,t){return Q.htmlEncode(ss.coalesce(Q.tryGetText("Enums."+e+"."+t),t))};j.getText=function(e){return function(t){if(!ss.isValue(t)){return""}return j.format(e,ss.unbox(t))}};j.getName=function(e){return function(t){if(!ss.isValue(t)){return""}return ss.Enum.toString(e,ss.unbox(t))}};global.Serenity.EnumFormatter=j;var K=function(){};K.__typeName="Serenity.EnumTypeRegistry";K.get=function(e){if(ss.isNullOrUndefined(K.$knownTypes)){K.$knownTypes={};var t=ss.getAssemblies();for(var i=0;i<t.length;i++){var s=t[i];var n=ss.getAssemblyTypes(s);for(var r=0;r<n.length;r++){var a=n[r];if(ss.isEnum(a)){var l=ss.getTypeFullName(a);K.$knownTypes[l]=a;var o=ss.getAttributes(a,Serenity.EnumKeyAttribute,false);if(ss.isValue(o)&&o.length>0){K.$knownTypes[o[0].value]=a}for(var u=0;u<Q.Config.rootNamespaces.length;u++){var d=Q.Config.rootNamespaces[u];if(ss.startsWithString(l,d+".")){K.$knownTypes[l.substr(d.length+1)]=a}}}}}}if(!ss.keyExists(K.$knownTypes,e)){throw new ss.Exception(ss.formatString("Can't find {0} enum type!",e))}return K.$knownTypes[e]};global.Serenity.EnumTypeRegistry=K;var Y=function(){this.$1$DisplayFormatField=null;this.$1$OriginalNamePropertyField=null};Y.__typeName="Serenity.FileDownloadFormatter";Y.dbFileUrl=function(e){e=ss.replaceAllString(ss.coalesce(e,""),"\\","/");return Q.resolveUrl("~/upload/")+e};global.Serenity.FileDownloadFormatter=Y;var J=function(){J.$ctor1.call(this,true)};J.__typeName="Serenity.FilterableAttribute";J.$ctor1=function(e){this.value=false;this.value=e};global.Serenity.FilterableAttribute=J;var X=function(){this.$filterPanel=null;Serenity.TemplatedDialog.call(this);this.$filterPanel=new it(this.byId("FilterPanel"));this.$filterPanel.set_showInitialLine(true);this.$filterPanel.set_showSearchButton(false);this.$filterPanel.set_updateStoreOnReset(false)};X.__typeName="Serenity.FilterDialog";global.Serenity.FilterDialog=X;var Z=function(e){ss.makeGenericType(nt,[Object]).call(this,e,null);this.element.find(".cap").text(Q.text("Controls.FilterPanel.EffectiveFilter"));this.element.find(".edit").text(Q.text("Controls.FilterPanel.EditFilter"));this.element.find(".reset").attr("title",Q.text("Controls.FilterPanel.ResetFilterHint"));var t=ss.mkdel(this,function(e){e.preventDefault();var t=new X;t.get_filterPanel().set_store(this.get_store());t.dialogOpen()});this.element.find(".edit").click(t);this.element.find(".txt").click(t);this.element.find(".reset").click(ss.mkdel(this,function(e){e.preventDefault();ss.clear(this.get_store().get_items());this.get_store().raiseChanged()}))};Z.__typeName="Serenity.FilterDisplayBar";global.Serenity.FilterDisplayBar=Z;var et=function(){};et.__typeName="Serenity.FilteringTypeRegistry";et.get=function(e){if(Q.isEmptyOrNull(e)){throw new ss.ArgumentNullException("key")}et.$initialize();var t=et.$knownTypes[e.toLowerCase()];if(ss.isNullOrUndefined(t)){throw new ss.Exception(ss.formatString("Can't find {0} filter handler type!",e))}return t};et.$initialize=function(){if(ss.isValue(et.$knownTypes)){return}et.$knownTypes={};var e=ss.getAssemblies();for(var t=0;t<e.length;t++){var i=e[t];var s=ss.getAssemblyTypes(i);for(var n=0;n<s.length;n++){var r=s[n];if(!ss.isAssignableFrom(_t,r)){continue}if(ss.isGenericTypeDefinition(r)){continue
}var a=ss.getTypeFullName(r).toLowerCase();et.$knownTypes[a]=r;for(var l=0;l<Q.Config.rootNamespaces.length;l++){var o=Q.Config.rootNamespaces[l];if(ss.startsWithString(a,o.toLowerCase()+".")){var u=a.substr(o.length+1).toLowerCase();if(ss.isNullOrUndefined(et.$knownTypes[u])){et.$knownTypes[u]=r}}}}}et.$setTypeKeysWithoutFilterHandlerSuffix()};et.reset=function(){et.$knownTypes=null};et.$setTypeKeysWithoutFilterHandlerSuffix=function(){var e="filtering";var t=Enumerable.from(Object.keys(et.$knownTypes)).toArray();for(var i=0;i<t.length;i++){var s=t[i];if(!ss.endsWithString(s,e)){continue}var n=s.substr(0,s.length-e.length);if(Q.isEmptyOrNull(n)){continue}if(ss.isValue(et.$knownTypes[n])){continue}et.$knownTypes[n]=et.$knownTypes[s]}};global.Serenity.FilteringTypeRegistry=et;var tt=function(){};tt.__typeName="Serenity.FilterOperators";global.Serenity.FilterOperators=tt;var it=function(e){this.$rowsDiv=null;this.$showInitialLine=false;this.$showSearchButton=true;this.$updateStoreOnReset=false;ss.makeGenericType(nt,[Object]).call(this,e,null);this.element.addClass("s-FilterPanel");this.$rowsDiv=this.byId("Rows");this.$initButtons();this.$updateButtons()};it.__typeName="Serenity.FilterPanel";global.Serenity.FilterPanel=it;var st=function(e){this.$changed=null;this.$displayText=null;this.$1$FieldsField=null;this.$1$FieldByNameField=null;this.$1$ItemsField=null;this.set_items([]);if(ss.isNullOrUndefined(e)){throw new ss.ArgumentNullException("source")}this.set_fields(Enumerable.from(e).toArray());this.get_fields().sort(function(e,t){var i=Q.tryGetText(e.title);if(ss.isNullOrUndefined(i)){var s=e.title;if(ss.isNullOrUndefined(s)){s=e.name}i=s}var n=Q.tryGetText(t.title);if(ss.isNullOrUndefined(n)){var r=t.title;if(ss.isNullOrUndefined(r)){r=t.name}n=r}return Q.turkishLocaleCompare(i,n)});this.set_fieldByName({});var t=ss.getEnumerator(e);try{while(t.moveNext()){var i=t.current();this.get_fieldByName()[i.name]=i}}finally{t.dispose()}};st.__typeName="Serenity.FilterStore";global.Serenity.FilterStore=st;var nt=function(e){var t=function(e,t){this.$store=null;Serenity.TemplatedWidget.call(this,e,t);this.$store=new st([]);this.$store.add_changed(ss.mkdel(this,this.$onFilterStoreChanged))};ss.registerGenericClassInstance(t,nt,[e],{destroy:function(){if(ss.isValue(this.$store)){this.$store.remove_changed(ss.mkdel(this,this.$onFilterStoreChanged));this.$store=null}Serenity.Widget.prototype.destroy.call(this)},$onFilterStoreChanged:function(e,t){this.filterStoreChanged()},filterStoreChanged:function(){},get_store:function(){return this.$store},set_store:function(e){if(!ss.referenceEquals(this.$store,e)){if(ss.isValue(this.$store)){this.$store.remove_changed(ss.mkdel(this,this.$onFilterStoreChanged))}this.$store=e||new st([]);this.$store.add_changed(ss.mkdel(this,this.$onFilterStoreChanged));this.filterStoreChanged()}}},function(){return Serenity.TemplatedWidget},function(){return[]});return t};nt.__typeName="Serenity.FilterWidgetBase$1";ss.initGenericClass(nt,e,1);global.Serenity.FilterWidgetBase$1=nt;var rt=function(e,t){this.$xDifference=0;this.$yDifference=0;Serenity.Widget.call(this,e,t);var i=this;Serenity.LazyLoadHelper.executeOnceWhenShown(e,function(){i.$storeInitialSize()})};rt.__typeName="Serenity.Flexify";global.Serenity.Flexify=rt;var at=function(){};at.__typeName="Serenity.FormatterTypeRegistry";at.get=function(e){if(Q.isEmptyOrNull(e)){throw new ss.ArgumentNullException("key")}at.$initialize();var t=at.$knownTypes[e.toLowerCase()];if(ss.isNullOrUndefined(t)){throw new ss.Exception(ss.formatString("Can't find {0} formatter type!",e))}return t};at.$initialize=function(){if(ss.isValue(at.$knownTypes)){return}at.$knownTypes={};var e=ss.getAssemblies();for(var t=0;t<e.length;t++){var i=e[t];var s=ss.getAssemblyTypes(i);for(var n=0;n<s.length;n++){var r=s[n];if(!ss.isAssignableFrom(Pt,r)){continue}if(ss.isGenericTypeDefinition(r)){continue}var a=ss.getTypeFullName(r).toLowerCase();at.$knownTypes[a]=r;for(var l=0;l<Q.Config.rootNamespaces.length;l++){var o=Q.Config.rootNamespaces[l];if(ss.startsWithString(a,o.toLowerCase()+".")){var u=a.substr(o.length+1).toLowerCase();if(ss.isNullOrUndefined(at.$knownTypes[u])){at.$knownTypes[u]=r}}}}}at.$setTypeKeysWithoutFormatterSuffix()};at.reset=function(){at.$knownTypes=null};at.$setTypeKeysWithoutFormatterSuffix=function(){var e="formatter";var t=Enumerable.from(Object.keys(at.$knownTypes)).toArray();for(var i=0;i<t.length;i++){var s=t[i];if(!ss.endsWithString(s,e)){continue}var n=s.substr(0,s.length-e.length);if(Q.isEmptyOrNull(n)){continue}if(ss.isValue(at.$knownTypes[n])){continue}at.$knownTypes[n]=at.$knownTypes[s]}};global.Serenity.FormatterTypeRegistry=at;var lt=function(e,t){this.$map=null;Serenity.Widget.call(this,e,t);var i=new google.maps.LatLng(ss.coalesce(this.options.latitude,0),ss.coalesce(this.options.longitude,0));var s=new Object;s.center=i;s.mapTypeId=ss.coalesce(this.options.mapTypeId,"roadmap");s.zoom=ss.coalesce(this.options.zoom,15);s.zoomControl=true;this.$map=new google.maps.Map(e[0],s);if(ss.isValue(this.options.markerTitle)){var n=new Object;var r=this.options.markerLatitude;if(ss.isNullOrUndefined(r)){r=ss.coalesce(this.options.latitude,0)}var a=this.options.markerLongitude;if(ss.isNullOrUndefined(a)){a=ss.coalesce(this.options.longitude,0)}n.position=new google.maps.LatLng(r,a);n.map=this.$map;n.title=this.options.markerTitle;n.animation=2;new google.maps.Marker(n)}Serenity.LazyLoadHelper.executeOnceWhenShown(e,ss.mkdel(this,function(){google.maps.event.trigger(this.$map,"resize",[]);this.$map.setCenter(i)}))};lt.__typeName="Serenity.GoogleMap";global.Serenity.GoogleMap=lt;var ot=function(){};ot.__typeName="Serenity.GridRows";global.Serenity.GridRows=ot;var ut=function(e){this.$idField=null;this.$grid=null;this.$include={};this.$grid=e;this.$idField=e.getView().idField;e.getGrid().onClick.subscribe(ss.mkdel(this,function(t,i){if($(t.target).hasClass("select-item")){t.preventDefault();var s=e.getView().getItem(ss.unbox(ss.cast(i.row,ss.Int32)));var n=s[this.$idField].toString();if(!!ss.keyExists(this.$include,ss.cast(n,String))){delete this.$include[ss.cast(n,String)]}else{this.$include[ss.cast(n,String)]=true}for(var r=0;r<e.getView().getLength();r++){e.getGrid().updateRow(r)}this.$updateSelectAll()}}));e.getGrid().onHeaderClick.subscribe(ss.mkdel(this,function(t,i){if(t.isDefaultPrevented()){return}if($(t.target).hasClass("select-all-items")){t.preventDefault();var s=e.getView();if(ss.getKeyCount(this.$include)>0){ss.clearKeys(this.$include)}else{var n=e.getView().getItems();for(var r=0;r<n.length;r++){var a=n[r];var l=a[this.$idField];this.$include[ss.cast(l.toString(),String)]=true}}this.$updateSelectAll();e.getView().setItems(e.getView().getItems(),true)}}));e.getView().onRowsChanged.subscribe(ss.mkdel(this,function(e,t){return this.$updateSelectAll()}))};ut.__typeName="Serenity.GridRowSelectionMixin";ut.createSelectColumn=function(e){return{name:'<span class="select-all-items check-box no-float "></span>',toolTip:" ",field:"__select__",width:26,minWidth:26,headerCssClass:"select-all-header",sortable:false,format:function(t){var i=t.item;var s=e();if(ss.isNullOrUndefined(s)){return""}var n=!!ss.keyExists(s.$include,ss.cast(t.item[s.$idField].toString(),String));return'<span class="select-item check-box no-float '+(n?" checked":"")+'"></span>'}}};global.Serenity.GridRowSelectionMixin=ut;var dt=function(){};dt.__typeName="Serenity.GridSelectAllButtonHelper";dt.update=function(e,t){var i=e;var s=i.element.children(".s-Toolbar");if(s.length===0){return}var n=Li.getWidget(Ai).call(null,s).findButton("select-all-button");var r=i.view.getItems();n.toggleClass("checked",r.length>0&&!r.some(function(e){return!t(e)}))};dt.define=function(e,t,i,s,n,r){return{title:ss.coalesce(n,"Tümünü Seç"),cssClass:"select-all-button",onClick:function(){var i=e();var n=i.view;var a=Li.getWidget(Ai).call(null,i.element.children(".s-Toolbar")).findButton("select-all-button");var l=!a.hasClass("checked");n.beginUpdate();try{var o=n.getItems();for(var u=0;u<o.length;u++){var d=o[u];s(d,l);n.updateItem(t(d),d)}if(!ss.staticEquals(r,null)){r()}}finally{n.endUpdate()}a.toggleClass("checked",l)}}};global.Serenity.GridSelectAllButtonHelper=dt;var ct=function(){};ct.__typeName="Serenity.GridUtils";ct.addToggleButton=function(e,t,i,s,n){var r=$('<div><a href="#"></a></div>').addClass("s-ToggleButton").addClass(t).prependTo(e);r.children("a").click(function(e){e.preventDefault();r.toggleClass("pressed");var t=r.hasClass("pressed");if(!ss.staticEquals(i,null)){i(t)}}).attr("title",ss.coalesce(s,""));if(n){r.addClass("pressed")}};ct.addIncludeDeletedToggle=function(e,t,i,s){var n=false;var r=t.onSubmit;t.onSubmit=function(e){e.params.IncludeDeleted=n;if(!ss.staticEquals(r,null)){return r(e)}return true};var a=i;if(ss.isNullOrUndefined(a)){a=Q.text("Controls.EntityGrid.IncludeDeletedToggle")}ct.addToggleButton(e,"s-IncludeDeletedToggle",function(e){n=e;t.seekToPage=1;t.populate()},a,s);e.bind("remove",function(){t.onSubmit=null;r=null})};ct.addQuickSearchInput=function(e,t,i){var s=t.onSubmit;var n="";var r="";t.onSubmit=function(e){if(ss.isValue(n)&&n.length>0){e.params.ContainsText=n}else{delete e.params["ContainsText"]}if(ss.isValue(r)&&r.length>0){e.params.ContainsField=r}else{delete e.params["ContainsField"]}if(!ss.staticEquals(s,null)){return s(e)}return true};var a=null;ct.addQuickSearchInputCustom$1(e,function(e,i,s){n=i;r=e;t.seekToPage=1;a=s;t.populate()},i);t.onDataLoaded.subscribe(function(e,i){if(!ss.staticEquals(a,null)){a(t.getLength()>0);a=null}})};ct.addQuickSearchInputCustom=function(e,t,i){ct.addQuickSearchInputCustom$1(e,function(e,i,s){t(e,i);s(true)},null)};ct.addQuickSearchInputCustom$1=function(e,t,i){var s=$('<div><input type="text"/></div>').addClass("s-QuickSearchBar").prependTo(e);if(ss.isValue(i)&&i.length>0){s.addClass("has-quick-search-fields")}s=s.children();var n=pi.$ctor();n.fields=i;n.onSearch=t;new hi(s,n)};ct.makeOrderable=function(e,t){var i=new Slick.RowMoveManager({cancelEditOnDrag:true});i.onBeforeMoveRows.subscribe(function(e,t){for(var i=0;!!(i<t.rows.length);i++){if(!!(ss.referenceEquals(t.rows[i],t.insertBefore)||ss.referenceEquals(t.rows[i],t.insertBefore-1))){e.stopPropagation();return false}}return true});i.onMoveRows.subscribe(function(i,s){var n=ss.cast(s.rows,Array);var r=ss.unbox(ss.cast(s.insertBefore,ss.Int32));t(n,r);try{e.setSelectedRows([])}catch(a){}});e.registerPlugin(i)};ct.makeOrderableWithUpdateRequest=function(e,t){return function(e,t,i,s,n){ct.makeOrderable(e.slickGrid,function(r,a){if(r.length===0){return}var l;var o=a;if(o<0){l=1}else if(a>=e.rows.getDataLength()){l=ss.coalesce(i(e.rows.getDataItem(e.rows.getDataLength()-1)),0);if(l===0){l=a+1}else{l=l+1}}else{l=ss.coalesce(i(e.rows.getDataItem(a)),0);if(l===0){l=a+1}}var u=0;var d=null;d=function(){Q.serviceCall({service:s,request:n(t(e.rows.getDataItem(r[u])),l++),onSuccess:function(t){u++;if(u<r.length){d()}else{e.view.populate()}}})};d()})}};global.Serenity.GridUtils=ct;var ft=function(){};ft.__typeName="Serenity.HiddenAttribute";global.Serenity.HiddenAttribute=ft;var ht=function(e){this.hint=null;this.hint=e};ht.__typeName="Serenity.HintAttribute";global.Serenity.HintAttribute=ht;var pt=function(e,t){this.$instanceReady=false;Serenity.Widget.call(this,e,t);pt.$includeCKEditor();var i=e.attr("id");if(Q.isTrimmedEmpty(i)){e.attr("id",this.uniqueName);i=this.uniqueName}if(ss.isValue(this.options.cols)){e.attr("cols",ss.unbox(this.options.cols).toString())}if(ss.isValue(this.options.rows)){e.attr("rows",ss.unbox(this.options.rows).toString())}var s=this;var n=this.getConfig();CKEDITOR.replace(i,n);this.addValidationRule(this.uniqueName,function(e){if(e.hasClass("required")){var t=Q.trimToNull(s.get_value());if(ss.isNullOrUndefined(t)){return Q.text("Validation.Required")}}return null})};pt.__typeName="Serenity.HtmlContentEditor";pt.$includeCKEditor=function(){var e=window.window;if(!!ss.isValue(e.CKEDITOR)){return}var t=$("CKEditorScript");if(t.length>0){return}$("<script/>").attr("type","text/javascript").attr("id","CKEditorScript").attr("src",Q.resolveUrl("~/Scripts/CKEditor/ckeditor.js")).appendTo(window.document.head)};global.Serenity.HtmlContentEditor=pt;var mt=function(){};mt.__typeName="Serenity.HtmlContentEditorOptions";mt.createInstance=function(){return mt.$ctor()};mt.$ctor=function(){var e={};e.cols=null;e.rows=null;e.cols=80;e.rows=6;return e};mt.isInstanceOfType=function(){return true};global.Serenity.HtmlContentEditorOptions=mt;var gt=function(e,t){pt.call(this,e,t)};gt.__typeName="Serenity.HtmlNoteContentEditor";global.Serenity.HtmlNoteContentEditor=gt;var yt=function(e,t){pt.call(this,e,t)};yt.__typeName="Serenity.HtmlReportContentEditor";global.Serenity.HtmlReportContentEditor=yt;var vt=function(){};vt.__typeName="Serenity.IAsyncInit";global.Serenity.IAsyncInit=vt;var St=function(){};St.__typeName="Serenity.IBooleanValue";global.Serenity.IBooleanValue=St;var bt=function(){};bt.__typeName="Serenity.IDataGrid";global.Serenity.IDataGrid=bt;var Ct=function(){};Ct.__typeName="Serenity.IDialog";global.Serenity.IDialog=Ct;var $t=function(){};$t.__typeName="Serenity.IDoubleValue";global.Serenity.IDoubleValue=$t;var Tt=function(){};Tt.__typeName="Serenity.IEditDialog";global.Serenity.IEditDialog=Tt;var _t=function(){};_t.__typeName="Serenity.IFiltering";global.Serenity.IFiltering=_t;var Et=function(){};Et.__typeName="Serenity.IGetEditValue";global.Serenity.IGetEditValue=Et;var xt=function(){};xt.__typeName="Serenity.IInitializeColumn";global.Serenity.IInitializeColumn=xt;var Ot=function(e,t){this.entity=null;this.toolbar=null;this.fileSymbols=null;this.uploadInput=null;Serenity.Widget.call(this,e,t);e.addClass("s-ImageUploadEditor");if(Q.isEmptyOrNull(this.options.originalNameProperty)){e.addClass("hide-original-name")}var i=this;this.toolbar=new Ai($("<div/>").appendTo(this.element),{buttons:this.getToolButtons()});var s=$("<div><div></div></div>").addClass("upload-progress").prependTo(this.toolbar.element);var n=this.toolbar.findButton("add-file-button");this.uploadInput=Qi.addUploadInput({container:n,inputName:this.uniqueName,progress:s,fileDone:ss.mkdel(this,function(e,t,s){if(!Qi.checkImageConstraints(e,this.options)){return}var n={OriginalName:t,Filename:e.TemporaryFile};i.entity=n;i.populate();i.updateInterface()})});this.fileSymbols=$("<ul/>").appendTo(this.element);this.updateInterface()};Ot.__typeName="Serenity.ImageUploadEditor";global.Serenity.ImageUploadEditor=Ot;var kt=function(){};kt.__typeName="Serenity.ImageUploadEditorOptions";kt.createInstance=function(){return kt.$ctor()};kt.$ctor=function(){var e={};e.minWidth=0;e.maxWidth=0;e.minHeight=0;e.maxHeight=0;e.minSize=0;e.maxSize=0;e.originalNameProperty=null;e.urlPrefix=null;e.allowNonImage=false;return e};kt.isInstanceOfType=function(){return true};global.Serenity.ImageUploadEditorOptions=kt;var wt=function(e){this.value=false;this.value=e};wt.__typeName="Serenity.InsertableAttribute";global.Serenity.InsertableAttribute=wt;var It=function(e,t){Serenity.Widget.call(this,e,t);e.addClass("integerQ");var i=$.extend(O.defaultAutoNumericOptions(),{vMin:ss.coalesce(this.options.minValue,0),vMax:ss.coalesce(this.options.maxValue,2147483647),aSep:null});e.autoNumeric(i)};It.__typeName="Serenity.IntegerEditor";global.Serenity.IntegerEditor=It;var Ft=function(){};Ft.__typeName="Serenity.IntegerEditorOptions";Ft.createInstance=function(){return Ft.$ctor()};Ft.$ctor=function(){var e={};e.minValue=null;e.maxValue=null;e.minValue=0;e.maxValue=2147483647;return e};Ft.isInstanceOfType=function(){return true};global.Serenity.IntegerEditorOptions=Ft;var Nt=function(){ss.makeGenericType(n,[It]).call(this)};Nt.__typeName="Serenity.IntegerFiltering";global.Serenity.IntegerFiltering=Nt;var Vt=function(){};Vt.__typeName="Serenity.IQuickFiltering";global.Serenity.IQuickFiltering=Vt;var Dt=function(){};Dt.__typeName="Serenity.IReadOnly";global.Serenity.IReadOnly=Dt;var At=function(){};At.__typeName="Serenity.ISetEditValue";global.Serenity.ISetEditValue=At;var Pt=function(){};Pt.__typeName="Serenity.ISlickFormatter";global.Serenity.ISlickFormatter=Pt;var Qt=function(){};Qt.__typeName="Serenity.IStringValue";global.Serenity.IStringValue=Qt;var Ut=function(){};Ut.__typeName="Serenity.IValidateRequired";global.Serenity.IValidateRequired=Ut;var Bt=function(){};Bt.__typeName="Serenity.JsRender";global.Serenity.JsRender=Bt;var Mt=function(e,t){Gt.call(this,e,t)};Mt.__typeName="Serenity.LookupEditor";global.Serenity.LookupEditor=Mt;var Gt=function(e,t){this.$cascadeLink=null;this.onInitNewEntity=null;Ti.call(this,e,t);this.$setCascadeFrom(this.options.cascadeFrom);var i=this;if(!this.isAsyncWidget()){this.updateItems();Q.ScriptData.bindToChange("Lookup."+this.getLookupKey(),this.uniqueName,function(){i.updateItems()})}if(this.options.inplaceAdd&&(ss.isNullOrUndefined(this.options.inplaceAddPermission)||Q.Authorization.hasPermission(this.options.inplaceAddPermission))){this.addInplaceCreate(Q.text("Controls.SelectEditor.InplaceAdd"),null)}};Gt.__typeName="Serenity.LookupEditorBase";global.Serenity.LookupEditorBase=Gt;var qt=function(){ss.makeGenericType(n,[Mt]).call(this)};qt.__typeName="Serenity.LookupFiltering";global.Serenity.LookupFiltering=qt;var Lt=function(e,t){Serenity.Widget.call(this,e,t);e.mask(this.options.mask,{placeholder:this.options.placeholder})};Lt.__typeName="Serenity.MaskedEditor";global.Serenity.MaskedEditor=Lt;var Rt=function(){};Rt.__typeName="Serenity.MaskedEditorOptions";Rt.createInstance=function(){return Rt.$ctor()};Rt.$ctor=function(){var e={};e.mask=null;e.placeholder=null;e.mask="";e.placeholder="_";return e};Rt.isInstanceOfType=function(){return true};global.Serenity.MaskedEditorOptions=Rt;var Wt=function(e){this.maxLength=0;this.maxLength=e};Wt.__typeName="Serenity.MaxLengthAttribute";global.Serenity.MaxLengthAttribute=Wt;var zt=function(){};zt.__typeName="Serenity.MinuteFormatter";zt.format=function(e){var t=ss.Int32.trunc(Math.floor(e/60));var i=e-t*60;var s,n;if(!ss.isValue(e)||isNaN(e)){return""}if(t<10){s="0"+t}else{s=t.toString()}if(i<10){n="0"+i}else{n=i.toString()}return ss.formatString("{0}:{1}",s,n)};global.Serenity.MinuteFormatter=zt;var Ht=function(e,t){this.entities=null;this.toolbar=null;this.fileSymbols=null;this.uploadInput=null;this.$4$JsonEncodeValueField=false;Serenity.Widget.call(this,e,t);this.entities=[];e.addClass("s-MultipleImageUploadEditor");var i=this;this.toolbar=new Ai($("<div/>").appendTo(this.element),{buttons:this.getToolButtons()});var s=$("<div><div></div></div>").addClass("upload-progress").prependTo(this.toolbar.element);var n=this.toolbar.findButton("add-file-button");this.uploadInput=Qi.addUploadInput({container:n,inputName:this.uniqueName,progress:s,fileDone:ss.mkdel(this,function(e,t,s){if(!Qi.checkImageConstraints(e,this.options)){return}var n={OriginalName:t,Filename:e.TemporaryFile};i.entities.push(n);i.populate();i.updateInterface()})});this.fileSymbols=$("<ul/>").appendTo(this.element);this.updateInterface()};Ht.__typeName="Serenity.MultipleImageUploadEditor";global.Serenity.MultipleImageUploadEditor=Ht;var jt=function(){this.$1$DisplayFormatField=null};jt.__typeName="Serenity.NumberFormatter";jt.format=function(e,t){t=ss.coalesce(t,"0.##");if(!ss.isValue(e)){return""}if(typeof e==="number"){if(isNaN(e)){return""}return Q.htmlEncode(Q.formatNumber(e,t))}var i=Q.parseDecimal(e.toString());if(ss.isNullOrUndefined(i)){return""}return Q.htmlEncode(e.toString())};global.Serenity.NumberFormatter=jt;var Kt=function(){};Kt.__typeName="Serenity.OneWayAttribute";global.Serenity.OneWayAttribute=Kt;var Yt=function(e){wi.call(this,e);e.attr("type","password")};Yt.__typeName="Serenity.PasswordEditor";global.Serenity.PasswordEditor=Yt;var Jt=function(e){Serenity.Widget.call(this,e,new Object);this.addValidationRule(this.uniqueName,ss.mkdel(this,function(){if(!new RegExp("^[ A-Za-zıİğĞöÖüÜşŞÇç]+$").test(Q.trimToEmpty(this.get_value()))){return"Lütfen sadece harflerden oluşan bir metin giriniz!"}return null}))};Jt.__typeName="Serenity.PersonNameEditor";global.Serenity.PersonNameEditor=Jt;var Xt=function(e,t){Serenity.Widget.call(this,e,t);var i=this;this.addValidationRule(this.uniqueName,ss.mkdel(this,function(e){var t=Q.trimToNull(this.get_value());if(ss.isNullOrUndefined(t)){return null}return this.validate(t)}));var s=this.options.internal?"Dahili telefon numarası '456, 8930, 12345' formatlarında":this.options.mobile?"Cep telefonu numarası '(533) 342 01 89' formatında":"Telefon numarası '(216) 432 10 98' formatında";if(this.options.multiple){s=ss.replaceAllString(s,"numarası","numaraları")+" ve birden fazlaysa virgülle ayrılarak "}s+=" girilmelidir.";e.attr("title",s);e.bind("change",ss.mkdel(this,function(e){if(!Li.hasOriginalEvent(e)){return}this.formatValue()}));e.bind("blur",ss.mkdel(this,function(e){if(this.element.hasClass("valid")){this.formatValue()}}));e.bind("keyup",ss.mkdel(this,function(t){if(this.options.internal){return}var i=ss.coalesce(e.val(),"");if(!!(i.length>0&&ss.referenceEquals(e[0].selectionEnd,i.length)&&(t.which>=48&&t.which<=57||t.which>=96&&t.which<=105)&&i.charCodeAt(i.length-1)>=48&&i.charCodeAt(i.length-1)<=57&&!ss.startsWithString(i,"+")&&i.indexOf(String.fromCharCode(47))<0)){if(ss.isNullOrUndefined(this.validate(i))){this.formatValue()}else{for(var s=1;s<=7;s++){i+="9";if(ss.isNullOrUndefined(this.validate(i))){this.set_value(i);this.formatValue();i=this.get_value();for(var n=1;n<=s;n++){i=i.trim();i=i.substr(0,i.length-1)}this.set_value(i);break}}}}}))};Xt.__typeName="Serenity.PhoneEditor";Xt.$formatMulti=function(e,t){var i=ss.replaceAllString(e,String.fromCharCode(59),String.fromCharCode(44)).split(String.fromCharCode(44));var s="";for(var n=0;n<i.length;n++){var r=i[n];var a=Q.trimToNull(r);if(ss.isNullOrUndefined(a)){continue}if(s.length>0){s+=", "}s+=t(a)}return s};Xt.$formatPhoneTurkey=function(e){if(!Xt.$isValidPhoneTurkey(e)){return e}e=ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(e," ",""),"(",""),")","");if(ss.startsWithString(e,"0")){e=e.substring(1)}e="("+e.substr(0,3)+") "+e.substr(3,3)+" "+e.substr(6,2)+" "+e.substr(8,2);return e};Xt.$formatPhoneTurkeyMulti=function(e){if(!Xt.$isValidPhoneTurkeyMulti(e)){return e}return Xt.$formatMulti(e,Xt.$formatPhoneTurkey)};Xt.$formatMobileTurkey=function(e){if(!Xt.$isValidMobileTurkey(e)){return e}return Xt.$formatPhoneTurkey(e)};Xt.$formatMobileTurkeyMulti=function(e){if(!Xt.$isValidMobileTurkeyMulti(e)){return e}return Xt.$formatPhoneTurkeyMulti(e)};Xt.$formatPhoneInternal=function(e){if(!Xt.$isValidPhoneInternal(e)){return e}return e.trim()};Xt.$formatPhoneInternalMulti=function(e){if(!Xt.$isValidPhoneInternalMulti(e)){return e}return Xt.$formatMulti(e,Xt.$formatPhoneInternal)};Xt.$isValidPhoneTurkeyMulti=function(e){return Xt.$isValidMulti(e,Xt.$isValidPhoneTurkey)};Xt.$isValidMobileTurkeyMulti=function(e){return Xt.$isValidMulti(e,Xt.$isValidMobileTurkey)};Xt.$isValidPhoneInternalMulti=function(e){return Xt.$isValidMulti(e,Xt.$isValidPhoneInternal)};Xt.$validate=function(e,t,i,s,n,r){var a;if(i){a=Xt.$isValidPhoneInternal}else if(s){a=Xt.$isValidMobileTurkey}else{a=Xt.$isValidPhoneTurkey}var l=function(e){if(!a(e)){if(i){return false}e=ss.coalesce(e,"").trim();if(ss.startsWithString(e,"+")){if(n&&e.length>7){return true}return false}if(r&&e.indexOf(String.fromCharCode(47))>0){var t=ss.netSplit(e,[47].map(function(e){return String.fromCharCode(e)}));if(t.length!==2){return false}if(t[0].length<5||!a(t[0])){return false}var s={};if(!ss.Int32.tryParse(t[1].trim(),s)){return false}return true}return false}return true};var o=t?Xt.$isValidMulti(e,l):l(e);if(o){return null}if(t){if(i){return"Dahili telefon numaraları '4567' formatında ve birden fazlaysa virgülle ayrılarak girilmelidir!"}if(s){return"Telefon numaraları '(533) 342 01 89' formatında ve birden fazlaysa virgülle ayrılarak girilmelidir!"}return"Telefon numaları '(216) 432 10 98' formatında ve birden fazlaysa virgülle ayrılarak girilmelidir!"}else{if(i){return"Dahili telefon numarası '4567' formatında girilmelidir!"}if(s){return"Telefon numarası '(533) 342 01 89' formatında girilmelidir!"}return"Telefon numarası '(216) 432 10 98' formatında girilmelidir!"}};Xt.$isValidPhoneTurkey=function(e){if(Q.isEmptyOrNull(e)){return false}e=ss.replaceAllString(e," ","");if(e.length<10){return false}if(ss.startsWithString(e,"0")){e=e.substring(1)}if(ss.startsWithString(e,"(")&&e.charCodeAt(4)===41){e=e.substr(1,3)+e.substring(5)}if(e.length!==10){return false}if(ss.startsWithString(e,"0")){return false}for(var t=0;t<e.length;t++){var i=e.charCodeAt(t);if(i<48||i>57){return false}}return true};Xt.$isValidMobileTurkey=function(e){if(!Xt.$isValidPhoneTurkey(e)){return false}e=ss.trimStartString(e);e=ss.replaceAllString(e," ","");var t=0;if(ss.startsWithString(e,"0")){t++}if(e.charCodeAt(t)===53||e.charCodeAt(t)===40&&e.charCodeAt(t+1)===53){return true}return false};Xt.$isValidPhoneInternal=function(e){if(Q.isEmptyOrNull(e)){return false}e=e.trim();if(e.length<2||e.length>5){return false}for(var t=0;t<e.length;t++){var i=e.charCodeAt(t);if(i<48||i>57){return false}}return true};Xt.$isValidMulti=function(e,t){if(Q.isEmptyOrNull(e)){return false}var i=ss.replaceAllString(e,String.fromCharCode(59),String.fromCharCode(44)).split(String.fromCharCode(44));var s=false;for(var n=0;n<i.length;n++){var r=i[n];var a=Q.trimToNull(r);if(ss.isNullOrUndefined(a)){continue}if(!t(a)){return false}s=true}if(!s){return false}return true};global.Serenity.PhoneEditor=Xt;var Zt=function(){};Zt.__typeName="Serenity.PhoneEditorOptions";Zt.createInstance=function(){return Zt.$ctor()};Zt.$ctor=function(){var e={};e.multiple=false;e.internal=false;e.mobile=false;e.allowExtension=false;e.allowInternational=false;return e};Zt.isInstanceOfType=function(){return true};global.Serenity.PhoneEditorOptions=Zt;var ei=function(e){this.value=null;this.value=e};ei.__typeName="Serenity.PlaceholderAttribute";global.Serenity.PlaceholderAttribute=ei;var ti=function(e,t){Serenity.Widget.call(this,e,t);var i=this;e.addClass("s-PopupMenuButton");e.click(ss.mkdel(this,function(e){e.preventDefault();e.stopPropagation();if(!ss.staticEquals(this.options.onPopup,null)){this.options.onPopup()}var t=i.options.menu;t.show().position({my:ss.coalesce(this.options.positionMy,"left top"),at:ss.coalesce(this.options.positionAt,"left bottom"),of:i.element});var s=i.uniqueName;$(document).one("click."+s,function(e){t.hide()})}));i.options.menu.hide().appendTo(document.body).addClass("s-PopupMenu").menu()};ti.__typeName="Serenity.PopupMenuButton";global.Serenity.PopupMenuButton=ti;var ii=function(e,t){ti.call(this,e,t);e.addClass("s-PopupToolButton");$("<b/>").appendTo(e.children(".button-outer").children("span"))};ii.__typeName="Serenity.PopupToolButton";global.Serenity.PopupToolButton=ii;var si=function(e){this.idPrefix=null;this.idPrefix=e};si.__typeName="Serenity.PrefixedContext";global.Serenity.PrefixedContext=si;var ni=function(e){this.$entity=null;this.$entityId=null;this.propertyGrid=null;Serenity.TemplatedDialog.call(this,e);if(!this.isAsyncWidget()){this.$initPropertyGrid();this.loadInitialEntity()}};ni.__typeName="Serenity.PropertyDialog";global.Serenity.PropertyDialog=ni;var ri=function(){ui.call(this)};ri.__typeName="Serenity.PropertyEditorHelper";global.Serenity.PropertyEditorHelper=ri;var ai=function(e,t){this.$editors=null;this.$items=null;Serenity.Widget.call(this,e,t);if(!ss.isValue(t.mode)){t.mode=0}this.$items=this.options.items||[];e.addClass("s-PropertyGrid");this.$editors=[];var i={};var s=e;var n=this.options.useCategories&&Enumerable.from(this.$items).any(function(e){return!ss.isNullOrEmptyString(e.category)});if(this.options.useCategories){var r=$("<div/>").addClass("category-links");i=this.$createCategoryLinks(r,this.$items);if(ss.getKeyCount(i)>1){r.appendTo(e)}else{r.find("a.category-link").unbind("click",ai.$categoryLinkClick).remove()}}s=$("<div/>").addClass("categories").appendTo(e);var a;if(n){a=s}else{a=$("<div/>").addClass("category").appendTo(s)}var l=null;for(var o=0;o<this.$items.length;o++){var u=this.$items[o];var d=u.category;if(ss.isNullOrUndefined(d)){d=ss.coalesce(this.options.defaultCategory,"")}var c=d;if(n&&!ss.referenceEquals(l,c)){var f=this.$createCategoryDiv(s,i,c,u.collapsible!==true?null:ss.coalesce(u.collapsed,false));if(ss.isNullOrUndefined(l)){f.addClass("first-category")}l=c;a=f}var h=this.$createField(a,u);this.$editors[o]=h}this.$updateInterface()};ai.__typeName="Serenity.PropertyGrid";ai.$categoryLinkClick=function(e){e.preventDefault();var t=$("a[name="+e.target.getAttribute("href").toString().substr(1)+"]");if(t.closest(".category").hasClass("collapsed")){t.closest(".category").children(".category-title").click()}var i=function(){t.fadeTo(100,.5,function(){t.fadeTo(100,1,function(){})})};var s=t.closest(".category");if(s.closest(":scrollable(both)").length===0){i()}else{s.scrollintoview({duration:"fast",direction:"y",complete:i})}};ai.loadEditorValue=function(e,t,i){};ai.saveEditorValue=function(e,t,i){M.saveValue(e,t,i)};ai.$setMaxLength=function(e,t){if(e.element.is(":input")){if(t>0){e.element.attr("maxlength",t.toString())}else{e.element.removeAttr("maxlength")}}};ai.setRequired=function(e,t){M.setRequired(e,t)};ai.setReadOnly=function(e,t){M.setReadOnly(e,t)};ai.setReadOnly$1=function(e,t){return M.setReadonly(e,t)};global.Serenity.PropertyGrid=ai;var li=function(){};li.__typeName="Serenity.PropertyGridMode";global.Serenity.PropertyGridMode=li;var oi=function(){};oi.__typeName="Serenity.PropertyGridOptions";oi.createInstance=function(){return oi.$ctor()};oi.$ctor=function(){var e={};e.idPrefix=null;e.items=null;e.useCategories=false;e.categoryOrder=null;e.defaultCategory=null;e.localTextPrefix=null;e.mode=0;e.useCategories=true;e.defaultCategory=Q.text("Controls.PropertyGrid.DefaultCategory");return e};oi.isInstanceOfType=function(){return true};global.Serenity.PropertyGridOptions=oi;var ui=function(){};ui.__typeName="Serenity.PropertyItemHelper";ui.getPropertyItemsFor=function(e){if(ss.isNullOrUndefined(e)){throw new ss.Exception("type")}var t=[];var i=ss.getMembers(e,31,20);for(var s=0;s<i.length;s++){var n=i[s];var r={};if(n.type!==16&&n.type!==4){continue}var a=(n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,ft)});if(a.length>0){continue}var l=(n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,zi)});var o=(n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,ht)});var u=(n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,ei)});var c=n.type===16?ss.cast(n,ss.isValue(n)&&n.type===16).returnType:ss.cast(n,ss.isValue(n)&&n.type===4).returnType;if(n.type===16){var f=ss.cast(n,ss.isValue(n)&&n.type===16);if(ss.isNullOrUndefined(f.fname)){continue}r.name=f.fname}else if(n.type===4){var h=ss.cast(n,ss.isValue(n)&&n.type===4);r.name=h.sname}else{continue}var p=(n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,d)});if(p.length>0){r.category=ss.cast(p[0],d).category}else if(t.length>0){r.category=t[t.length-1].category}var y=(n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,m)});if(y.length>0&&ss.cast(y[0],m).value){r.collapsible=true;r.collapsed=ss.cast(y[0],m).collapsed}var v=(n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,g)});if(v.length>0){r.cssClass=ss.cast(v[0],g).cssClass}if((n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,Kt)}).length>0){r.oneWay=true}if((n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,yi)}).length>0){r.readOnly=true}if(l.length>0){r.title=ss.cast(l[0],zi).displayName}if(o.length>0){r.hint=ss.cast(o[0],ht).hint}if(u.length>0){r.placeholder=ss.cast(u[0],ei).value}if(ss.isNullOrUndefined(r.title)){r.title=r.name}var S=(n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,I)});if(S.length===1){r.defaultValue=ss.cast(S[0],I).value}var b=(n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,wt)});if(b.length>0){r.insertable=b[0].value}else{r.insertable=true}var C=(n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,Pi)
});if(C.length>0){r.updatable=C[0].value}else{r.updatable=true}var $=(n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,A)});var T=c;var _=null;if(ss.isEnum(c)){_=c}else if(ss.isValue(T)&&ss.isEnum(T)){_=T}if($.length===0){if(ss.isValue(_)){r.editorType="Select"}else if(ss.referenceEquals(c,ss.JsDate)){r.editorType="Date"}else if(ss.referenceEquals(c,Boolean)){r.editorType="Boolean"}else if(ss.referenceEquals(c,Number)||ss.referenceEquals(c,Number)){r.editorType="Decimal"}else if(ss.referenceEquals(c,ss.Int32)){r.editorType="Integer"}else{r.editorType="String"}}else{var E=ss.cast($[0],A);r.editorType=E.editorType;E.setParams(r.editorParams)}var x=(n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,Ci)});if(x.length>0){r.required=x[0].isRequired}var O=(n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,Wt)});if(O.length>0){r.maxLength=O.maxLength;r.editorParams["maxLength"]=r.maxLength}var k=(n.attr||[]).filter(function(e){return ss.isInstanceOfType(e,D)});for(var w=0;w<k.length;w++){var F=k[w];var N=F.key;if(ss.isValue(N)&&N.length>=1){N=N.substr(0,1).toLowerCase()+N.substring(1)}r.editorParams[N]=F.value}t.push(r)}return t};global.Serenity.PropertyItemHelper=ui;var di=function(){};di.__typeName="Serenity.PropertyItemSlickConverter";di.toSlickColumns=function(e){var t=[];if(ss.isNullOrUndefined(e)){return t}for(var i=0;i<e.length;i++){t.push(di.toSlickColumn(e[i]))}return t};di.toSlickColumn=function(e){var t={};t.sourceItem=e;t.visible=e.visible!==false&&e.filterOnly!==true&&(ss.isNullOrUndefined(e.readPermission)||Q.Authorization.hasPermission(e.readPermission));t.field=e.name;var i=Q.tryGetText(e.title);if(ss.isNullOrUndefined(i)){i=e.title}t.name=i;t.cssClass=e.cssClass;t.headerCssClass=e.headerCssClass;t.sortable=e.sortable!==false;t.sortOrder=ss.coalesce(e.sortOrder,0);if(ss.isValue(e.alignment)&&e.alignment.length>0){if(!Q.isEmptyOrNull(t.cssClass)){t.cssClass+=" align-"+e.alignment}else{t.cssClass="align-"+e.alignment}}t.width=ss.isValue(e.width)?e.width:80;t.minWidth=ss.coalesce(e.minWidth,30);t.maxWidth=ss.isNullOrUndefined(e.maxWidth)||e.maxWidth===0?null:e.maxWidth;t.resizable=ss.isNullOrUndefined(e.resizable)||ss.unbox(e.resizable);if(ss.isValue(e.formatterType)&&e.formatterType.length>0){var s=ss.cast(ss.createInstance(at.get(e.formatterType)),Pt);if(ss.isValue(e.formatterParams)){Si.set(s,e.formatterParams)}var n=ss.safeCast(s,xt);if(ss.isValue(n)){n.initializeColumn(t)}t.format=ss.mkdel(s,s.format)}return t};global.Serenity.PropertyItemSlickConverter=di;var ci=function(e,t){this.$entity=null;this.$entityId=null;this.propertyGrid=null;Ni.call(this,e,t);if(!this.isAsyncWidget()){this.$initPropertyGrid();this.loadInitialEntity()}};ci.__typeName="Serenity.PropertyPanel";global.Serenity.PropertyPanel=ci;var fi=function(){};fi.__typeName="Serenity.PublicEditorTypes";fi.$registerType=function(e){var t=ss.getTypeFullName(e);var i={type:e};var s=ss.getAttributes(e,zi,true);if(ss.isValue(s)&&s.length>0){i.displayName=ss.cast(s[0],zi).displayName}else{i.displayName=ss.getTypeFullName(e)}var n=ss.getAttributes(e,Serenity.OptionsTypeAttribute,true);if(ss.isValue(n)&&n.length>0){i.optionsType=n[0].optionsType}fi.$registeredTypes[t]=i};fi.get_registeredTypes=function(){if(ss.isNullOrUndefined(fi.$registeredTypes)){fi.$registeredTypes={};B.$initialize();var e=new ss.ObjectEnumerator(B.$knownTypes);try{while(e.moveNext()){var t=e.current();if(ss.keyExists(fi.$registeredTypes,ss.getTypeFullName(t.value))){continue}fi.$registerType(t.value)}}finally{e.dispose()}}return fi.$registeredTypes};global.Serenity.PublicEditorTypes=fi;var hi=function(e,t){this.$lastValue=null;this.$timer=0;this.$field=null;this.$fieldChanged=false;Serenity.Widget.call(this,e,t);e.attr("title",Q.text("Controls.QuickSearch.Hint")).attr("placeholder",Q.text("Controls.QuickSearch.Placeholder"));this.$lastValue=Q.trim(ss.coalesce(e.val(),""));var i=this;this.element.bind("keyup."+this.uniqueName,function(){i.checkIfValueChanged()});this.element.bind("change."+this.uniqueName,function(){i.checkIfValueChanged()});$("<span><i></i></span>").addClass("quick-search-icon").insertBefore(e);if(ss.isValue(this.options.fields)&&this.options.fields.length>0){var s=$("<a/>").addClass("quick-search-field").attr("title",Q.text("Controls.QuickSearch.FieldSelection")).insertBefore(e);var n=$("<ul></ul>").css("width","120px");for(var r=0;r<this.options.fields.length;r++){var a=this.options.fields[r];var l={$:a};$("<li><a/></li>").appendTo(n).children().attr("href","#").text(ss.coalesce(a.title,"")).click(ss.mkdel({field:l,$this:this},function(e){e.preventDefault();this.$this.$fieldChanged=!ss.referenceEquals(i.$field,this.field.$);i.$field=this.field.$;this.$this.$updateInputPlaceHolder();this.$this.checkIfValueChanged()}))}new ti(s,{positionMy:"right top",positionAt:"right bottom",menu:n});this.$field=this.options.fields[0];this.$updateInputPlaceHolder()}this.element.bind("execute-search."+this.uniqueName,ss.mkdel(this,function(e){if(!!this.$timer){window.clearTimeout(this.$timer)}this.$searchNow(Q.trim(ss.coalesce(this.element.val(),"")))}))};hi.__typeName="Serenity.QuickSearchInput";global.Serenity.QuickSearchInput=hi;var pi=function(){};pi.__typeName="Serenity.QuickSearchInputOptions";pi.createInstance=function(){return pi.$ctor()};pi.$ctor=function(){var e={};e.typeDelay=0;e.loadingParentClass=null;e.filteredParentClass=null;e.onSearch=null;e.fields=null;e.typeDelay=500;e.loadingParentClass="s-QuickSearchLoading";e.filteredParentClass="s-QuickSearchFiltered";return e};pi.isInstanceOfType=function(){return true};global.Serenity.QuickSearchInputOptions=pi;var mi=function(e,t){Serenity.Widget.call(this,e,t);if(Q.isEmptyOrNull(this.options.enumKey)&&ss.isNullOrUndefined(this.options.enumType)&&Q.isEmptyOrNull(this.options.lookupKey)){return}if(!Q.isEmptyOrNull(this.options.lookupKey)){var i=Q.getLookup(this.options.lookupKey);for(var s=0;s<i.items.length;s++){var n=i.items[s];var r=n[i.textField];var a=ss.isNullOrUndefined(r)?"":r.toString();var l=n[i.idField];var o=ss.isNullOrUndefined(l)?"":l.toString();this.$addRadio(o,a)}}else{var u=this.options.enumType||K.get(this.options.enumKey);var d=this.options.enumKey;if(ss.isNullOrUndefined(d)&&ss.isValue(u)){var c=ss.getAttributes(u,Serenity.EnumKeyAttribute,false);if(c.length>0){d=c[0].value}}var f=ss.Enum.getValues(u);for(var h=0;h<f.length;h++){var p=f[h];var m=ss.Enum.toString(u,p);this.$addRadio(ss.unbox(ss.cast(p,ss.Int32)).toString(),ss.coalesce(Q.tryGetText("Enums."+d+"."+m),m))}}};mi.__typeName="Serenity.RadioButtonEditor";global.Serenity.RadioButtonEditor=mi;var gi=function(){};gi.__typeName="Serenity.RadioButtonEditorOptions";gi.createInstance=function(){return gi.$ctor()};gi.$ctor=function(){var e={};e.enumKey=null;e.enumType=null;e.lookupKey=null;return e};gi.isInstanceOfType=function(){return true};global.Serenity.RadioButtonEditorOptions=gi;var yi=function(e){this.value=false;this.value=e};yi.__typeName="Serenity.ReadOnlyAttribute";global.Serenity.ReadOnlyAttribute=yi;var vi=function(e,t){Serenity.Widget.call(this,e,t);this.element.addClass("g-recaptcha").attr("data-sitekey",this.options.siteKey);if(!!(ss.isNullOrUndefined(window.window.grecaptcha)&&$("script#RecaptchaInclude").length===0)){var i="https://www.google.com/recaptcha/api.js";var s=this.options.language;if(ss.isNullOrUndefined(s)){s=ss.coalesce($("html").attr("lang"),"")}i+="?hl="+s;$("<script/>").attr("id","RecaptchaInclude").attr("src",i).appendTo(document.body)}var n=$("<input />").insertBefore(this.element).attr("id",this.uniqueName+"_validate").val("x");var r={};r["visibility"]="hidden";r["width"]="0px";r["height"]="0px";r["padding"]="0px";var a=n.css(r);var l=this;Gi.addValidationRule(a,this.uniqueName,ss.mkdel(this,function(e){if(ss.isNullOrEmptyString(this.get_value())){return Q.text("Validation.Required")}return null}))};vi.__typeName="Serenity.Recaptcha";global.Serenity.Recaptcha=vi;var Si=function(){};Si.__typeName="Serenity.ReflectionOptionsSetter";Si.set=function(e,t){if(ss.isNullOrUndefined(t)){return}var i=ss.getInstanceType(e);if(ss.referenceEquals(i,Object)){return}var s=i.__propByName;var n=i.__fieldByName;if(ss.isNullOrUndefined(s)){var r=ss.getMembers(i,16,20);var a=Enumerable.from(r).where(function(e){return!!e.setter&&((e.attr||[]).filter(function(e){return ss.isInstanceOfType(e,Serenity.OptionAttribute)}).length>0||(e.attr||[]).filter(function(e){return ss.isInstanceOfType(e,zi)}).length>0)});s={};var l=a.getEnumerator();try{while(l.moveNext()){var o=l.current();s[bi.makeCamelCase(o.name)]=o}}finally{l.dispose()}i.__propByName=s}if(ss.isNullOrUndefined(n)){var u=ss.getMembers(i,4,20);var d=Enumerable.from(u).where(function(e){return(e.attr||[]).filter(function(e){return ss.isInstanceOfType(e,Serenity.OptionAttribute)}).length>0||(e.attr||[]).filter(function(e){return ss.isInstanceOfType(e,zi)}).length>0});n={};var c=d.getEnumerator();try{while(c.moveNext()){var f=c.current();n[bi.makeCamelCase(f.name)]=f}}finally{c.dispose()}i.__fieldByName=n}var h=ss.getEnumerator(Object.keys(t));try{while(h.moveNext()){var p=h.current();var m=t[p];var g=bi.makeCamelCase(p);var y=s[g]||s[p];if(ss.isValue(y)){ss.midel(y.setter,e)(m)}else{var v=n[g]||n[p];if(ss.isValue(v)){ss.fieldAccess(v,e,m)}}}}finally{h.dispose()}};global.Serenity.ReflectionOptionsSetter=Si;var bi=function(){};bi.__typeName="Serenity.ReflectionUtils";bi.getPropertyValue=function(e,t){var i=e;var s=i["get_"+t];if(!!!(typeof s==="undefined")){return s.apply(e)}var n=bi.makeCamelCase(t);s=i["get_"+n];if(!!!(typeof s==="undefined")){return s.apply(e)}return i[n]};bi.setPropertyValue=function(e,t,i){var s=e;var n=s["set_"+t];if(!!!(typeof n==="undefined")){n.apply(e,[i]);return}var r=bi.makeCamelCase(t);n=s["set_"+r];if(!!!(typeof n==="undefined")){n.apply(e,[i]);return}s[r]=i};bi.makeCamelCase=function(e){if(ss.isNullOrEmptyString(e)){return e}if(e==="ID"){return"id"}var t=false;var i=0;for(var s=0;s<e.length;s++){if(e.charCodeAt(s)>=65&&e.charCodeAt(s)<=90){i++}else{t=true;break}}if(!t&&e.length!==1||i===0){return e}else if(i>1){return e.substr(0,i-1).toLowerCase()+e.substr(i-1)}else if(e.length===1){return e.toLowerCase()}else{return e.substr(0,1).toLowerCase()+e.substr(1)}};global.Serenity.ReflectionUtils=bi;var Ci=function(e){this.isRequired=false;this.isRequired=e};Ci.__typeName="Serenity.RequiredAttribute";global.Serenity.RequiredAttribute=Ci;var $i=function(e,t){this.pageSize=50;Serenity.Widget.call(this,e,t);var i=this.emptyItemText();if(ss.isValue(i)){e.attr("placeholder",i)}e.select2(this.getSelect2Options());e.attr("type","text");e.bind("change."+this.uniqueName,function(t,i){if(!!(Li.hasOriginalEvent(t)||!i)){if(ss.isValue(Mi.getValidator(e))){e.valid()}}})};$i.__typeName="Serenity.Select2AjaxEditor";global.Serenity.Select2AjaxEditor=$i;var Ti=function(e,t){this.$multiple=false;this.items=null;this.itemById=null;this.pageSize=100;this.lastCreateTerm=null;Serenity.Widget.call(this,e,t);this.items=[];this.itemById={};var i=this.emptyItemText();if(ss.isValue(i)){e.attr("placeholder",i)}var s=this.getSelect2Options();this.$multiple=!!s.multiple;e.select2(s);e.attr("type","text");e.bind("change."+this.uniqueName,function(t,i){if(!!(Li.hasOriginalEvent(t)||!i)){if(ss.isValue(Mi.getValidator(e))){e.valid()}}})};Ti.__typeName="Serenity.Select2Editor";global.Serenity.Select2Editor=Ti;var _i=function(e,t){Ti.call(this,e,t);this.updateItems()};_i.__typeName="Serenity.SelectEditor";global.Serenity.SelectEditor=_i;var Ei=function(){};Ei.__typeName="Serenity.SelectEditorOptions";Ei.createInstance=function(){return Ei.$ctor()};Ei.$ctor=function(){var e={};e.items=null;e.emptyOptionText=null;e.items=[];return e};Ei.isInstanceOfType=function(){return true};global.Serenity.SelectEditorOptions=Ei;var xi=function(){};xi.__typeName="Serenity.SlickFormatting";xi.getEnumText=function(e){return function(t){return j.getText(e).call(null,t)}};xi.getEnumText$1=function(e,t){return j.getText$1(e,t)};xi.treeToggle=function(e,t,i){return function(s){var n=i(s);var r=e();var a=ss.coalesce(s.item._indent,0);var l='<span class="s-TreeIndent" style="width:'+15*a+'px"></span>';var o=t(s.item);var u=r.getIdxById(o);var d=r.getItemByIdx(ss.unbox(u)+1);if(ss.isValue(d)){var c=ss.coalesce(d._indent,0);if(c>a){if(!!!!s.item._collapsed){return l+'<span class="s-TreeToggle s-TreeExpand"></span>'+n}else{return l+'<span class="s-TreeToggle s-TreeCollapse"></span>'+n}}}return l+'<span class="s-TreeToggle"></span>'+n}};xi.date=function(e){var t=e;if(ss.isNullOrUndefined(t)){t=Q.Culture.dateFormat}e=t;return function(t){return Q.htmlEncode(b.format(t.value,e))}};xi.dateTime=function(e){var t=e;if(ss.isNullOrUndefined(t)){t=Q.Culture.dateTimeFormat}e=t;return function(t){return Q.htmlEncode(b.format(t.value,e))}};xi.checkBox=function(){return function(e){return'<span class="check-box no-float '+(!!e.value?" checked":"")+'"></span>'}};xi.number=function(e){return function(t){return jt.format(t.value,e)}};xi.getItemType=function(e){return ss.safeCast(e.data("item-type"),String)};xi.getItemId=function(e){var t=e.data("item-id");return ss.isNullOrUndefined(t)?null:t.toString()};xi.itemLinkText=function(e,t,i,s,n){return"<a"+(ss.isValue(t)?' href="#'+ss.replaceAllString(e,".","-")+"/"+t+'"':"")+' data-item-type="'+e+'"'+' data-item-id="'+t+'"'+' class="s-EditLink s-'+ss.replaceAllString(e,".","-")+"Link"+(Q.isEmptyOrNull(s)?"":" "+s)+'">'+(n?Q.htmlEncode(ss.coalesce(i,"")):ss.coalesce(i,""))+"</a>"};xi.itemLink=function(e,t,i,s,n){return function(r){return ss.cast(xi.itemLinkText(e,r.item[t],ss.staticEquals(i,null)?r.value:i(r),ss.staticEquals(s,null)?"":s(r),n),String)}};global.Serenity.SlickFormatting=xi;var Oi=function(){};Oi.__typeName="Serenity.SlickHelper";Oi.setDefaults=function(e,t){var i=ss.getEnumerator(e);try{while(i.moveNext()){var s=i.current();s.sortable=ss.isValue(s.sortable)?s.sortable:true;var n=s.id;if(ss.isNullOrUndefined(n)){n=s.field}s.id=n;if(ss.isValue(t)&&ss.isValue(s.id)&&(ss.isNullOrUndefined(s.name)||ss.startsWithString(s.name,"~"))){var r=ss.isValue(s.name)?s.name.substr(1):s.id;s.name=Q.text(t+r)}if(ss.staticEquals(s.formatter,null)&&!ss.staticEquals(s.format,null)){s.formatter=Oi.convertToFormatter(s.format)}else if(ss.staticEquals(s.formatter,null)){s.formatter=function(e,t,i,s,n){return Q.htmlEncode(i)}}}}finally{i.dispose()}return e};Oi.convertToFormatter=function(e){if(ss.staticEquals(e,null)){return null}else{return function(t,i,s,n,r){return e({row:t,cell:i,value:s,column:n,item:r})}}};global.Serenity.SlickHelper=Oi;var ki=function(){};ki.__typeName="Serenity.SlickTreeHelper";ki.filterCustom=function(e,t){var i=t(e);var s=0;while(ss.isValue(i)){if(!!i._collapsed){return false}i=t(i);if(s++>1e3){throw new ss.InvalidOperationException("Possible infinite loop, check parents has no circular reference!")}}return true};ki.filterById=function(e,t,i){return ki.filterCustom(e,function(e){var s=i(e);if(ss.isNullOrUndefined(s)){return null}return t.getItemById(s)})};ki.setCollapsed=function(e,t){if(ss.isValue(e)){var i=ss.getEnumerator(e);try{while(i.moveNext()){var s=i.current();s._collapsed=t}}finally{i.dispose()}}};ki.setCollapsedFlag=function(e,t){e._collapsed=t};ki.setIndents=function(e,t,i,s){var n=0;var r={};for(var a=0;a<ss.count(e);a++){var l=ss.getItem(e,a);if(a>0){var o=i(l);if(ss.isValue(o)&&ss.referenceEquals(o,t(ss.getItem(e,a-1)))){n+=1}else if(ss.isNullOrUndefined(o)){n=0}else if(!ss.referenceEquals(o,i(ss.getItem(e,a-1)))){if(ss.keyExists(r,o)){n=r[o]+1}else{n=0}}}r[t(l)]=n;l._indent=n;if(ss.isValue(s)){l._collapsed=ss.unbox(s)}}};ki.toggleClick=function(e,t,i,s,n){var r=$(e.target);if(!r.hasClass("s-TreeToggle")){return}if(r.hasClass("s-TreeCollapse")||r.hasClass("s-TreeExpand")){var a=s.getItem(t);if(!!ss.isValue(a)){if(!!!a._collapsed){a._collapsed=true}else{a._collapsed=false}s.updateItem(n(a),a)}if(e.shiftKey){s.beginUpdate();try{ki.setCollapsed(s.getItems(),!!a._collapsed);s.setItems(s.getItems(),true)}finally{s.endUpdate()}}}};global.Serenity.SlickTreeHelper=ki;var wi=function(e){Serenity.Widget.call(this,e,new Object)};wi.__typeName="Serenity.StringEditor";global.Serenity.StringEditor=wi;var Ii=function(){r.call(this)};Ii.__typeName="Serenity.StringFiltering";global.Serenity.StringFiltering=Ii;var Fi=function(){};Fi.__typeName="Serenity.SubDialogHelper";Fi.bindToDataChange=function(e,t,i,s){var n=t.widgetName;e.element.bind("ondatachange."+n,function(e,t){if(s){window.setTimeout(function(){i(e,t)},0)}else{i(e,t)}}).bind("remove."+n,function(){e.element.unbind("ondatachange."+n)});return e};Fi.triggerDataChange=function(e){e.element.triggerHandler("ondatachange");return e};Fi.triggerDataChange$1=function(e){e.triggerHandler("ondatachange");return e};Fi.bubbleDataChange=function(e,t,i){return Fi.bindToDataChange(e,t,function(e,i){t.element.triggerHandler("ondatachange")},i)};Fi.cascade=function(e,t){e.element.dialog().dialog("option","position",Fi.cascadedDialogOffset(t));return e};Fi.cascadedDialogOffset=function(e){return{my:"left top",at:"left+20 top+20",of:e[0]}};global.Serenity.SubDialogHelper=Fi;var Ni=function(e,t){this.isPanel=false;this.validator=null;this.tabs=null;this.toolbar=null;Serenity.TemplatedWidget.call(this,e,t);this.initValidator();this.initTabs();this.initToolbar()};Ni.__typeName="Serenity.TemplatedPanel";global.Serenity.TemplatedPanel=Ni;var Vi=function(e,t){Serenity.Widget.call(this,e,t);if(this.options.cols!==0){e.attr("cols",ss.coalesce(this.options.cols,80).toString())}if(this.options.rows!==0){e.attr("rows",ss.coalesce(this.options.rows,6).toString())}};Vi.__typeName="Serenity.TextAreaEditor";global.Serenity.TextAreaEditor=Vi;var Di=function(e,t){this.$minutes=null;Serenity.Widget.call(this,e,t);e.addClass("editor s-TimeEditor hour");if(!this.options.noEmptyOption){Q.addOption(e,"","--")}for(var i=ss.coalesce(this.options.startHour,0);i<=ss.coalesce(this.options.endHour,23);i++){Q.addOption(e,i.toString(),i<10?"0"+i:i.toString())}this.$minutes=$("<select/>").addClass("editor s-TimeEditor minute").insertAfter(e);for(var s=0;s<=59;s+=ss.coalesce(this.options.intervalMinutes,5)){Q.addOption(this.$minutes,s.toString(),s<10?"0"+s:s.toString())}};Di.__typeName="Serenity.TimeEditor";global.Serenity.TimeEditor=Di;var Ai=function(e,t){Serenity.Widget.call(this,e,t);this.element.addClass("s-Toolbar clearfix").html('<div class="tool-buttons"><div class="buttons-outer"><div class="buttons-inner"></div></div></div>');var i=$("div.buttons-inner",this.element);var s=this.options.buttons;for(var n=0;n<s.length;n++){this.$createButton(i,s[n])}};Ai.__typeName="Serenity.Toolbar";global.Serenity.Toolbar=Ai;var Pi=function(e){this.value=false;this.value=e};Pi.__typeName="Serenity.UpdatableAttribute";global.Serenity.UpdatableAttribute=Pi;var Qi=function(){};Qi.__typeName="Serenity.UploadHelper";Qi.addUploadInput=function(e){e.container.addClass("fileinput-button");var t=$("<input/>").attr("type","file").attr("name",e.inputName+"[]").attr("data-url",Q.resolveUrl("~/File/TemporaryUpload")).attr("multiple","multiple").appendTo(e.container);if(e.allowMultiple){t.attr("multiple","multiple")}t.fileupload({dataType:"json",done:function(t,i){var s=i.result;if(!ss.staticEquals(e.fileDone,null)){e.fileDone(s,ss.cast(i.files[0].name,String),i)}},start:function(){Q.blockUI(null);if(ss.isValue(e.progress)){e.progress.show()}},stop:function(){Q.blockUndo();if(ss.isValue(e.progress)){e.progress.hide()}},progress:function(t,i){if(ss.isValue(e.progress)){var s=ss.unbox(ss.cast(i.loaded,Number))/ss.unbox(ss.cast(i.total,Number))*100;e.progress.children().css("width",s.toString()+"%")}}});return t};Qi.checkImageConstraints=function(e,t){if(!e.IsImage&&!t.allowNonImage){Q.alert(Q.text("Controls.ImageUpload.NotAnImageFile"));return false}if(t.minSize>0&&e.Size<t.minSize){Q.alert(ss.formatString(Q.text("Controls.ImageUpload.UploadFileTooSmall"),t.minSize));return false}if(t.maxSize>0&&e.Size>t.maxSize){Q.alert(ss.formatString(Q.text("Controls.ImageUpload.UploadFileTooBig"),t.maxSize));return false}if(!e.IsImage){return true}if(t.minWidth>0&&e.Width<t.minWidth){Q.alert(ss.formatString(Q.text("Controls.ImageUpload.MinWidth"),t.minWidth));return false}if(t.maxWidth>0&&e.Width>t.maxWidth){Q.alert(ss.formatString(Q.text("Controls.ImageUpload.MaxWidth"),t.maxWidth));return false}if(t.minHeight>0&&e.Height<t.minHeight){Q.alert(ss.formatString(Q.text("Controls.ImageUpload.MinHeight"),t.minHeight));return false}if(t.maxHeight>0&&e.Height>t.maxHeight){Q.alert(ss.formatString(Q.text("Controls.ImageUpload.MaxHeight"),t.maxHeight));return false}return true};Qi.fileNameSizeDisplay=function(e,t){return e+" ("+Qi.fileSizeDisplay(t)+")"};Qi.fileSizeDisplay=function(e){var t=ss.round(e*100/1024)*.01;var i="KB";if(t>1e3){t=ss.round(t*.001*100)*.01;i="MB"}var s=t.toString().split(String.fromCharCode(46));var n;if(s.length>1){n=s[0]+"."+s[1].substr(0,2)}else{n=s[0]}return n+" "+i};Qi.hasImageExtension=function(e){if(ss.isNullOrUndefined(e)){return false}e=e.toLowerCase();return ss.endsWithString(e,".jpg")||ss.endsWithString(e,".jpeg")||ss.endsWithString(e,".gif")||ss.endsWithString(e,".png")};Qi.thumbFileName=function(e){e=ss.coalesce(e,"");var t=e.lastIndexOf(".");if(t>=0){e=e.substr(0,t)}return e+"_t.jpg"};Qi.dbFileUrl=function(e){e=ss.replaceAllString(ss.coalesce(e,""),"\\","/");return Q.resolveUrl("~/upload/")+e};Qi.colorBox=function(e,t){e.colorbox({current:Q.text("Controls.ImageUpload.ColorboxCurrent"),previous:Q.text("Controls.ImageUpload.ColorboxPrior"),next:Q.text("Controls.ImageUpload.ColorboxNext"),close:Q.text("Controls.ImageUpload.ColorboxClose")})};Qi.populateFileSymbols=function(e,t,i,s){t=t||[];e.html("");for(var n=0;n<t.length;n++){var r=t[n];var a=$("<li/>").addClass("file-item").data("index",n);var l=Qi.hasImageExtension(r.Filename);if(l){a.addClass("file-image")}else{a.addClass("file-binary")}var o="#"+n;var u=$("<a/>").addClass("thumb").appendTo(a);var d=ss.coalesce(r.OriginalName,"");var c=r.Filename;if(ss.isValue(s)&&ss.isValue(c)&&!ss.startsWithString(c,"temporary/")){c=s+c}u.attr("href",Qi.dbFileUrl(c));u.attr("target","_blank");if(!Q.isEmptyOrNull(d)){u.attr("title",d)}if(l){u.css("backgroundImage","url('"+Qi.dbFileUrl(Qi.thumbFileName(r.Filename))+"')");Qi.colorBox(u,new Object)}if(i){$("<div/>").addClass("filename").text(d).attr("title",d).appendTo(a)}a.appendTo(e)}};global.Serenity.UploadHelper=Qi;var Ui=function(e){wi.call(this,e);e.addClass("url").attr("title","URL 'http://www.site.com/sayfa' formatında girilmelidir.");e.bind("blur."+this.uniqueName,function(){var t=e.closest("form").data("validator");if(ss.isNullOrUndefined(t)){return}if(!e.hasClass("error")){return}var i=Q.trimToNull(e.val());if(ss.isNullOrUndefined(i)){return}i="http://"+i;if(!!ss.referenceEquals($.validator.methods["url"].apply(t,[i,e[0]]),true)){e.val(i);t.element(e[0])}})};Ui.__typeName="Serenity.URLEditor";global.Serenity.URLEditor=Ui;var Bi=function(){this.$1$DisplayPropertyField=null;this.$1$DisplayFormatField=null;this.$1$UrlPropertyField=null;this.$1$UrlFormatField=null;this.$1$TargetField=null};Bi.__typeName="Serenity.UrlFormatter";global.Serenity.UrlFormatter=Bi;var Mi=function(){};Mi.__typeName="Serenity.ValidationHelper";Mi.asyncSubmit=function(e,t,i){var s=e.validate();var n=s.settings;if(!!ss.isValue(n.abortHandler)){return false}if(!ss.staticEquals(t,null)&&t()===false){return false}n["abortHandler"]=Q.validatorAbortHandler;n["submitHandler"]=function(){if(!ss.staticEquals(i,null)){i()}return false};e.trigger("submit");return true};Mi.submit=function(e,t,i){var s=e.validate();var n=s.settings;if(!!ss.isValue(n.abortHandler)){return false}if(!ss.staticEquals(t,null)&&t()===false){return false}if(!s.form()){return false}if(!ss.staticEquals(i,null)){i()}return true};Mi.getValidator=function(e){var t=e.closest("form");if(t.length===0){return null}return t.data("validator")};global.Serenity.ValidationHelper=Mi;var Gi=function(){};Gi.__typeName="Serenity.VX";Gi.addValidationRule=function(e,t,i){if(e.length===0){return e}if(ss.staticEquals(i,null)){throw new ss.Exception("rule is null!")}e.addClass("customValidate").bind("customValidate."+t,i);return e};Gi.removeValidationRule=function(e,t){e.unbind("customValidate."+t);return e};Gi.validateElement=function(e,t){return e.element(t.element[0])};global.Serenity.VX=Gi;var qi=function(){};qi.__typeName="Serenity.WidgetPrototype";global.Serenity.WidgetPrototype=qi;var Li=function(){};Li.__typeName="Serenity.WX";Li.getWidget=function(e){return function(t){if(ss.isNullOrUndefined(t)){throw new ss.ArgumentNullException("element")}if(t.length===0){throw new ss.Exception(ss.formatString("Searching for widget of type '{0}' on a non-existent element! ({1})",ss.getTypeFullName(e),t.selector))}var i=t.tryGetWidget(e);if(ss.isNullOrUndefined(i)){throw new ss.Exception(ss.formatString("Element has no widget of type '{0}'!",ss.getTypeFullName(e)))}return i}};Li.getWidgetName=function(e){return ss.replaceAllString(ss.getTypeFullName(e),".","_")};Li.hasOriginalEvent=function(e){return!!!(typeof e.originalEvent==="undefined")};Li.change=function(e,t){e.element.bind("change."+e.uniqueName,t)};Li.changeSelect2=function(e,t){e.element.bind("change."+e.uniqueName,function(e,i){if(!!(Li.hasOriginalEvent(e)||!i)){t(e)}})};Li.getGridField=function(e){return e.element.closest(".field")};Li.create=function(e){return function(t,i){return Serenity.Widget.create({type:e,element:t,options:i,init:null})}};global.Serenity.WX=Li;var Ri=function(e){this.$propertyItems=null;this.$propertyGrid=null;this.$reportKey=null;Serenity.TemplatedDialog.call(this,e);if(ss.isValue(e.reportKey)){this.loadReport(e.reportKey)}};Ri.__typeName="Serenity.Reporting.ReportDialog";global.Serenity.Reporting.ReportDialog=Ri;var Wi=function(e){Serenity.Widget.call(this,e,null);$(".report-link").click(ss.mkdel(this,this.$reportLinkClick));$("div.line").click(ss.mkdel(this,this.$categoryClick));var t=this;var i=$("#QuickSearchInput");var s=pi.$ctor();s.onSearch=function(e,i,s){t.$updateMatchFlags(i);s(true)};new hi(i,s)};Wi.__typeName="Serenity.Reporting.ReportPage";global.Serenity.Reporting.ReportPage=Wi;var zi=function(e){this.displayName=null;this.displayName=e};zi.__typeName="System.ComponentModel.DisplayNameAttribute";global.System.ComponentModel.DisplayNameAttribute=zi;ss.initInterface(At,e,{setEditValue:null});ss.initInterface(Et,e,{getEditValue:null});ss.initInterface(Qt,e,{get_value:null,set_value:null});ss.initInterface(Dt,e,{get_readOnly:null,set_readOnly:null});ss.initClass(Ti,e,{emptyItemText:function(){var e=this.element.attr("placeholder");if(ss.isNullOrUndefined(e)){e=Q.text("Controls.SelectEditor.EmptyItemText")}return e},getSelect2Options:function(){var e=this.emptyItemText();return{data:this.items,placeHolder:!Q.isEmptyOrNull(e)?e:null,allowClear:ss.isValue(e),createSearchChoicePosition:"bottom",query:ss.mkdel(this,function(e){var t=Q.isEmptyOrNull(e.term)?"":Select2.util.stripDiacritics(ss.coalesce(e.term,"")).toUpperCase();var i=this.items.filter(function(e){return ss.isNullOrUndefined(t)||ss.startsWithString(Select2.util.stripDiacritics(ss.coalesce(e.text,"")).toUpperCase(),t)});ss.arrayAddRange(i,this.items.filter(function(e){return ss.isValue(t)&&!ss.startsWithString(Select2.util.stripDiacritics(ss.coalesce(e.text,"")).toUpperCase(),t)&&Select2.util.stripDiacritics(ss.coalesce(e.text,"")).toUpperCase().indexOf(t)>=0}));e.callback({results:i.slice((e.page-1)*this.pageSize,e.page*this.pageSize),more:i.length>=e.page*this.pageSize})}),initSelection:ss.mkdel(this,function(e,t){var i=e.val();if(this.$multiple){var s=[];var n=i.split(",");for(var r=0;r<n.length;r++){var a=n[r];var l=this.itemById[a];if(ss.isValue(l)){s.push(l)}}t(s);return}t(this.itemById[i])})}},get_delimited:function(){return!!!!this.options.delimited},clearItems:function(){ss.clear(this.items);this.itemById={}},addItem:function(e){this.items.push(e);this.itemById[e.id]=e},addOption:function(e,t,i,s){this.addItem({id:e,text:t,source:i,disabled:s})},addInplaceCreate:function(e,t){var i=this;var s=e;if(ss.isNullOrUndefined(s)){s=Q.text("Controls.SelectEditor.InplaceAdd")}e=s;var n=t;if(ss.isNullOrUndefined(n)){n=Q.text("Controls.SelectEditor.InplaceEdit")}t=n;var r=$("<a><b/></a>").addClass("inplace-button inplace-create").attr("title",e).insertAfter(this.element).click(function(e){i.inplaceCreateClick(e)});this.get_select2Container().add(this.element).addClass("has-inplace-button");Li.change(this,ss.mkdel(this,function(i){var s=Q.isEmptyOrNull(this.get_value());r.attr("title",s?e:t).toggleClass("edit",!s)}));Li.changeSelect2(this,ss.mkdel(this,function(e){if(ss.referenceEquals(this.get_value(),(-2147483648).toString())){this.set_value(null);this.inplaceCreateClick(null)}}))},inplaceCreateClick:function(e){},getCreateSearchChoice:function(e){return ss.mkdel(this,function(t){t=ss.coalesce(Select2.util.stripDiacritics(t),"").toLowerCase();this.lastCreateTerm=t;if(Q.isTrimmedEmpty(t)){return null}if(Enumerable.from(this.get_items()).any(function(i){var s=!ss.staticEquals(e,null)?e(i.source):i.text;return ss.referenceEquals(Select2.util.stripDiacritics(ss.coalesce(s,"")).toLowerCase(),t)})){return null}if(!Enumerable.from(this.get_items()).any(function(e){return ss.coalesce(Select2.util.stripDiacritics(e.text),"").toLowerCase().indexOf(t)!==-1})){return{id:(-2147483648).toString(),text:Q.text("Controls.SelectEditor.NoResultsClickToDefine")}}return{id:(-2147483648).toString(),text:Q.text("Controls.SelectEditor.ClickToDefine")}})},setEditValue:function(e,t){var i=e[t.name];if(ss.isArray(i)){this.set_values(i)}else{this.set_value(ss.isNullOrUndefined(i)?null:i.toString())}},getEditValue:function(e,t){if(!this.$multiple||this.get_delimited()){t[e.name]=this.get_value()}else{t[e.name]=this.get_values()}},get_select2Container:function(){return this.element.prevAll(".select2-container")},get_items:function(){return this.items},get_itemByKey:function(){return this.itemById},get_value:function(){var e=this.element.select2("val");if(ss.isValue(e)&&ss.isArray(e)){return ss.cast(e,Array).join(",")}return ss.safeCast(e,String)},set_value:function(e){if(!ss.referenceEquals(e,this.get_value())){var t=e;if(!ss.isNullOrEmptyString(e)&&this.$multiple){t=Enumerable.from(e.split(String.fromCharCode(44))).select(function(e){return Q.trimToNull(e)}).where(function(e){return ss.isValue(e)}).toArray()}this.element.select2("val",t).triggerHandler("change",[true])}},get_values:function(){var e=this.element.select2("val");if(ss.isNullOrUndefined(e)){return[]}if(ss.isArray(e)){return ss.cast(e,Array)}var t=ss.safeCast(e,String);if(ss.isNullOrEmptyString(t)){return[]}return[t]},set_values:function(e){if(ss.isNullOrUndefined(e)||e.length===0){this.set_value(null);return}this.set_value(e.join(","))},get_text:function(){var e=this.element.select2("data");if(ss.isNullOrUndefined(e)){e=new Object}return ss.cast(e.text,String)},get_readOnly:function(){return!ss.isNullOrEmptyString(this.element.attr("readonly"))},set_readOnly:function(e){if(e!==this.get_readOnly()){M.setReadonly(this.element,e);this.element.nextAll(".inplace-create").attr("disabled",e?"disabled":"").css("opacity",e?"0.1":"").css("cursor",e?"default":"")}}},Serenity.Widget,[At,Et,Qt,Dt]);ss.initClass(t,e,{emptyItemText:function(){if(Q.isEmptyOrNull(this.get_value())){return Q.text("Controls.FilterPanel.SelectField")}return null},getSelect2Options:function(){var e=Ti.prototype.getSelect2Options.call(this);e.allowClear=false;return e}},Ti,[At,Et,Qt,Dt]);ss.initClass(i,e,{emptyItemText:function(){return null},getSelect2Options:function(){var e=Ti.prototype.getSelect2Options.call(this);e.allowClear=false;return e}},Ti,[At,Et,Qt,Dt]);ss.initClass(Gt,e,{initializeAsync:function(){return this.updateItemsAsync().then(ss.mkdel(this,function(){Q.ScriptData.bindToChange("Lookup."+this.getLookupKey(),this.uniqueName,ss.mkdel(this,function(){this.updateItemsAsync()}))}),null)},destroy:function(){Q.ScriptData.unbindFromChange(this.uniqueName);
this.element.select2("destroy");Serenity.Widget.prototype.destroy.call(this)},getLookupKey:function(){if(ss.isValue(this.options.lookupKey)){return this.options.lookupKey}var e=ss.getTypeFullName(ss.getInstanceType(this));var t=e.indexOf(".");if(t>=0){e=e.substring(t+1)}if(ss.endsWithString(e,"Editor")){e=e.substr(0,e.length-6)}return e},getLookup:function(){return Q.getLookup(this.getLookupKey())},getLookupAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var e=this.getLookupKey();return Q.getLookupAsync(e)}),null)},getItems:function(e){return Enumerable.from(this.filterItems(this.cascadeItems(e.items))).toArray()},getItemText:function(e,t){var i=!ss.staticEquals(t.textFormatter,null)?t.textFormatter(e):e[t.textField];return ss.isNullOrUndefined(i)?"":i.toString()},getItemDisabled:function(e,t){return false},updateItems:function(){var e=this.getLookup();this.clearItems();var t=this.getItems(e);var i=ss.getEnumerator(t);try{while(i.moveNext()){var s=i.current();var n=this.getItemText(s,e);var r=this.getItemDisabled(s,e);var a=s[e.idField];var l=ss.isNullOrUndefined(a)?"":a.toString();this.addItem({id:l,text:n,source:s,disabled:r})}}finally{i.dispose()}},updateItemsAsync:function(){return this.getLookupAsync().then(ss.mkdel(this,function(e){this.clearItems();var t=this.getItems(e);var i=ss.getEnumerator(t);try{while(i.moveNext()){var s=i.current();var n=this.getItemText(s,e);var r=this.getItemDisabled(s,e);var a=s[e.idField];var l=ss.isNullOrUndefined(a)?"":a.toString();this.addItem({id:l,text:n,source:s,disabled:r})}}finally{i.dispose()}}),null)},getDialogTypeKey:function(){if(ss.isValue(this.options.dialogType)){return this.options.dialogType}return this.getLookupKey()},createEditDialog:function(e){var t=this.getDialogTypeKey();var i=N.get(t);Serenity.Widget.create({type:i,element:null,options:{},init:function(t){e(ss.cast(t,Tt))}})},initNewEntity:function(e){if(!ss.staticEquals(this.onInitNewEntity,null)){this.onInitNewEntity(e)}},inplaceCreateClick:function(e){if(this.get_readOnly()){return}var t=this;this.createEditDialog(ss.mkdel(this,function(e){Fi.bindToDataChange(e,this,ss.mkdel(this,function(e,i){Q.reloadLookup(this.getLookupKey());t.updateItems();t.set_value(null);if((i.type==="create"||i.type==="update")&&ss.isValue(i.entityId)){t.set_value(i.entityId.toString())}}),true);if(Q.isEmptyOrNull(this.get_value())){var i=new Object;i[this.getLookup().textField]=Q.trimToEmpty(this.lastCreateTerm);if(!ss.staticEquals(this.onInitNewEntity,null)){this.onInitNewEntity(i)}e.load(i,function(){e.dialogOpen()},null)}else{e.load(this.get_value(),function(){e.dialogOpen()},null)}}))},cascadeItems:function(e){if(ss.isNullOrUndefined(this.get_cascadeValue())||ss.safeCast(this.get_cascadeValue(),String)===""){if(!Q.isEmptyOrNull(this.get_cascadeField())){return[]}return e}var t=this.get_cascadeValue().toString();return Enumerable.from(e).where(ss.mkdel(this,function(e){var i=e[this.get_cascadeField()];if(ss.isNullOrUndefined(i)){i=bi.getPropertyValue(e,this.get_cascadeField())}var s=i;return!!(ss.isValue(s)&&ss.referenceEquals(s.toString(),t))})).toArray()},filterItems:function(e){if(ss.isNullOrUndefined(this.get_filterValue())||ss.safeCast(this.get_filterValue(),String)===""){return e}var t=this.get_filterValue().toString();return Enumerable.from(e).where(ss.mkdel(this,function(e){var i=e[this.get_filterField()];if(ss.isNullOrUndefined(i)){i=bi.getPropertyValue(e,this.get_filterField())}var s=i;return!!(ss.isValue(s)&&ss.referenceEquals(s.toString(),t))})).toArray()},getCascadeFromValue:function(e){return M.getValue(e)},$setCascadeFrom:function(e){if(ss.isNullOrEmptyString(e)){if(ss.isValue(this.$cascadeLink)){this.$cascadeLink.set_parentID(null);this.$cascadeLink=null}this.options.cascadeFrom=null;return}this.$cascadeLink=new(ss.makeGenericType(u,[Object]))(this,ss.mkdel(this,function(e){this.set_cascadeValue(this.getCascadeFromValue(e))}));this.$cascadeLink.set_parentID(e);this.options.cascadeFrom=e},getSelect2Options:function(){var e=Ti.prototype.getSelect2Options.call(this);if(ss.isValue(this.options.minimumResultsForSearch)){e.minimumResultsForSearch=ss.unbox(this.options.minimumResultsForSearch)}if(this.options.inplaceAdd&&(ss.isNullOrUndefined(this.options.inplaceAddPermission)||Q.Authorization.hasPermission(this.options.inplaceAddPermission))){e.createSearchChoice=this.getCreateSearchChoice(null)}if(this.options.multiple){e.multiple=true}e.allowClear=ss.coalesce(this.options.allowClear,true);return e},get_cascadeFrom:function(){return this.options.cascadeFrom},set_cascadeFrom:function(e){if(!ss.referenceEquals(e,this.options.cascadeFrom)){this.$setCascadeFrom(e);this.updateItems()}},get_cascadeField:function(){var e=this.options.cascadeField;if(ss.isNullOrUndefined(e)){e=this.options.cascadeFrom}return e},set_cascadeField:function(e){this.options.cascadeField=e},get_cascadeValue:function(){return this.options.cascadeValue},set_cascadeValue:function(e){if(!ss.referenceEquals(this.options.cascadeValue,e)){this.options.cascadeValue=e;this.set_value(null);this.updateItems()}},get_filterField:function(){return this.options.filterField},set_filterField:function(e){this.options.filterField=e},get_filterValue:function(){return this.options.filterValue},set_filterValue:function(e){if(!ss.referenceEquals(this.options.filterValue,e)){this.options.filterValue=e;this.set_value(null);this.updateItems()}}},Ti,[At,Et,Qt,Dt]);ss.initInterface(vt,e,{});ss.initClass(s,e,{getLookupKey:function(){var e=this.options.lookupKey;if(ss.isNullOrUndefined(e)){e=Gt.prototype.getLookupKey.call(this)}return e}},Gt,[At,Et,Qt,Dt,vt]);ss.initInterface(_t,e,{get_field:null,set_field:null,get_container:null,set_container:null,get_operator:null,set_operator:null,createEditor:null,getCriteria:null,getOperators:null,loadState:null,saveState:null});ss.initInterface(Vt,e,{initQuickFilter:null});ss.initClass(r,e,{get_field:function(){return this.$1$FieldField},set_field:function(e){this.$1$FieldField=e},get_container:function(){return this.$1$ContainerField},set_container:function(e){this.$1$ContainerField=e},get_operator:function(){return this.$1$OperatorField},set_operator:function(e){this.$1$OperatorField=e},getOperators:null,appendNullableOperators:function(e){if(!this.isNullable()){return e}e.push({key:tt.isNotNull});e.push({key:tt.isNull});return e},appendComparisonOperators:function(e){e.push({key:tt.EQ});e.push({key:tt.NE});e.push({key:tt.LT});e.push({key:tt.LE});e.push({key:tt.GT});e.push({key:tt.GE});return e},isNullable:function(){return this.get_field().required!==true},createEditor:function(){switch(this.get_operator().key){case"true":case"false":case"isnull":case"isnotnull":{return}case"contains":case"startswith":case"eq":case"ne":case"lt":case"le":case"gt":case"ge":{this.get_container().html('<input type="text"/>');return}}throw new ss.Exception(ss.formatString("Filtering '{0}' has no editor for '{1}' operator",ss.getTypeName(ss.getInstanceType(this)),this.get_operator().key))},operatorFormat:function(e){var t=e.format;if(ss.isNullOrUndefined(t)){var i=Q.tryGetText("Controls.FilterPanel.OperatorFormats."+e.key);if(ss.isNullOrUndefined(i)){i=e.key}t=i}return t},getTitle:function(e){var t=Q.tryGetText(e.title);if(ss.isNullOrUndefined(t)){var i=e.title;if(ss.isNullOrUndefined(i)){i=e.name}t=i}return t},displayText:function(e,t){if(t.length===0){return ss.formatString(this.operatorFormat(e),this.getTitle(this.get_field()))}else if(t.length===1){return ss.formatString(this.operatorFormat(e),this.getTitle(this.get_field()),t[0])}else{return ss.formatString(this.operatorFormat(e),this.getTitle(this.get_field()),t[0],t[1])}},getCriteriaField:function(){return this.get_field().name},getCriteria:function(e){var t;switch(this.get_operator().key){case"true":{e.$=this.displayText(this.get_operator(),[]);return[[this.getCriteriaField()],"=",true]}case"false":{e.$=this.displayText(this.get_operator(),[]);return[[this.getCriteriaField()],"=",false]}case"isnull":{e.$=this.displayText(this.get_operator(),[]);return["is null",[this.getCriteriaField()]]}case"isnotnull":{e.$=this.displayText(this.get_operator(),[]);return["is not null",[this.getCriteriaField()]]}case"contains":{t=this.getEditorText();e.$=this.displayText(this.get_operator(),[t]);return[[this.getCriteriaField()],"like","%"+t+"%"]}case"startswith":{t=this.getEditorText();e.$=this.displayText(this.get_operator(),[t]);return[[this.getCriteriaField()],"like",t+"%"]}case"eq":case"ne":case"lt":case"le":case"gt":case"ge":{t=this.getEditorText();e.$=this.displayText(this.get_operator(),[t]);return[[this.getCriteriaField()],tt.toCriteriaOperator[this.get_operator().key],this.getEditorValue()]}}throw new ss.Exception(ss.formatString("Filtering '{0}' has no handler for '{1}' operator",ss.getTypeName(ss.getInstanceType(this)),this.get_operator().key))},loadState:function(e){var t=this.get_container().find(":input").first();t.val(ss.safeCast(e,String))},saveState:function(){switch(this.get_operator().key){case"contains":case"startswith":case"eq":case"ne":case"lt":case"le":case"gt":case"ge":{var e=this.get_container().find(":input").first();return e.val()}}return null},argumentNull:function(){return new ss.ArgumentNullException("value",Q.text("Controls.FilterPanel.ValueRequired"))},validateEditorValue:function(e){if(e.length===0){throw this.argumentNull()}return e},getEditorValue:function(){var e=this.get_container().find(":input").not(".select2-focusser").first();if(e.length!==1){var t=this.get_field().title;if(ss.isNullOrUndefined(t)){t=this.get_field().name}throw new ss.Exception(ss.formatString("Couldn't find input in filter container for {0}",t))}var i;if(ss.isValue(e.data("select2"))){i=ss.safeCast(e.select2("val"),String)}else{i=e.val()}i=ss.coalesce(i,"").trim();return this.validateEditorValue(i)},getEditorText:function(){var e=this.get_container().find(":input").not(".select2-focusser").not(".select2-input").first();if(e.length===0){return this.get_container().text().trim()}var t;if(ss.isValue(e.data("select2"))){var i=e.select2("data");if(ss.isNullOrUndefined(i)){i=new Object}t=ss.cast(i.text,String)}else{t=e.val()}return t},initQuickFilter:function(e){e.field=this.getCriteriaField();e.type=wi;e.title=this.getTitle(this.get_field());e.options=Q.deepClone({},this.get_field().quickFilterParams)}},null,[_t,Vt]);ss.initInterface(St,e,{get_value:null,set_value:null});ss.initClass(a,e,{get_value:function(){return this.element.is(":checked")},set_value:function(e){this.element.prop("checked",!!e)}},Serenity.Widget,[St]);ss.initClass(l,e,{getOperators:function(){var e=[];e.push({key:tt.isTrue});e.push({key:tt.isFalse});return this.appendNullableOperators(e)}},r,[_t,Vt]);ss.initInterface(Pt,e,{format:null});ss.initClass(o,e,{format:function(e){if(!ss.isValue(e.value)){return""}if(!!e.value){var t=Q.tryGetText(this.get_trueText());if(ss.isNullOrUndefined(t)){var i=this.get_trueText();if(ss.isNullOrUndefined(i)){i=ss.coalesce(Q.tryGetText("Dialogs.YesButton"),"Yes")}t=i}return Q.htmlEncode(t)}var s=Q.tryGetText(this.get_falseText());if(ss.isNullOrUndefined(s)){var n=this.get_falseText();if(ss.isNullOrUndefined(n)){n=ss.coalesce(Q.tryGetText("Dialogs.NoButton"),"No")}s=n}return Q.htmlEncode(s)},get_falseText:function(){return this.$1$FalseTextField},set_falseText:function(e){this.$1$FalseTextField=e},get_trueText:function(){return this.$1$TrueTextField},set_trueText:function(e){this.$1$TrueTextField=e}},null,[Pt]);ss.initClass(d,e,{});ss.initClass(c,e,{format:function(e){return'<span class="check-box no-float readonly '+(!!e.value?" checked":"")+'"></span>'}},null,[Pt]);ss.initClass(f,e,{getItems:function(){return this.options.items||[]},updateItems:function(){var e=this.getItems()},getEditValue:function(e,t){},setEditValue:function(e,t){}},Serenity.Widget,[Et,At]);ss.initClass(h,e,{});ss.initInterface(bt,e,{getElement:null,getGrid:null,getView:null,getFilterStore:null});ss.initClass(y,e,{add_submitHandlers:function(e){this.$4$submitHandlersField=ss.delegateCombine(this.$4$submitHandlersField,e)},remove_submitHandlers:function(e){this.$4$submitHandlersField=ss.delegateRemove(this.$4$submitHandlersField,e)},layout:function(){if(!this.element.is(":visible")){return}if(ss.isNullOrUndefined(this.slickContainer)){return}Q.layoutFillHeight(this.slickContainer);if(this.element.hasClass("responsive-height")){if(ss.isValue(this.slickGrid)&&this.slickGrid.getOptions().autoHeight){this.slickContainer.children(".slick-viewport").css("height","auto");this.slickGrid.setOptions({autoHeight:false})}if(ss.isValue(this.slickGrid)&&(this.slickContainer.height()<200||$(window.window).width()<768)){this.element.css("height","auto");this.slickContainer.css("height","auto").children(".slick-viewport").css("height","auto");this.slickGrid.setOptions({autoHeight:true})}}if(ss.isValue(this.slickGrid)){this.slickGrid.resizeCanvas()}},getInitialTitle:function(){return null},createToolbarExtensions:function(){},createQuickFilters:function(){var e=this.getQuickFilters();for(var t=0;t<e.length;t++){var i=e[t];this.addQuickFilter(i)}},getQuickFilters:function(){var e=[];var t=Enumerable.from(this.allColumns).where(function(e){return ss.isValue(e.sourceItem)&&e.sourceItem.quickFilter===true}).getEnumerator();try{while(t.moveNext()){var i=t.current();var s=i.sourceItem;var n={};var r=et.get(ss.coalesce(s.filteringType,"String"));if(ss.referenceEquals(r,S)){var a=s.name;var o=Q.tryGetText(s.title);if(ss.isNullOrUndefined(o)){var u=s.title;if(ss.isNullOrUndefined(u)){u=s.name}o=u}n=this.dateRangeQuickFilter(a,o)}else if(ss.referenceEquals(r,T)){var d=s.name;var c=Q.tryGetText(s.title);if(ss.isNullOrUndefined(c)){var f=s.title;if(ss.isNullOrUndefined(f)){f=s.name}c=f}n=this.dateTimeRangeQuickFilter(d,c)}else if(ss.referenceEquals(r,l)){var h=s.name;var p=Q.tryGetText(s.title);if(ss.isNullOrUndefined(p)){var m=s.title;if(ss.isNullOrUndefined(m)){m=s.name}p=m}n=this.booleanQuickFilter(h,p,null,null)}else{var g=ss.cast(ss.createInstance(r),_t);if(ss.isValue(g)&&ss.isInstanceOfType(g,Vt)){Si.set(g,s.filteringParams);g.set_field(s);g.set_operator({key:tt.EQ});ss.cast(g,Vt).initQuickFilter(n);n.options=Q.deepClone(n.options,s.quickFilterParams)}else{continue}}e.push(n)}}finally{t.dispose()}return e},findQuickFilter:function(e,t){return Serenity.WX.getWidget(e)($("#"+this.uniqueName+"_QuickFilter_"+t))},createIncludeDeletedButton:function(){if(!Q.isEmptyOrNull(this.getIsActiveProperty())){ct.addIncludeDeletedToggle(this.toolbar.element,this.view,null,false)}},getQuickSearchFields:function(){return null},createQuickSearchInput:function(){ct.addQuickSearchInput(this.toolbar.element,this.view,this.getQuickSearchFields())},destroy:function(){this.$4$submitHandlersField=null;if(ss.isValue(this.toolbar)){this.toolbar.destroy();this.toolbar=null}if(ss.isValue(this.slickGrid)){this.slickGrid.onClick.clear();this.slickGrid.onSort.clear();this.slickGrid.onColumnsResized.clear();this.slickGrid.onColumnsReordered.clear();this.slickGrid.destroy();this.slickGrid=null}if(ss.isValue(this.view)){this.view.onDataChanged.clear();this.view.onSubmit=null;this.view.setFilter(null);this.view=null}this.titleDiv=null;Serenity.Widget.prototype.destroy.call(this)},getItemCssClass:function(e,t){var i=this.getIsActiveProperty();if(Q.isEmptyOrNull(i)){return null}var s=e[i];if(ss.isNullOrUndefined(s)){return null}if(typeof s==="number"){if(s<0){return"deleted"}else if(s===0){return"inactive"}}else if(typeof s==="boolean"){if(s===false){return"deleted"}}return null},getItemMetadata:function(e,t){var i=this.getItemCssClass(e,t);if(Q.isEmptyOrNull(i)){return new Object}return{cssClasses:i}},postProcessColumns:function(e){Oi.setDefaults(e,this.getLocalTextDbPrefix());return e},initialPopulate:function(){var e=this;if(this.populateWhenVisible()){Serenity.LazyLoadHelper.executeEverytimeWhenShown(this.element,function(){e.$refreshIfNeeded()},false);if(this.element.is(":visible")){this.view.populate()}}else{this.view.populate()}},initializeAsync:function(){return Serenity.Widget.prototype.initializeAsync.call(this).then(ss.mkdel(this,this.getColumnsAsync),null).then(ss.mkdel(this,function(e){this.allColumns=e;this.postProcessColumns(this.allColumns);var t=this;if(ss.isValue(this.filterBar)){this.filterBar.set_store(new st(Enumerable.from(this.allColumns).where(function(e){return ss.isValue(e.sourceItem)&&e.sourceItem.notFilterable!==true}).select(function(e){return e.sourceItem})));this.filterBar.get_store().add_changed(ss.mkdel(this,function(e,i){if(this.restoringSettings<=0){t.persistSettings(null);t.refresh()}}))}var i=Enumerable.from(this.allColumns).where(function(e){return e.visible!==false}).toArray();if(ss.isValue(this.slickGrid)){this.slickGrid.setColumns(i)}this.setInitialSortOrder();this.initialSettings=this.getCurrentSettings(null);this.restoreSettings(null,null);this.initialPopulate()}),null)},createSlickGrid:function(){var e;if(this.isAsyncWidget()){e=[]}else{this.allColumns=this.getColumns();e=Enumerable.from(this.postProcessColumns(this.allColumns)).where(function(e){return e.visible!==false}).toArray()}var t=this.getSlickOptions();var i=new Slick.Grid(this.slickContainer,this.view,e,t);i.registerPlugin(new Slick.AutoTooltips({enableForHeaderCells:true}));this.slickGrid=i;this.rows=this.slickGrid;if(!this.isAsyncWidget()){this.setInitialSortOrder()}return i},setInitialSortOrder:function(){var e=this.getDefaultSortBy();if(ss.isValue(this.view)){this.view.sortBy=Array.prototype.slice.call(e)}var t=e.map(function(e){var t={};if(ss.isValue(e)&&ss.endsWithString(e.toLowerCase()," desc")){t.columnId=ss.trimEndString(e.substr(0,e.length-5));t.sortAsc=false}else{t.columnId=e;t.sortAsc=true}return t});this.slickGrid.setSortColumns(t)},itemAt:function(e){return this.slickGrid.getDataItem(e)},rowCount:function(){return this.slickGrid.getDataLength()},getItems:function(){return this.view.getItems()},setItems:function(e){this.view.setItems(e,true)},bindToSlickEvents:function(){var e=this;this.$slickGridOnSort=ss.mkdel(this,function(t,i){e.view.populateLock();try{var s=[];if(!!i.multiColumnSort){for(var n=0;!!(n<i.sortCols.length);n++){var r=i.sortCols[n];var a=r.sortCol;if(ss.isNullOrUndefined(a)){a={}}var l=a;s.push(ss.cast(l.field+(!!r.sortAsc?"":" DESC"),String))}}else{var o=i.sortCol;if(ss.isNullOrUndefined(o)){o={}}var u=o;s.push(ss.cast(u.field+(!!i.sortAsc?"":" DESC"),String))}e.view.sortBy=s}finally{e.view.populateUnlock()}e.view.populate();this.persistSettings(null)});this.slickGrid.onSort.subscribe(this.$slickGridOnSort);this.$slickGridOnClick=function(t,i){e.onClick(t,ss.unbox(ss.cast(i.row,ss.Int32)),ss.unbox(ss.cast(i.cell,ss.Int32)))};this.slickGrid.onClick.subscribe(this.$slickGridOnClick);this.slickGrid.onColumnsReordered.subscribe(ss.mkdel(this,function(e,t){return this.persistSettings(null)}));this.slickGrid.onColumnsResized.subscribe(ss.mkdel(this,function(e,t){return this.persistSettings(null)}))},getAddButtonCaption:function(){return"New"},getButtons:function(){return[]},editItem:function(e){throw new ss.NotImplementedException},editItemOfType:function(e,t){if(ss.referenceEquals(e,this.getItemType())){this.editItem(t);return}throw new ss.NotImplementedException},onClick:function(e,t,i){if(e.isDefaultPrevented()){return}var s=$(e.target);if(!s.hasClass("s-EditLink")){s=s.closest("a")}if(s.hasClass("s-EditLink")){e.preventDefault();this.editItemOfType(xi.getItemType(s),xi.getItemId(s))}},$viewDataChanged:function(e,t){this.markupReady()},bindToViewEvents:function(){var e=this;this.view.onDataChanged.subscribe(function(t,i){return e.$viewDataChanged(t,i)});this.view.onSubmit=function(t){return e.onViewSubmit()};this.view.setFilter(function(t,i){return e.onViewFilter(t)});this.view.onProcessData=function(t,i){return e.onViewProcessData(t)}},onViewProcessData:function(e){return e},onViewFilter:function(e){return true},getIncludeColumns:function(e){var t=this.slickGrid.getColumns();for(var i=0;i<t.length;i++){var s=t[i];if(ss.isValue(s.field)){e[s.field]=true}if(ss.isValue(s.referencedFields)){for(var n=0;n<s.referencedFields.length;n++){var r=s.referencedFields[n];e[r]=true}}}},setCriteriaParameter:function(){delete this.view.params["Criteria"];if(ss.isValue(this.filterBar)){var e=this.filterBar.get_store().get_activeCriteria();if(!Serenity.Criteria.isEmpty(e)){this.view.params.Criteria=e}}},setEquality:function(e,t){Q.setEquality(this.view.params,e,t)},setIncludeColumnsParameter:function(){var e={};this.getIncludeColumns(e);var t=null;if(ss.getKeyCount(e)>0){t=[];var i=ss.getEnumerator(Object.keys(e));try{while(i.moveNext()){var s=i.current();t.push(s)}}finally{i.dispose()}}this.view.params.IncludeColumns=t},onViewSubmit:function(){if(this.isDisabled||!this.getGridCanLoad()){return false}this.setCriteriaParameter();this.setIncludeColumnsParameter();this.invokeSubmitHandlers();return true},markupReady:function(){},createSlickContainer:function(){return $('<div class="grid-container"></div>').appendTo(this.element)},createView:function(){var e=this.getViewOptions();return new Slick.RemoteView(e)},getDefaultSortBy:function(){if(ss.isValue(this.slickGrid)&&this.slickGrid.getColumns().length>0){var e=Enumerable.from(this.slickGrid.getColumns()).where(function(e){return ss.isValue(e.sortOrder)&&e.sortOrder!==0}).toArray();if(e.length>0){e.sort(function(e,t){return ss.compare(Math.abs(e.sortOrder),Math.abs(t.sortOrder))});var t=[];for(var i=0;i<e.length;i++){var s=e[i];t.push(s.field+(s.sortOrder<0?" DESC":""))}return t}}return[]},usePager:function(){return false},enableFiltering:function(){var e=ss.getAttributes(ss.getInstanceType(this),J,true);return e.length>0&&e[0].value},populateWhenVisible:function(){return false},createFilterBar:function(){var e=$("<div/>").appendTo(this.element);var t=this;this.filterBar=new Z(e);if(!this.isAsyncWidget()){this.filterBar.set_store(new st(Enumerable.from(this.allColumns).where(function(e){return ss.isValue(e.sourceItem)&&e.sourceItem.notFilterable!==true}).select(function(e){return e.sourceItem})));this.filterBar.get_store().add_changed(ss.mkdel(this,function(e,i){if(this.restoringSettings<=0){t.persistSettings(null);t.refresh()}}))}},createPager:function(){var e=$("<div></div>").appendTo(this.element);e.slickPager({view:this.view,rowsPerPage:20,rowsPerPageOptions:[20,100,500,2500]})},getViewOptions:function(){var e={};e.idField=this.getIdProperty();e.sortBy=this.getDefaultSortBy();if(!this.usePager()){e.rowsPerPage=0}else if(this.element.hasClass("responsive-height")){e.rowsPerPage=$(window.window).width()<768?20:100}else{e.rowsPerPage=100}e.getItemMetadata=ss.mkdel(this,function(e,t){return this.getItemMetadata(e,t)});return e},createToolbar:function(e){var t=$('<div class="grid-toolbar"></div>').appendTo(this.element);this.toolbar=new Ai(t,{buttons:e,hotkeyContext:this.element[0]})},getTitle:function(){if(ss.isNullOrUndefined(this.titleDiv)){return null}return this.titleDiv.children().text()},setTitle:function(e){if(!ss.referenceEquals(e,this.getTitle())){if(ss.isNullOrUndefined(e)){if(ss.isValue(this.titleDiv)){this.titleDiv.remove();this.titleDiv=null}}else{if(ss.isNullOrUndefined(this.titleDiv)){this.titleDiv=$('<div class="grid-title"><div class="title-text"></div></div>').prependTo(this.element)}this.titleDiv.children().text(e)}this.layout()}},getItemType:function(){return"Item"},itemLink:function(e,t,i,s,n){var r=e;if(ss.isNullOrUndefined(r)){r=this.getItemType()}e=r;var a=t;if(ss.isNullOrUndefined(a)){a=this.getIdProperty()}t=a;return xi.itemLink(e,t,i,s,n)},getColumnsKey:function(){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.ColumnsKeyAttribute,true);if(ss.isValue(e)&&e.length>0){return e[0].value}return null},getPropertyItemsAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var e=this.getColumnsKey();if(!ss.isNullOrEmptyString(e)){return Q.getColumnsAsync(e)}return RSVP.resolve([])}),null)},getPropertyItems:function(){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.ColumnsKeyAttribute,true);var t=this.getColumnsKey();if(!ss.isNullOrEmptyString(t)){return Q.getColumns(t)}return[]},getColumns:function(){var e=this.getPropertyItems();return this.propertyItemsToSlickColumns(e)},propertyItemsToSlickColumns:function(e){var t=di.toSlickColumns(e);for(var i=0;i<e.length;i++){var s=e[i];var n=t[i];if(s.editLink===true){var r={$:n.format};var a={$:ss.isValue(s.editLinkCssClass)?s.editLinkCssClass:null};n.format=this.itemLink(ss.isValue(s.editLinkItemType)?s.editLinkItemType:null,ss.isValue(s.editLinkIdField)?s.editLinkIdField:null,ss.mkdel({oldFormat:r},function(e){if(!ss.staticEquals(this.oldFormat.$,null)){return this.oldFormat.$(e)}return Q.htmlEncode(e.value)}),ss.mkdel({css:a},function(e){return ss.coalesce(this.css.$,"")}),false);if(!ss.isNullOrEmptyString(s.editLinkIdField)){n.referencedFields=n.referencedFields||[];n.referencedFields.push(s.editLinkIdField)}}}return t},getColumnsAsync:function(){return this.getPropertyItemsAsync().then(ss.mkdel(this,function(e){return this.propertyItemsToSlickColumns(e)}),null)},getSlickOptions:function(){var e={};e.multiSelect=false;e.multiColumnSort=true;e.enableCellNavigation=false;e.headerRowHeight=y.defaultHeaderHeight;e.rowHeight=y.defaultRowHeight;return e},populateLock:function(){this.view.populateLock()},populateUnlock:function(){this.view.populateUnlock()},getGridCanLoad:function(){return true},refresh:function(){if(!this.populateWhenVisible()){this.internalRefresh();return}if(this.slickContainer.is(":visible")){this.slickContainer.data("needsRefresh",false);this.internalRefresh();return}this.slickContainer.data("needsRefresh",true)},$refreshIfNeeded:function(){if(!!this.slickContainer.data("needsRefresh")){this.slickContainer.data("needsRefresh",false);this.internalRefresh()}},internalRefresh:function(){this.view.populate()},setIsDisabled:function(e){if(this.$isDisabled!==e){this.$isDisabled=e;if(this.$isDisabled){this.view.setItems([],true)}this.updateDisabledState()}},getLocalTextDbPrefix:function(){if(ss.isNullOrUndefined(this.$localTextDbPrefix)){this.$localTextDbPrefix=ss.coalesce(this.getLocalTextPrefix(),"");if(this.$localTextDbPrefix.length>0&&!ss.endsWithString(this.$localTextDbPrefix,".")){this.$localTextDbPrefix="Db."+this.$localTextDbPrefix+"."}}return this.$localTextDbPrefix},getLocalTextPrefix:function(){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.LocalTextPrefixAttribute,true);if(e.length>=1){return e[0].value}else{return""}},getIdProperty:function(){if(ss.isNullOrUndefined(this.$idProperty)){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.IdPropertyAttribute,true);if(e.length===1){this.$idProperty=e[0].value}else{this.$idProperty="ID"}}return this.$idProperty},getIsActiveProperty:function(){if(ss.isNullOrUndefined(this.$isActiveProperty)){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.IsActivePropertyAttribute,true);if(e.length===1){this.$isActiveProperty=e[0].value}else{this.$isActiveProperty=""}}return this.$isActiveProperty},updateDisabledState:function(){this.slickContainer.toggleClass("ui-state-disabled",!!this.isDisabled)},resizeCanvas:function(){this.slickGrid.resizeCanvas()},subDialogDataChange:function(){this.refresh()},addFilterSeparator:function(){if(ss.isValue(this.quickFiltersDiv)){this.quickFiltersDiv.append($("<hr/>"))}},determineText:function(e){var t=this.getLocalTextDbPrefix();if(!Q.isEmptyOrNull(t)){var i=Q.tryGetText(e(t));if(ss.isValue(i)){return i}}return null},addQuickFilter:function(e){if(ss.isNullOrUndefined(e)){throw new ss.ArgumentNullException("opt")}if(ss.isNullOrUndefined(this.quickFiltersDiv)){$("<div/>").addClass("clear").appendTo(this.toolbar.element);this.quickFiltersDiv=$("<div/>").addClass("quick-filters-bar").appendTo(this.toolbar.element)}var t=$("<div class='quick-filter-item'><span class='quick-filter-label'></span></div>").appendTo(this.quickFiltersDiv).children();var i=e.title;if(ss.isNullOrUndefined(i)){var s=this.determineText(function(t){return t+e.field});if(ss.isNullOrUndefined(s)){s=e.field}i=s}var n=t.text(i).parent();var r=Serenity.Widget.create({type:e.type,element:ss.mkdel(this,function(t){if(!Q.isEmptyOrNull(e.field)){t.attr("id",this.uniqueName+"_QuickFilter_"+e.field)}t.attr("placeholder"," ");t.appendTo(n);if(!ss.staticEquals(e.element,null)){e.element(t)}}),options:e.options,init:e.init});var a=ss.mkdel(this,function(){if(n.hasClass("ignore")){return}var t=this.view.params;t.EqualityFilter=t.EqualityFilter||{};var i=M.getValue(r);var s=ss.isValue(i)&&!ss.isNullOrEmptyString(i.toString());if(!ss.staticEquals(e.handler,null)){var a={field:e.field,request:t,equalityFilter:t.EqualityFilter,value:i,active:s,widget:r,handled:true};e.handler(a);n.toggleClass("quick-filter-active",a.active);if(!a.handled){t.EqualityFilter[e.field]=i}}else{t.EqualityFilter[e.field]=i;n.toggleClass("quick-filter-active",s)}});Li.changeSelect2(r,ss.mkdel(this,function(e){this.quickFilterChange(e)}));this.add_submitHandlers(a);r.element.bind("remove."+this.uniqueName,ss.mkdel(this,function(e){this.remove_submitHandlers(a)}));return r},addDateRangeFilter:function(e,t){return ss.cast(this.addQuickFilter(this.dateRangeQuickFilter(e,t)),v)},dateRangeQuickFilter:function(e,t){var i=null;return{field:e,type:v,title:t,element:function(e){i=Serenity.Widget.create({type:v,element:function(t){t.insertAfter(e)},options:null,init:null});i.element.change(function(t){e.triggerHandler("change")});$("<span/>").addClass("range-separator").text("-").insertAfter(e)},handler:function(e){var t=!Q.isTrimmedEmpty(e.widget.get_value());var s=!Q.isTrimmedEmpty(i.get_value());if(t&&!Q.parseDate(e.widget.element.val())){t=false;Q.notifyWarning(Q.text("Validation.DateInvalid"),"",null);e.widget.element.val("")}if(s&&!Q.parseDate(i.element.val())){s=false;Q.notifyWarning(Q.text("Validation.DateInvalid"),"",null);i.element.val("")}e.active=t||s;if(t){e.request.Criteria=Serenity.Criteria.join(e.request.Criteria,"and",[[e.field],">=",e.widget.get_value()])}if(s){var n=new Date(i.get_valueAsDate().valueOf());n.setDate(n.getDate()+1);e.request.Criteria=Serenity.Criteria.join(e.request.Criteria,"and",[[e.field],"<",Q.formatDate(n,"yyyy-MM-dd")])}}}},addDateTimeRangeFilter:function(e,t){return ss.cast(this.addQuickFilter(this.dateTimeRangeQuickFilter(e,t)),C)},dateTimeRangeQuickFilter:function(e,t){var i=null;return{field:e,type:C,title:t,element:function(e){i=Serenity.Widget.create({type:C,element:function(t){t.insertAfter(e)},options:null,init:null});i.element.change(function(t){e.triggerHandler("change")});$("<span/>").addClass("range-separator").text("-").insertAfter(e)},init:function(e){e.element.parent().find(".time").change(function(t){e.element.triggerHandler("change")})},handler:function(e){var t=!Q.isTrimmedEmpty(e.widget.get_value());var s=!Q.isTrimmedEmpty(i.get_value());if(t&&!Q.parseDate(e.widget.element.val())){t=false;Q.notifyWarning(Q.text("Validation.DateInvalid"),"",null);e.widget.element.val("")}if(s&&!Q.parseDate(i.element.val())){s=false;Q.notifyWarning(Q.text("Validation.DateInvalid"),"",null);i.element.val("")}e.active=t||s;if(t){e.request.Criteria=Serenity.Criteria.join(e.request.Criteria,"and",[[e.field],">=",e.widget.get_value()])}if(s){e.request.Criteria=Serenity.Criteria.join(e.request.Criteria,"and",[[e.field],"<=",i.get_value()])}}}},addBooleanFilter:function(e,t,i,s){return ss.cast(this.addQuickFilter(this.booleanQuickFilter(e,t,i,s)),_i)},booleanQuickFilter:function(e,t,i,s){var n=Ei.$ctor();var r=[];var a=i;if(ss.isNullOrUndefined(a)){a=Q.text("Controls.FilterPanel.OperatorNames.true")}r.push(["1",a]);var l=s;if(ss.isNullOrUndefined(l)){l=Q.text("Controls.FilterPanel.OperatorNames.false")}r.push(["0",l]);n.items=r;return{field:e,type:_i,title:t,options:n,handler:function(e){e.equalityFilter[e.field]=ss.isNullOrEmptyString(ss.safeCast(e.value,String))?null:!!Q.toId(e.value)}}},invokeSubmitHandlers:function(){if(!ss.staticEquals(this.$4$submitHandlersField,null)){this.$4$submitHandlersField()}},quickFilterChange:function(e){this.refresh()
},getPersistanceStorage:function(){return y.defaultPersistanceStorage},getPersistanceKey:function(){var e="GridSettings:";var t=window.location.pathname;if(!ss.isNullOrEmptyString(t)){e+=Enumerable.from(t.substr(1).split(String.fromCharCode(47))).take(2).toArray().join("/")+":"}e+=ss.getTypeFullName(ss.getInstanceType(this));return e},gridPersistanceFlags:function(){return{}},$canShowColumn:function(e){if(ss.isNullOrUndefined(e)){return false}var t=e.sourceItem;if(ss.isNullOrUndefined(t)){return true}if(t.filterOnly===true){return false}if(ss.isNullOrUndefined(t.readPermission)){return true}return Q.Authorization.hasPermission(t.readPermission)},restoreSettings:function(e,t){if(ss.isNullOrUndefined(e)){var i=this.getPersistanceStorage();if(ss.isNullOrUndefined(i)){return}var s=Q.trimToNull(i.getItem(this.getPersistanceKey()));if(ss.isValue(s)&&ss.startsWithString(s,"{")&&ss.endsWithString(s,"}")){e=JSON.parse(s)}else{return}}if(ss.isNullOrUndefined(this.slickGrid)){return}var n=this.slickGrid.getColumns();var r=null;var a=function(e){r={};for(var t=0;t<e.length;t++){var i=e[t];r[i.id]=i}};this.view.beginUpdate();this.restoringSettings++;try{t=t||this.gridPersistanceFlags();if(ss.isValue(e.columns)){if(t.columnVisibility!==false){var l={};a(this.allColumns);var o=[];for(var u=0;u<e.columns.length;u++){var d=e.columns[u];if(ss.isValue(d.id)&&d.visible===true){var c=r[d.id];if(this.$canShowColumn(c)){c.visible=true;o.push(c);delete r[d.id]}}}for(var f=0;f<this.allColumns.length;f++){var h=this.allColumns[f];if(ss.keyExists(r,h.id)){h.visible=false;o.push(h)}}this.allColumns=o;n=Enumerable.from(this.allColumns).where(function(e){return e.visible===true}).toArray()}if(t.columnWidths!==false){a(n);for(var p=0;p<e.columns.length;p++){var m=e.columns[p];if(ss.isValue(m.id)&&ss.isValue(m.width)&&m.width!==0){var g=r[m.id];if(ss.isValue(g)){g.width=ss.unbox(m.width)}}}}if(t.sortColumns!==false){a(n);var y=[];var v=Enumerable.from(e.columns).where(function(e){return ss.isValue(e.id)&&ss.coalesce(e.sort,0)!==0}).orderBy(function(e){return Math.abs(ss.unbox(e.sort))}).getEnumerator();try{while(v.moveNext()){var S=v.current();var b=r[S.id];if(ss.isValue(b)){y.push({columnId:S.id,sortAsc:ss.Nullable$1.gt(S.sort,0)})}}}finally{v.dispose()}this.view.sortBy=Enumerable.from(y).select(function(e){return e.columnId+(e.sortAsc===false?" DESC":"")}).toArray();this.slickGrid.setSortColumns(y)}this.slickGrid.setColumns(n);this.slickGrid.invalidate()}if(ss.isValue(e.filterItems)&&t.filterItems!==false&&ss.isValue(this.filterBar)&&ss.isValue(this.filterBar.get_store())){ss.clear(this.filterBar.get_store().get_items());ss.arrayAddRange(this.filterBar.get_store().get_items(),e.filterItems);this.filterBar.get_store().raiseChanged()}if(ss.isValue(e.includeDeleted)&&t.includeDeleted!==false){var C=this.element.find(".s-IncludeDeletedToggle");if(!!e.includeDeleted!==C.hasClass("pressed")){C.children("a").click()}}}finally{this.restoringSettings--;this.view.endUpdate()}},persistSettings:function(e){var t=this.getPersistanceStorage();if(ss.isNullOrUndefined(t)){return}var i=this.getCurrentSettings(e);t.setItem(this.getPersistanceKey(),$.toJSON(i))},getCurrentSettings:function(e){e=e||this.gridPersistanceFlags();var t={};if(e.columnVisibility!==false||e.columnWidths!==false||e.sortColumns!==false){t.columns=[];var i=this.slickGrid.getSortColumns();var s=this.slickGrid.getColumns();for(var n=0;n<s.length;n++){var r={$:s[n]};var a={};a.id=r.$.id;if(e.columnVisibility!==false){a.visible=true}if(e.columnWidths!==false){a.width=r.$.width}if(e.sortColumns!==false){var l=Enumerable.from(i).indexOf(ss.mkdel({column:r},function(e){return ss.referenceEquals(e.columnId,this.column.$.id)}));a.sort=l>=0?i[l].sortAsc!==false?l+1:-l-1:0}t.columns.push(a)}}if(e.includeDeleted!==false){t.includeDeleted=this.element.find(".s-IncludeDeletedToggle").hasClass("pressed")}if(e.filterItems!==false&&ss.isValue(this.filterBar)&&ss.isValue(this.filterBar.get_store())){t.filterItems=Enumerable.from(this.filterBar.get_store().get_items()).toArray()}return t},getElement:function(){return this.element},getGrid:function(){return this.slickGrid},getView:function(){return this.view},getFilterStore:function(){return ss.isNullOrUndefined(this.filterBar)?null:this.filterBar.get_store()}},Serenity.Widget,[bt]);ss.initClass(p,e,{getTreeItems:function(){return[]},updateItems:function(){var e=this.getTreeItems();var t={};for(var i=0;i<e.length;i++){var s=e[i];s.children=[];if(!Q.isEmptyOrNull(s.id)){t[s.id]=s}if(!Q.isEmptyOrNull(s.parentId)){var n=t[s.parentId];if(ss.isValue(n)){n.children.push(s)}}}this.view.addData({Entities:e,Skip:0,Take:0,TotalCount:e.length});this.updateSelectAll();this.updateFlags()},getEditValue:function(e,t){t[e.name]=this.get_value()},setEditValue:function(e,t){var i=ss.safeCast(e[t.name],Array);if(ss.isValue(i)){this.set_value(i)}},getButtons:function(){var e=this.getSelectAllText();if(Q.isEmptyOrNull(e)){return null}var t=this;var i=[];i.push(dt.define(function(){return t},function(e){return e.id},function(e){return e.isSelected},ss.mkdel(this,function(e,t){if(e.isSelected!==t){e.isSelected=t;this.itemSelectedChanged(e)}}),null,ss.mkdel(this,function(){this.updateFlags()})));return i},itemSelectedChanged:function(e){},getSelectAllText:function(){return"Tümünü Seç"},isThreeStateHierarchy:function(){return false},createSlickGrid:function(){this.element.addClass("slick-no-cell-border").addClass("slick-no-odd-even");var e=y.prototype.createSlickGrid.call(this);this.element.addClass("slick-hide-header");e.resizeCanvas();return e},onViewFilter:function(e){if(!y.prototype.onViewFilter.call(this,e)){return false}var t=this.view.getItems();var i=this;return ki.filterCustom(e,function(e){if(ss.isNullOrUndefined(e.parentId)){return null}if(ss.isNullOrUndefined(i.$byId)){i.$byId={};for(var s=0;s<t.length;s++){var n=t[s];if(ss.isValue(n.id)){i.$byId[n.id]=n}}}return i.$byId[e.parentId]})},getInitialCollapse:function(){return false},onViewProcessData:function(e){e=y.prototype.onViewProcessData.call(this,e);this.$byId=null;ki.setIndents(e.Entities,function(e){return e.id},function(e){return e.parentId},this.getInitialCollapse());return e},onClick:function(e,t,i){y.prototype.onClick.call(this,e,t,i);if(!e.isDefaultPrevented()){ki.toggleClick(e,t,i,this.view,function(e){return e.id})}if(e.isDefaultPrevented()){return}var s=$(e.target);if(s.hasClass("check-box")){var n=s.hasClass("checked")||s.hasClass("partial");var r=this.rows.getDataItem(t);var a=r.isSelected!==!n;this.view.beginUpdate();try{if(r.isSelected!==!n){r.isSelected=!n;this.view.updateItem(r.id,r);this.itemSelectedChanged(r)}a=!!(this.$setAllSubTreeSelected(r,r.isSelected)|a);this.updateSelectAll();this.updateFlags()}finally{this.view.endUpdate()}if(a){this.element.triggerHandler("change")}}},updateSelectAll:function(){dt.update(this,function(e){return e.isSelected})},updateFlags:function(){var e=this.view;var t=e.getItems();var i=this.isThreeStateHierarchy();if(!i){return}e.beginUpdate();try{for(var s=0;s<t.length;s++){var n=t[s];if(ss.isNullOrUndefined(n.children)||n.children.length===0){var r=this.getDescendantsSelected(n);if(r!==n.isAllDescendantsSelected){n.isAllDescendantsSelected=r;e.updateItem(n.id,n)}continue}var a=this.allDescendantsSelected(n);var l=a||this.anyDescendantsSelected(n);if(a!==n.isAllDescendantsSelected||l!==n.isSelected){var o=n.isSelected!==l;n.isAllDescendantsSelected=a;n.isSelected=l;e.updateItem(n.id,n);if(o){this.itemSelectedChanged(n)}}}}finally{e.endUpdate()}},getDescendantsSelected:function(e){return true},$setAllSubTreeSelected:function(e,t){var i=false;for(var s=0;s<e.children.length;s++){var n=e.children[s];if(n.isSelected!==t){i=true;n.isSelected=t;this.view.updateItem(n.id,n);this.itemSelectedChanged(n)}if(n.children.length>0){i=!!(this.$setAllSubTreeSelected(n,t)|i)}}return i},$allItemsSelected:function(){for(var e=0;e<this.rows.getDataLength();e++){var t=this.rows.getDataItem(e);if(!t.isSelected){return false}}return this.rows.getDataLength()>0},allDescendantsSelected:function(e){if(e.children.length>0){for(var t=0;t<e.children.length;t++){var i=e.children[t];if(!i.isSelected){return false}if(!this.allDescendantsSelected(i)){return false}}}return true},anyDescendantsSelected:function(e){if(e.children.length>0){for(var t=0;t<e.children.length;t++){var i=e.children[t];if(i.isSelected){return true}if(this.anyDescendantsSelected(i)){return true}}}return false},getColumns:function(){var e=this;var t=[];t.push({field:"text",name:"Kayıt",width:80,format:xi.treeToggle(function(){return e.view},function(e){return e.id},ss.mkdel(this,function(e){var t="check-box";var i=e.item;if(i.hideCheckBox){return this.getItemText(e)}var s=this.isThreeStateHierarchy();if(i.isSelected){if(s&&!i.isAllDescendantsSelected){t+=" partial"}else{t+=" checked"}}return'<span class="'+t+'"></span>'+this.getItemText(e)}))});return t},getItemText:function(e){return Q.htmlEncode(e.value)},getSlickOptions:function(){var e=y.prototype.getSlickOptions.call(this);e.forceFitColumns=true;return e},sortItems:function(){if(!this.moveSelectedUp()){return}var e={};var t=this.view.getItems();var i=0;for(var s=0;s<t.length;s++){var n=t[s];e[n.id]=i++}t.sort(function(t,i){if(t.isSelected&&!i.isSelected){return-1}if(i.isSelected&&!t.isSelected){return 1}var s=Q.turkishLocaleCompare(t.text,i.text);if(s!==0){return s}return ss.compare(e[t.id],e[i.id])});this.view.setItems(t,true)},moveSelectedUp:function(){return false},get_value:function(){var e=[];var t=this.view.getItems();for(var i=0;i<t.length;i++){if(t[i].isSelected){e.push(t[i].id)}}return e},set_value:function(e){var t={};if(ss.isValue(e)){for(var i=0;i<e.length;i++){t[e[i]]=true}}this.view.beginUpdate();try{var s=this.view.getItems();for(var n=0;n<s.length;n++){var r=s[n];var a=t[r.id];if(a!==r.isSelected){r.isSelected=a;this.view.updateItem(r.id,r)}}this.updateSelectAll();this.updateFlags();this.sortItems()}finally{this.view.endUpdate()}}},y,[bt,Et,At]);ss.initClass(m,e,{});ss.initClass(g,e,{});ss.initClass(v,e,{get_value:function(){var e=this.element.val().trim();if(ss.isValue(e)&&e.length===0){return null}return Q.formatDate(e,"yyyy-MM-dd")},set_value:function(e){if(ss.isNullOrUndefined(e)){this.element.val("")}else if(e.toLowerCase()==="today"||e.toLowerCase()==="now"){this.element.val(Q.formatDate(ss.today(),null))}else{this.element.val(Q.formatDate(e,null))}},get_valueAsDate:function(){if(ss.isNullOrEmptyString(this.get_value())){return null}return Q.parseISODateTime(this.get_value())},set_valueAsDate:function(e){if(ss.staticEquals(e,null)){this.set_value(null)}this.set_value(Q.formatDate(e,"yyyy-MM-dd"))},get_readOnly:function(){return this.element.hasClass("readonly")},set_readOnly:function(e){if(e!==this.get_readOnly()){if(e){this.element.addClass("readonly").attr("readonly","readonly");this.element.nextAll(".ui-datepicker-trigger").css("opacity","0.1")}else{this.element.removeClass("readonly").removeAttr("readonly");this.element.nextAll(".ui-datepicker-trigger").css("opacity","1")}}},get_minValue:function(){return this.$4$MinValueField},set_minValue:function(e){this.$4$MinValueField=e},get_maxValue:function(){return this.$4$MaxValueField},set_maxValue:function(e){this.$4$MaxValueField=e},get_minDate:function(){return Q.parseISODateTime(this.get_minValue())},set_minDate:function(e){this.set_minValue(Q.formatDate(e,"yyyy-MM-dd"))},get_maxDate:function(){return Q.parseISODateTime(this.get_maxValue())},set_maxDate:function(e){this.set_maxValue(Q.formatDate(e,"yyyy-MM-dd"))},get_sqlMinMax:function(){return this.get_minValue()==="1753-01-01"&&this.get_maxValue()==="9999-12-31"},set_sqlMinMax:function(e){if(e){this.set_minValue("1753-01-01");this.set_maxValue("9999-12-31")}else{this.set_minValue(null);this.set_maxValue(null)}}},Serenity.Widget,[Qt,Dt]);ss.initClass(S,e,{getOperators:function(){return this.appendNullableOperators(this.appendComparisonOperators([]))}},ss.makeGenericType(n,[v]),[_t,Vt]);ss.initClass(b,e,{get_displayFormat:function(){return this.$1$DisplayFormatField},set_displayFormat:function(e){this.$1$DisplayFormatField=e},format:function(e){return b.format(e.value,this.get_displayFormat())}},null,[Pt]);ss.initClass(C,e,{get_value:function(){var e=this.element.val().trim();if(ss.isValue(e)&&e.length===0){return null}var t=Q.formatDate(e,"yyyy-MM-dd");var i=this.$time.val();return t+"T"+i+":00.000"},set_value:function(e){if(ss.isNullOrEmptyString(e)){this.element.val("");this.$time.val("00:00")}else if(e.toLowerCase()==="today"){this.element.val(Q.formatDate(ss.today(),null));this.$time.val("00:00")}else{var t=e.toLowerCase()==="now"?new Date:Q.parseISODateTime(e);t=C.roundToMinutes(t,ss.coalesce(this.options.intervalMinutes,5));this.element.val(Q.formatDate(t,null));this.$time.val(Q.formatDate(t,"HH:mm"))}},get_valueAsDate:function(){if(ss.isNullOrEmptyString(this.get_value())){return null}return Q.parseISODateTime(this.get_value())},set_valueAsDate:function(e){if(ss.staticEquals(e,null)){this.set_value(null)}this.set_value(Q.formatDate(e,"yyyy-MM-ddTHH:mm"))},get_minValue:function(){return this.$4$MinValueField},set_minValue:function(e){this.$4$MinValueField=e},get_maxValue:function(){return this.$4$MaxValueField},set_maxValue:function(e){this.$4$MaxValueField=e},get_minDate:function(){return Q.parseISODateTime(this.get_minValue())},set_minDate:function(e){this.set_minValue(Q.formatDate(e,"yyyy-MM-ddTHH:mm:ss"))},get_maxDate:function(){return Q.parseISODateTime(this.get_maxValue())},set_maxDate:function(e){this.set_maxValue(Q.formatDate(e,"yyyy-MM-ddTHH:mm:ss"))},get_sqlMinMax:function(){return this.get_minValue()==="1753-01-01"&&this.get_maxValue()==="9999-12-31"},set_sqlMinMax:function(e){if(e){this.set_minValue("1753-01-01");this.set_maxValue("9999-12-31")}else{this.set_minValue(null);this.set_maxValue(null)}},get_readOnly:function(){return this.element.hasClass("readonly")},set_readOnly:function(e){if(e!==this.get_readOnly()){if(e){this.element.addClass("readonly").attr("readonly","readonly");this.element.nextAll(".ui-datepicker-trigger").css("opacity","0.1")}else{this.element.removeClass("readonly").removeAttr("readonly");this.element.nextAll(".ui-datepicker-trigger").css("opacity","1")}M.setReadonly(this.$time,e)}}},Serenity.Widget,[Qt,Dt]);ss.initClass(T,e,{getOperators:function(){return this.appendNullableOperators(this.appendComparisonOperators([]))},getCriteria:function(e){switch(this.get_operator().key){case"eq":case"ne":case"lt":case"le":case"gt":case"ge":{{var t=this.getEditorText();e.$=this.displayText(this.get_operator(),[t]);var i=Q.parseISODateTime(ss.cast(this.getEditorValue(),String));i=new Date(i.getFullYear(),i.getMonth(),i.getDate());var s=new Date(i.getFullYear(),i.getMonth(),i.getDate()+1);var n=[this.getCriteriaField()];var a=Q.formatDate(i,"yyyy-MM-dd");var l=Q.formatDate(s,"yyyy-MM-dd");switch(this.get_operator().key){case"eq":{return Serenity.Criteria.join([n,">=",a],"and",[n,"<",l])}case"ne":{return Serenity.Criteria.paren(Serenity.Criteria.join([n,"<",a],"or",[n,">",l]))}case"lt":{return[n,"<",a]}case"le":{return[n,"<",l]}case"gt":{return[n,">=",l]}case"ge":{return[n,">=",a]}}}break}}return r.prototype.getCriteria.call(this,e)}},ss.makeGenericType(n,[v]),[_t,Vt]);ss.initClass(_,e,{},b,[Pt]);ss.initClass(_i,e,{getItems:function(){return this.options.items||[]},emptyItemText:function(){if(!ss.isNullOrEmptyString(this.options.emptyOptionText)){return this.options.emptyOptionText}return Ti.prototype.emptyItemText.call(this)},updateItems:function(){var e=this.getItems();this.clearItems();if(e.length>0){var t=typeof e[0]==="string";for(var i=0;i<e.length;i++){var s=e[i];var n=ss.cast(t?s:s[0],String);var r;if(t){r=s}else{var a=s[1];if(ss.isNullOrUndefined(a)){a=s[0]}r=a}var l=ss.cast(r,String);this.addOption(n,l,s,false)}}}},Ti,[At,Et,Qt,Dt]);ss.initClass(E,e,{getItems:function(){var e=this.options;if(ss.isValue(e.items)&&e.items.length>=1){return e.items}var t=[];var i=(new Date).getFullYear();var s=(new Date).getFullYear();if(ss.isValue(e.minYear)){e.minYear=e.minYear.toString();if(ss.startsWithString(e.minYear,"-")){i-=parseInt(e.minYear.substr(1),10)}else if(ss.startsWithString(e.minYear,"+")){i+=parseInt(e.minYear.substr(1),10)}else{i=parseInt(e.minYear,10)}}if(ss.isValue(e.maxYear)){e.maxYear=e.maxYear.toString();if(ss.startsWithString(e.maxYear,"-")){s-=parseInt(e.maxYear.substr(1),10)}else if(ss.startsWithString(e.maxYear,"+")){s+=parseInt(e.maxYear.substr(1),10)}else{s=parseInt(e.maxYear,10)}}if(e.descending){for(var n=s;n>=i;n--){t.push(n.toString())}}else{for(var r=i;r<=s;r++){t.push(r.toString())}}return t}},_i,[At,Et,Qt,Dt]);ss.initClass(Ei,e,{});ss.initClass(x,e,{},Ei);ss.initInterface($t,e,{get_value:null,set_value:null});ss.initClass(O,e,{get_value:function(){var e=this.element.autoNumeric("get");if(!!(ss.isNullOrUndefined(e)||ss.referenceEquals(e.Length,0))){return null}else{return ss.cast(parseFloat(ss.cast(e,String)),Number)}},set_value:function(e){if(ss.isNullOrUndefined(e)||e===""){this.element.val("")}else{this.element.autoNumeric("set",e)}},get_isValid:function(){return!isNaN(this.get_value())}},Serenity.Widget,[$t]);ss.initClass(k,e,{});ss.initClass(w,e,{getOperators:function(){return this.appendNullableOperators(this.appendComparisonOperators([]))}},ss.makeGenericType(n,[O]),[_t,Vt]);ss.initClass(I,e,{});ss.initClass(F,e,{});ss.initClass(N,e,{});ss.initClass(V,e,{get_editorType:function(){return this.$3$EditorTypeField},set_editorType:function(e){this.$3$EditorTypeField=e},get_useRelative:function(){return this.$3$UseRelativeField},set_useRelative:function(e){this.$3$UseRelativeField=e},get_useLike:function(){return this.$3$UseLikeField},set_useLike:function(e){this.$3$UseLikeField=e},getOperators:function(){var e=[];e.push({key:tt.EQ});e.push({key:tt.NE});if(this.get_useRelative()){e.push({key:tt.LT});e.push({key:tt.LE});e.push({key:tt.GT});e.push({key:tt.GE})}if(this.get_useLike()){e.push({key:tt.contains});e.push({key:tt.startsWith})}this.appendNullableOperators(e);return e},useEditor:function(){return ss.referenceEquals(this.get_operator().key,tt.EQ)||ss.referenceEquals(this.get_operator().key,tt.NE)||this.get_useRelative()&&(ss.referenceEquals(this.get_operator().key,tt.LT)||ss.referenceEquals(this.get_operator().key,tt.LE)||ss.referenceEquals(this.get_operator().key,tt.GT)||ss.referenceEquals(this.get_operator().key,tt.GE))},getEditorOptions:function(){var e=ss.makeGenericType(n,[Object]).prototype.getEditorOptions.call(this);if(this.useEditor()&&ss.referenceEquals(this.get_editorType(),ss.coalesce(this.get_field().editorType,"String"))){e=$.extend(e,this.get_field().editorParams)}return e},createEditor:function(){if(this.useEditor()){var e=B.get(this.get_editorType());this.editor=Serenity.Widget.create({type:e,element:ss.mkdel(this,function(e){e.appendTo(this.get_container())}),options:this.getEditorOptions(),init:null});return}ss.makeGenericType(n,[Object]).prototype.createEditor.call(this)},useIdField:function(){return this.useEditor()},getEditorText:function(){return r.prototype.getEditorText.call(this)},initQuickFilter:function(e){ss.makeGenericType(n,[Object]).prototype.initQuickFilter.call(this,e);e.type=B.get(this.get_editorType())}},ss.makeGenericType(n,[Object]),[_t,Vt]);ss.initClass(D,e,{});ss.initClass(P,e,{setParams:function(e){}});ss.initClass(A,e,{},P);ss.initClass(U,e,{getItems:function(){if(ss.isNullOrUndefined(U.$editorTypeList)){U.$editorTypeList=[];var e=new ss.ObjectEnumerator(fi.get_registeredTypes());try{while(e.moveNext()){var t=e.current();U.$editorTypeList.push([t.key,t.value.displayName])}}finally{e.dispose()}U.$editorTypeList.sort(function(e,t){var i=e[1];var s=t[1];return Q.turkishLocaleCompare(i,s)})}return U.$editorTypeList}},_i,[At,Et,Qt,Dt]);ss.initClass(B,e,{});ss.initClass(M,e,{});ss.initClass(G,e,{get_value:function(){var e=this.element.nextAll(".emaildomain");var t=this.element.val();var i=e.val();if(Q.isEmptyOrNull(t)){if(this.options.readOnlyDomain||Q.isEmptyOrNull(i)){return""}return"@"+i}return t+"@"+i},set_value:function(e){var t=this.element.nextAll(".emaildomain");e=Q.trimToNull(e);if(ss.isNullOrUndefined(e)){if(!this.options.readOnlyDomain){t.val("")}this.element.val("")}else{var i=e.split("@");if(i.length>1){if(!this.options.readOnlyDomain){t.val(i[1]);this.element.val(i[0])}else if(!Q.isEmptyOrNull(this.options.domain)){if(!ss.referenceEquals(i[1],this.options.domain)){this.element.val(e)}else{this.element.val(i[0])}}else{this.element.val(i[0])}}else{this.element.val(i[0])}}},get_readOnly:function(){var e=this.element.nextAll(".emaildomain");return!(ss.isNullOrUndefined(this.element.attr("readonly"))&&(!this.options.readOnlyDomain||ss.isNullOrUndefined(e.attr("readonly"))))},set_readOnly:function(e){var t=this.element.nextAll(".emaildomain");if(e){this.element.attr("readonly","readonly").addClass("readonly");if(!this.options.readOnlyDomain){t.attr("readonly","readonly").addClass("readonly")}}else{this.element.removeAttr("readonly").removeClass("readonly");if(!this.options.readOnlyDomain){t.removeAttr("readonly").removeClass("readonly")}}}},Serenity.Widget,[Qt,Dt]);ss.initClass(q,e,{});ss.initInterface(Ct,e,{dialogOpen:null});ss.initInterface(Tt,e,{load:null},[Ct]);ss.initClass(L,e,{initializeAsync:function(){return Serenity.Widget.prototype.initializeAsync.call(this).then(ss.mkdel(this,this.$initPropertyGridAsync),null).then(ss.mkdel(this,this.$initLocalizationGridAsync),null)},destroy:function(){if(ss.isValue(this.propertyGrid)){this.propertyGrid.destroy();this.propertyGrid=null}if(ss.isValue(this.localizationGrid)){this.localizationGrid.destroy();this.localizationGrid=null}this.undeleteButton=null;this.applyChangesButton=null;this.deleteButton=null;this.saveAndCloseButton=null;Serenity.TemplatedDialog.prototype.destroy.call(this)},get_entity:function(){return this.entity},set_entity:function(e){this.entity=e||new Object},get_entityId:function(){return this.entityId},set_entityId:function(e){this.entityId=e},getEntityNameFieldValue:function(){return ss.coalesce(this.get_entity()[this.getNameProperty()],"").toString()},getEntityTitle:function(){if(!this.isEditMode()){return ss.formatString(Q.text("Controls.EntityDialog.NewRecordTitle"),this.getEntitySingular())}else{var e=ss.coalesce(this.getEntityNameFieldValue(),"");return ss.formatString(Q.text("Controls.EntityDialog.EditRecordTitle"),this.getEntitySingular(),Q.isEmptyOrNull(e)?"":" ("+e+")")}},updateTitle:function(){if(!this.isPanel){this.element.dialog().dialog("option","title",this.getEntityTitle())}},isCloneMode:function(){return false},isEditMode:function(){return ss.isValue(this.get_entityId())&&!this.isCloneMode()},isDeleted:function(){if(ss.isNullOrUndefined(this.get_entityId())){return false}var e=this.get_entity()[this.getIsActiveProperty()];if(ss.isNullOrUndefined(e)){return false}return ss.Nullable$1.lt(e,0)},isNew:function(){return ss.isNullOrUndefined(this.get_entityId())},isNewOrDeleted:function(){return this.isNew()||this.isDeleted()},getDeleteOptions:function(e){return{}},deleteHandler:function(e,t){Q.serviceCall(e)},doDelete:function(e){var t=this;var i={};i.service=this.getService()+"/Delete";var s={};s.EntityId=this.get_entityId();i.request=s;i.onSuccess=ss.mkdel(this,function(i){t.onDeleteSuccess(i);if(!ss.staticEquals(e,null)){e(i)}t.element.triggerHandler("ondatachange",[{entityId:s.EntityId,entity:this.entity,type:"delete"}])});var n=this.getDeleteOptions(e);var r=$.extend(i,n);this.deleteHandler(r,e)},onDeleteSuccess:function(e){},getEntityType:function(){if(ss.isNullOrUndefined(this.$entityType)){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.EntityTypeAttribute,true);if(e.length===1){this.$entityType=e[0].value;return this.$entityType}var t=ss.getTypeFullName(ss.getInstanceType(this));var i=t.indexOf(".");if(i>=0){t=t.substring(i+1)}if(ss.endsWithString(t,"Dialog")||ss.endsWithString(t,"Control")){t=t.substr(0,t.length-6)}else if(ss.endsWithString(t,"Panel")){t=t.substr(0,t.length-5)}this.$entityType=t}return this.$entityType},getFormKey:function(){if(ss.isNullOrUndefined(this.$formKey)){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.FormKeyAttribute,true);if(e.length>=1){this.$formKey=e[0].value}else{this.$formKey=this.getEntityType()}}return this.$formKey},getLocalTextDbPrefix:function(){if(ss.isNullOrUndefined(this.$localTextDbPrefix)){this.$localTextDbPrefix=ss.coalesce(this.getLocalTextPrefix(),"");if(this.$localTextDbPrefix.length>0&&!ss.endsWithString(this.$localTextDbPrefix,".")){this.$localTextDbPrefix="Db."+this.$localTextDbPrefix+"."}}return this.$localTextDbPrefix},getLocalTextPrefix:function(){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.LocalTextPrefixAttribute,true);if(e.length>=1){return e[0].value}return this.getEntityType()},getEntitySingular:function(){if(ss.isNullOrUndefined(this.$entitySingular)){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.ItemNameAttribute,true);if(e.length>=1){this.$entitySingular=e[0].value;this.$entitySingular=Q.LT.getDefault(this.$entitySingular,this.$entitySingular)}else{var t=Q.tryGetText(this.getLocalTextDbPrefix()+"EntitySingular");if(ss.isNullOrUndefined(t)){t=this.getEntityType()}this.$entitySingular=t}}return this.$entitySingular},getNameProperty:function(){if(ss.isNullOrUndefined(this.$nameProperty)){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.NamePropertyAttribute,true);if(e.length>=1){this.$nameProperty=e[0].value}else{this.$nameProperty="Name"}}return this.$nameProperty},getIdProperty:function(){if(ss.isNullOrUndefined(this.$idProperty)){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.IdPropertyAttribute,true);if(e.length>=1){this.$idProperty=e[0].value}else{this.$idProperty="ID"}}return this.$idProperty},getIsActiveProperty:function(){if(ss.isNullOrUndefined(this.$isActiveProperty)){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.IsActivePropertyAttribute,true);if(e.length>=1){this.$isActiveProperty=e[0].value}else{this.$isActiveProperty="IsActive"}}return this.$isActiveProperty},getService:function(){if(ss.isNullOrUndefined(this.$service)){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.ServiceAttribute,true);if(e.length>=1){this.$service=e[0].value}else{this.$service=ss.replaceAllString(this.getEntityType(),String.fromCharCode(46),String.fromCharCode(47))}}return this.$service},load:function(e,t,i){var s=ss.mkdel(this,function(){if(ss.isNullOrUndefined(e)){this.loadResponse({});if(!ss.staticEquals(t,null)){t()}return}var i=typeof e;if(i==="string"||i==="number"){var s=this;var n=e;this.loadById(n,function(e){if(!ss.staticEquals(t,null)){window.setTimeout(t,0)}},null);return}var r=e||new Object;this.loadResponse({Entity:r});if(!ss.staticEquals(t,null)){t()}});if(ss.staticEquals(i,null)){s();return}try{s()}catch(n){var r=ss.Exception.wrap(n);i(r)}},loadNewAndOpenDialog:function(){this.loadResponse({});if(!this.isPanel){this.element.dialog().dialog("open")}},loadEntityAndOpenDialog:function(e){this.loadResponse({Entity:e});if(!this.isPanel){this.element.dialog().dialog("open")}},loadResponse:function(e){e=e||{};this.onLoadingData(e);var t=e.Entity||new Object;this.beforeLoadEntity(t);this.loadEntity(t);this.set_entity(t);this.afterLoadEntity()},loadEntity:function(e){var t=this.getIdProperty();if(ss.isValue(t)){this.set_entityId(e[t])}this.set_entity(e);if(ss.isValue(this.propertyGrid)){this.propertyGrid.set_mode(this.isEditMode()?1:0);this.propertyGrid.load(e)}},beforeLoadEntity:function(e){this.localizationPendingValue=null;this.localizationLastValue=null},afterLoadEntity:function(){this.updateInterface();this.updateTitle()},loadByIdAndOpenDialog:function(e){var t=this;this.loadById(e,ss.mkdel(this,function(e){window.setTimeout(ss.mkdel(this,function(){if(!this.isPanel){t.element.dialog().dialog("open")}}),0)}),ss.mkdel(this,function(){if(!this.isPanel&&!t.element.is(":visible")){t.element.remove()}}))},onLoadingData:function(e){},getLoadByIdOptions:function(e,t){return{}},getLoadByIdRequest:function(e){var t={};t.EntityId=e;return t},reloadById:function(){this.loadById(this.get_entityId(),null,null)},loadById:function(e,t,i){var s={};s.service=this.getService()+"/Retrieve";s.blockUI=true;s.request=this.getLoadByIdRequest(e);var n=this;s.onSuccess=function(e){n.loadResponse(e);if(!ss.staticEquals(t,null)){t(e)}};s.onCleanup=function(){if(ss.isValue(n.validator)){Q.validatorAbortHandler(n.validator)}};var r=this.getLoadByIdOptions(e,t);var a=$.extend(s,r);this.loadByIdHandler(a,t,i)},loadByIdHandler:function(e,t,i){var s=Q.serviceCall(e);if(!ss.staticEquals(i,null)){s.fail(i)}},$initLocalizationGrid:function(){var e=this.byId("PropertyGrid");if(e.length<=0){return}var t=this.getPropertyGridOptions();this.$initLocalizationGridCommon(t)},$initLocalizationGridAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var e=this.byId("PropertyGrid");if(e.length<=0){return RSVP.resolve()}return this.getPropertyGridOptionsAsync().then(ss.mkdel(this,function(e){this.$initLocalizationGridCommon(e)}),null)}),null)},$initLocalizationGridCommon:function(e){var t=this.byId("PropertyGrid");var i=false;for(var s=0;s<e.items.length;s++){var n=e.items[s];if(n.localizable===true){i=true}}if(!i){return}var r=$("<div/>").attr("id",this.idPrefix+"LocalizationGrid").hide().insertAfter(t);e.idPrefix=this.idPrefix+"Localization_";var a=[];for(var l=0;l<e.items.length;l++){var o=e.items[l];if(o.localizable===true){var u=$.extend({},o);u.oneWay=true;u.readOnly=true;u.required=false;u.defaultValue=null;a.push(u);var d=this.getLanguages();var c=ss.safeCast(d,Array);if(ss.isValue(c)&&c.length>0&&ss.isValue(c[0])&&ss.isArray(c[0])){d=Enumerable.from(c).select(function(e){return{item1:e[0],item2:e[1]}})}var f=ss.getEnumerator(d);try{while(f.moveNext()){var h=f.current();u=$.extend({},o);u.name=h.item1+"$"+u.name;u.title=h.item2;u.cssClass=[u.cssClass,"translation"].join(" ");u.insertable=true;u.updatable=true;u.oneWay=false;u.required=false;u.localizable=false;u.defaultValue=null;a.push(u)}}finally{f.dispose()}}}e.items=a;this.localizationGrid=new ai(r,e).init(null);r.addClass("s-LocalizationGrid");var p=this},isLocalizationMode:function(){return ss.isValue(this.localizationButton)&&this.localizationButton.hasClass("pressed")},isLocalizationModeAndChanged:function(){if(!this.isLocalizationMode()){return false}var e=this.$getLocalizationGridValue();return!ss.referenceEquals($.toJSON(this.localizationLastValue),$.toJSON(e))},$localizationButtonClick:function(){if(this.isLocalizationMode()&&!this.validateForm()){return}if(this.isLocalizationModeAndChanged()){var e=this.$getLocalizationGridValue();this.localizationLastValue=e;this.localizationPendingValue=e}this.localizationButton.toggleClass("pressed");this.updateInterface();if(this.isLocalizationMode()){this.$loadLocalization()}},getLanguages:function(){return[]},$loadLocalization:function(){if(ss.isNullOrUndefined(this.localizationLastValue)&&this.isNew()){this.localizationGrid.load({});this.$setLocalizationGridCurrentValues();this.localizationLastValue=this.$getLocalizationGridValue();return}if(ss.isValue(this.localizationLastValue)){this.localizationGrid.load(this.localizationLastValue);this.$setLocalizationGridCurrentValues();return}var e=this;var t={};t.service=this.getService()+"/RetrieveLocalization";t.blockUI=true;t.request={EntityId:this.get_entityId()};t.onSuccess=ss.mkdel(this,function(t){var i=$.extend(new Object,e.get_entity());var s=ss.getEnumerator(Object.keys(t.Entities));try{while(s.moveNext()){var n=s.current();var r=t.Entities[n];var a=ss.getEnumerator(Object.keys(r));try{while(a.moveNext()){var l=a.current();i[n+"$"+l]=r[l]}}finally{a.dispose()}}}finally{s.dispose()}e.localizationGrid.load(i);this.$setLocalizationGridCurrentValues();this.localizationPendingValue=null;this.localizationLastValue=this.$getLocalizationGridValue()});Q.serviceCall(t)},$setLocalizationGridCurrentValues:function(){var e={};this.localizationGrid.enumerateItems(ss.mkdel(this,function(t,i){if(t.name.indexOf("$")<0&&i.element.is(":input")){e[t.name]=this.byId(t.name).val();
i.element.val(e[t.name])}}));this.localizationGrid.enumerateItems(function(t,i){var s=t.name.indexOf("$");if(s>=0&&i.element.is(":input")){var n=e[t.name.substr(s+1)];if(ss.isValue(n)&&n.length>0){i.element.attr("title",n).attr("placeholder",n)}}})},$getLocalizationGridValue:function(){var e={};this.localizationGrid.save(e);var t=ss.getEnumerator(Object.keys(e));try{while(t.moveNext()){var i=t.current();if(i.indexOf(String.fromCharCode(36))<0){delete e[i]}}}finally{t.dispose()}return e},$getPendingLocalizations:function(){if(ss.isNullOrUndefined(this.localizationPendingValue)){return null}var e={};var t=this.getIdProperty();var i=this.getLanguages();var s=ss.safeCast(i,Array);if(ss.isValue(s)&&s.length>0&&ss.isValue(s[0])&&ss.isArray(s[0])){i=Enumerable.from(s).select(function(e){return{item1:e[0],item2:e[1]}})}var n=ss.getEnumerator(i);try{while(n.moveNext()){var r=n.current();var a=r.item1;var l={};if(ss.isValue(t)){l[t]=this.get_entityId()}var o=a+"$";var u=ss.getEnumerator(Object.keys(this.localizationPendingValue));try{while(u.moveNext()){var d=u.current();if(ss.startsWithString(d,o)){l[d.substr(o.length)]=this.localizationPendingValue[d]}}}finally{u.dispose()}e[a]=l}}finally{n.dispose()}return e},$initPropertyGrid:function(){var e=this.byId("PropertyGrid");if(e.length<=0){return}var t=this.getPropertyGridOptions();this.propertyGrid=new ai(e,t).init(null);if(this.element.closest(".ui-dialog").hasClass("s-Flexify")){this.propertyGrid.element.children(".categories").flexHeightOnly(1)}},$initPropertyGridAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var e=this.byId("PropertyGrid");if(e.length<=0){return RSVP.resolve()}return this.getPropertyGridOptionsAsync().then(ss.mkdel(this,function(t){this.propertyGrid=new ai(e,t);if(this.element.closest(".ui-dialog").hasClass("s-Flexify")){this.propertyGrid.element.children(".categories").flexHeightOnly(1)}return this.propertyGrid.initialize()}),null)}),null)},getPropertyItems:function(){var e=this.getFormKey();return Q.getForm(e)},getPropertyGridOptions:function(){var e=oi.$ctor();e.idPrefix=this.idPrefix;e.items=this.getPropertyItems();e.mode=0;e.localTextPrefix="Forms."+this.getFormKey()+".";return e},getPropertyGridOptionsAsync:function(){return this.getPropertyItemsAsync().then(ss.mkdel(this,function(e){var t=oi.$ctor();t.idPrefix=this.idPrefix;t.items=e;t.mode=0;t.localTextPrefix="Forms."+this.getFormKey()+".";return t}),null)},getPropertyItemsAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var e=this.getFormKey();return Q.getFormAsync(e)}),null)},validateBeforeSave:function(){return true},getSaveOptions:function(e){var t=this;var i={};i.service=this.getService()+"/"+(this.isEditMode()?"Update":"Create");i.onSuccess=ss.mkdel(this,function(s){t.onSaveSuccess(s);if(!ss.staticEquals(e,null)){e(s)}var n=t.isEditMode()?"update":"create";var r=i.request;if(ss.isNullOrUndefined(r)){r=new Object}var a=r.Entity;var l;if(t.isEditMode()){l=this.get_entityId()}else{var o=s;if(ss.isNullOrUndefined(o)){o=new Object}l=o.EntityId}var u={type:n,entity:a,entityId:l};t.element.triggerHandler("ondatachange",[u])});i.onCleanup=function(){if(ss.isValue(t.validator)){Q.validatorAbortHandler(t.validator)}};i.request=this.getSaveRequest();return i},getSaveEntity:function(){var e=new Object;if(ss.isValue(this.propertyGrid)){this.propertyGrid.save(e)}if(this.isEditMode()){var t=this.getIdProperty();if(ss.isValue(t)&&!ss.isValue(e[t])){e[t]=this.get_entityId()}}return e},getSaveRequest:function(){var e=this.getSaveEntity();var t={};t.Entity=e;if(this.isEditMode()){var i=this.getIdProperty();if(ss.isValue(i)){t.EntityId=this.get_entityId()}}if(ss.isValue(this.localizationPendingValue)){t.Localizations=this.$getPendingLocalizations()}return t},onSaveSuccess:function(e){},save_SubmitHandler:function(e){var t=this.getSaveOptions(e);this.saveHandler(t,e)},save:function(e){var t=this;return Mi.submit(this.byId("Form"),function(){return t.validateBeforeSave()},function(){t.save_SubmitHandler(e)})},saveHandler:function(e,t){Q.serviceCall(e)},initToolbar:function(){Serenity.TemplatedDialog.prototype.initToolbar.call(this);if(ss.isNullOrUndefined(this.toolbar)){return}this.saveAndCloseButton=this.toolbar.findButton("save-and-close-button");this.applyChangesButton=this.toolbar.findButton("apply-changes-button");this.deleteButton=this.toolbar.findButton("delete-button");this.undeleteButton=this.toolbar.findButton("undo-delete-button");this.cloneButton=this.toolbar.findButton("clone-button");this.localizationButton=this.toolbar.findButton("localization-button")},showSaveSuccessMessage:function(e){Q.notifySuccess(Q.text("Controls.EntityDialog.SaveSuccessMessage"),"",null)},getToolbarButtons:function(){var e=[];var t=this;if(!this.isPanel){e.push({title:Q.text("Controls.EntityDialog.SaveButton"),cssClass:"save-and-close-button",hotkey:"alt+s",onClick:function(){t.save(function(e){t.element.dialog().dialog("close")})}})}e.push({title:this.isPanel?Q.text("Controls.EntityDialog.SaveButton"):"",hint:this.isPanel?Q.text("Controls.EntityDialog.SaveButton"):Q.text("Controls.EntityDialog.ApplyChangesButton"),cssClass:"apply-changes-button",hotkey:"alt+a",onClick:ss.mkdel(this,function(){t.save(ss.mkdel(this,function(e){if(t.isEditMode()){var i=e.EntityId;if(ss.isNullOrUndefined(i)){i=t.get_entityId()}t.loadById(i,null,null)}else{t.loadById(e.EntityId,null,null)}this.showSaveSuccessMessage(e)}))})});if(!this.isPanel){e.push({title:Q.text("Controls.EntityDialog.DeleteButton"),cssClass:"delete-button",hotkey:"alt+x",onClick:function(){Q.confirm(Q.text("Controls.EntityDialog.DeleteConfirmation"),function(){t.doDelete(function(){t.element.dialog().dialog("close")})})}});e.push({title:Q.text("Controls.EntityDialog.UndeleteButton"),cssClass:"undo-delete-button",onClick:function(){if(t.isDeleted()){Q.confirm(Q.text("Controls.EntityDialog.UndeleteConfirmation"),function(){t.undelete(function(){t.loadById(t.get_entityId(),null,null)})})}}});e.push({title:Q.text("Controls.EntityDialog.LocalizationButton"),cssClass:"localization-button",onClick:ss.mkdel(this,function(){this.$localizationButtonClick()})});e.push({title:Q.text("Controls.EntityDialog.CloneButton"),cssClass:"clone-button",onClick:ss.mkdel(this,function(){if(!t.isEditMode()){return}var e=this.getCloningEntity();Serenity.Widget.create({type:ss.getInstanceType(this),element:null,options:new Object,init:ss.mkdel(this,function(t){Fi.bubbleDataChange(Fi.cascade(t,this.element),this,true).loadEntityAndOpenDialog(e)})})})})}return e},getCloningEntity:function(){var e=new Object;e=$.extend(e,this.get_entity());var t=this.getIdProperty();if(!Q.isEmptyOrNull(t)){delete e[t]}var i=this.getIsActiveProperty();if(!Q.isEmptyOrNull(i)){delete e[i]}return e},updateInterface:function(){var e=this.isDeleted();var t=this.isLocalizationMode();if(ss.isValue(this.tabs)){Serenity.TabsExtensions.setDisabled(this.tabs,"Log",this.isNewOrDeleted())}if(ss.isValue(this.propertyGrid)){this.propertyGrid.element.toggle(!t)}if(ss.isValue(this.localizationGrid)){this.localizationGrid.element.toggle(t)}if(ss.isValue(this.localizationButton)){this.localizationButton.toggle(ss.isValue(this.localizationGrid));this.localizationButton.find(".button-inner").text(this.isLocalizationMode()?Q.text("Controls.EntityDialog.LocalizationBack"):Q.text("Controls.EntityDialog.LocalizationButton"))}if(t){if(ss.isValue(this.toolbar)){this.toolbar.findButton("tool-button").not(".localization-hidden").addClass(".localization-hidden").hide()}if(ss.isValue(this.localizationButton)){this.localizationButton.show()}return}this.toolbar.findButton("localization-hidden").removeClass("localization-hidden").show();if(ss.isValue(this.deleteButton)){this.deleteButton.toggle(this.isEditMode()&&!e)}if(ss.isValue(this.undeleteButton)){this.undeleteButton.toggle(this.isEditMode()&&e)}if(ss.isValue(this.saveAndCloseButton)){this.saveAndCloseButton.toggle(!e);this.saveAndCloseButton.find(".button-inner").text(Q.text(this.isNew()?"Controls.EntityDialog.SaveButton":"Controls.EntityDialog.UpdateButton"))}if(ss.isValue(this.applyChangesButton)){this.applyChangesButton.toggle(!e)}if(ss.isValue(this.cloneButton)){this.cloneButton.toggle(false)}},getUndeleteOptions:function(e){return{}},undeleteHandler:function(e,t){Q.serviceCall(e)},undelete:function(e){var t=this;var i={};i.service=this.getService()+"/Undelete";var s={};s.EntityId=this.get_entityId();i.request=s;i.onSuccess=ss.mkdel(this,function(i){if(!ss.staticEquals(e,null)){e(i)}t.element.triggerHandler("ondatachange",[{entityId:t.get_entityId(),entity:this.entity,type:"undelete"}])});var n=this.getUndeleteOptions(e);var r=$.extend(i,n);this.undeleteHandler(r,e)}},Serenity.TemplatedDialog,[Ct,Tt]);ss.initClass(R,e,{usePager:function(){return true},createToolbarExtensions:function(){this.createIncludeDeletedButton();this.createQuickSearchInput()},getInitialTitle:function(){return this.getDisplayName()},getLocalTextPrefix:function(){var e=y.prototype.getLocalTextPrefix.call(this);if(Q.isEmptyOrNull(e)){return this.getEntityType()}return e},getEntityType:function(){if(ss.isNullOrUndefined(this.$entityType)){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.EntityTypeAttribute,true);if(e.length===1){this.$entityType=e[0].value;return this.$entityType}var t=ss.getTypeFullName(ss.getInstanceType(this));var i=t.indexOf(".");if(i>=0){t=t.substring(i+1)}if(ss.endsWithString(t,"Grid")){t=t.substr(0,t.length-4)}else if(ss.endsWithString(t,"SubGrid")){t=t.substr(0,t.length-7)}this.$entityType=t}return this.$entityType},getDisplayName:function(){if(ss.isNullOrUndefined(this.$displayName)){var e=ss.getAttributes(ss.getInstanceType(this),zi,true);if(e.length>=1){this.$displayName=e[0].displayName;this.$displayName=Q.LT.getDefault(this.$displayName,this.$displayName)}else{var t=Q.tryGetText(this.getLocalTextDbPrefix()+"EntityPlural");if(ss.isNullOrUndefined(t)){t=this.getEntityType()}this.$displayName=t}}return this.$displayName},getItemName:function(){if(ss.isNullOrUndefined(this.$itemName)){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.ItemNameAttribute,true);if(e.length>=1){this.$itemName=e[0].value;this.$itemName=Q.LT.getDefault(this.$itemName,this.$itemName)}else{var t=Q.tryGetText(this.getLocalTextDbPrefix()+"EntitySingular");if(ss.isNullOrUndefined(t)){t=this.getEntityType()}this.$itemName=t}}return this.$itemName},getAddButtonCaption:function(){return ss.formatString(Q.text("Controls.EntityGrid.NewButton"),this.getItemName())},getButtons:function(){var e=this;var t=[];t.push({title:this.getAddButtonCaption(),cssClass:"add-button",hotkey:"alt+n",onClick:function(){e.addButtonClick()}});t.push(this.newRefreshButton(true));t.push(Serenity.ColumnPickerDialog.createToolButton(this));return t},newRefreshButton:function(e){var t=this;return{title:e?null:Q.text("Controls.EntityGrid.RefreshButton"),hint:e?Q.text("Controls.EntityGrid.RefreshButton"):null,cssClass:"refresh-button",onClick:function(){t.refresh()}}},addButtonClick:function(){this.editItem(new Object)},editItem:function(e){this.createEntityDialog(this.getItemType(),function(t){var i=ss.safeCast(t,Tt);if(ss.isValue(i)){i.load(e,function(){i.dialogOpen()},null);return}throw new ss.InvalidOperationException(ss.formatString("{0} doesn't implement IEditDialog!",ss.getTypeFullName(ss.getInstanceType(t))))})},editItemOfType:function(e,t){if(ss.referenceEquals(e,this.getItemType())){this.editItem(t);return}this.createEntityDialog(e,function(e){var i=ss.safeCast(e,Tt);if(ss.isValue(i)){i.load(t,function(){i.dialogOpen()},null);return}throw new ss.InvalidOperationException(ss.formatString("{0} doesn't implement IEditDialog!",ss.getTypeFullName(ss.getInstanceType(e))))})},getService:function(){if(ss.isNullOrUndefined(this.$service)){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.ServiceAttribute,true);if(e.length>=1){this.$service=e[0].value}else{this.$service=ss.replaceAllString(this.getEntityType(),String.fromCharCode(46),String.fromCharCode(47))}}return this.$service},getViewOptions:function(){var e=y.prototype.getViewOptions.call(this);e.url=Q.resolveUrl("~/Services/"+this.getService()+"/List");return e},getItemType:function(){return this.getEntityType()},initDialog:function(e){var t=this;Fi.bindToDataChange(e,this,function(e,i){t.subDialogDataChange()},true)},initEntityDialog:function(e,t){if(ss.referenceEquals(e,this.getItemType())){this.initDialog(t);return}var i=this;Fi.bindToDataChange(t,this,function(e,t){i.subDialogDataChange()},true)},createEntityDialog:function(e,t){var i=this.getDialogTypeFor(e);var s=Serenity.Widget.create({type:i,element:null,options:this.getDialogOptionsFor(e),init:ss.mkdel(this,function(i){this.initEntityDialog(e,i);if(!ss.staticEquals(t,null)){t(i)}})});return s},getDialogOptions:function(){return{}},getDialogOptionsFor:function(e){if(ss.referenceEquals(e,this.getItemType())){return this.getDialogOptions()}return{}},getDialogTypeFor:function(e){if(ss.referenceEquals(e,this.getItemType())){return this.getDialogType()}return N.get(e)},getDialogType:function(){if(ss.isNullOrUndefined(this.$dialogType)){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.DialogTypeAttribute,true);if(e.length>=1){this.$dialogType=e[0].value}else{this.$dialogType=N.get(this.getEntityType())}}return this.$dialogType}},y,[bt]);ss.initClass(W,e,{updateItems:function(){this.clearItems();var e=this.options.enumType||K.get(this.options.enumKey);var t=this.options.enumKey;if(ss.isNullOrUndefined(t)&&ss.isValue(e)){var i=ss.getAttributes(e,Serenity.EnumKeyAttribute,false);if(i.length>0){t=i[0].value}}var s=ss.Enum.getValues(e);for(var n=0;n<s.length;n++){var r=s[n];var a=ss.Enum.toString(e,r);this.addOption(ss.unbox(ss.cast(r,ss.Int32)).toString(),ss.coalesce(Q.tryGetText("Enums."+t+"."+a),a),null,false)}}},Ti,[At,Et,Qt,Dt]);ss.initClass(z,e,{});ss.initClass(H,e,{getOperators:function(){var e=[];e.push({key:tt.EQ});e.push({key:tt.NE});return this.appendNullableOperators(e)}},ss.makeGenericType(n,[W]),[_t,Vt]);ss.initClass(j,e,{get_enumKey:function(){return this.$1$EnumKeyField},set_enumKey:function(e){this.$1$EnumKeyField=e},format:function(e){return j.format(K.get(this.get_enumKey()),e.value)}},null,[Pt]);ss.initClass(K,e,{});ss.initInterface(xt,e,{initializeColumn:null});ss.initClass(Y,e,{format:function(e){var t=ss.safeCast(e.value,String);if(ss.isNullOrEmptyString(t)){return""}var i=Y.dbFileUrl(t);var s=!ss.isNullOrEmptyString(this.get_originalNameProperty())?ss.safeCast(e.item[this.get_originalNameProperty()],String):null;s=ss.coalesce(s,"");var n=ss.formatString(ss.coalesce(this.get_displayFormat(),"{0}"),s,t,i);return"<a class='file-download-link' target='_blank' href='"+Q.htmlEncode(i)+"'>"+Q.htmlEncode(n)+"</a>"},get_displayFormat:function(){return this.$1$DisplayFormatField},set_displayFormat:function(e){this.$1$DisplayFormatField=e},get_originalNameProperty:function(){return this.$1$OriginalNamePropertyField},set_originalNameProperty:function(e){this.$1$OriginalNamePropertyField=e},initializeColumn:function(e){e.referencedFields=e.referencedFields||[];if(!ss.isNullOrEmptyString(this.get_originalNameProperty())){e.referencedFields.push(this.get_originalNameProperty());return}}},null,[Pt,xt]);ss.initClass(J,e,{});J.$ctor1.prototype=J.prototype;ss.initClass(X,e,{getTemplate:function(){return"<div id='~_FilterPanel'/>"},getDialogOptions:function(){var e=Serenity.TemplatedDialog.prototype.getDialogOptions.call(this);e.buttons=[{text:Q.text("Dialogs.OkButton"),click:ss.mkdel(this,function(){this.$filterPanel.search();if(this.$filterPanel.get_hasErrors()){Q.notifyError(Q.text("Controls.FilterPanel.FixErrorsMessage"),"",null);return}this.dialogClose()})},{text:Q.text("Dialogs.CancelButton"),click:ss.mkdel(this,this.dialogClose)}];e.title=Q.text("Controls.FilterPanel.DialogTitle");return e},get_filterPanel:function(){return this.$filterPanel}},Serenity.TemplatedDialog,[Ct]);ss.initClass(Z,e,{filterStoreChanged:function(){ss.makeGenericType(nt,[Object]).prototype.filterStoreChanged.call(this);var e=Q.trimToNull(this.get_store().get_displayText());this.element.find(".current").toggle(ss.isValue(e));this.element.find(".reset").toggle(ss.isValue(e));var t=this.element.find(".txt");var i=e;if(ss.isNullOrUndefined(i)){i=Q.text("Controls.FilterPanel.EffectiveEmpty")}t.text("["+i+"]")},getTemplate:function(){return"<div><a class='reset'></a><a class='edit'></a><div class='current'><span class='cap'></span><a class='txt'></a></div></div>"}},ss.makeGenericType(nt,[Object]));ss.initClass(et,e,{});ss.initClass(tt,e,{});ss.initClass(it,e,{get_showInitialLine:function(){return this.$showInitialLine},set_showInitialLine:function(e){if(this.$showInitialLine!==e){this.$showInitialLine=e;if(this.$showInitialLine&&this.$rowsDiv.children().length===0){this.$addEmptyRow(false)}}},filterStoreChanged:function(){ss.makeGenericType(nt,[Object]).prototype.filterStoreChanged.call(this);this.updateRowsFromStore()},updateRowsFromStore:function(){this.$rowsDiv.empty();var e=this.get_store().get_items();for(var s=0;s<e.length;s++){var n=e[s];this.$addEmptyRow(false);var r=this.$rowsDiv.children().last();var a=r.children("div.l");a.children(".leftparen").toggleClass("active",!!n.leftParen);a.children(".rightparen").toggleClass("active",!!n.rightParen);a.children(".andor").toggleClass("or",!!n.isOr).text(Q.text(!!n.isOr?"Controls.FilterPanel.Or":"Controls.FilterPanel.And"));var l=Li.getWidget(t).call(null,r.children("div.f").find("input.field-select"));l.set_value(n.field);this.$rowFieldChange(r);var o=Li.getWidget(i).call(null,r.children("div.o").find("input.op-select"));o.set_value(n.operator);this.$rowOperatorChange(r);var u=this.$getFilteringFor(r);if(ss.isValue(u)){u.set_operator({key:n.operator});u.loadState(n.state)}}if(this.get_showInitialLine()&&this.$rowsDiv.children().length===0){this.$addEmptyRow(false)}this.$updateParens()},get_showSearchButton:function(){return this.$showSearchButton},set_showSearchButton:function(e){if(this.$showSearchButton!==e){this.$showSearchButton=e;this.$updateButtons()}},get_updateStoreOnReset:function(){return this.$updateStoreOnReset},set_updateStoreOnReset:function(e){if(this.$updateStoreOnReset!==e){this.$updateStoreOnReset=e}},getTemplate:function(){return it.panelTemplate},$initButtons:function(){this.byId("AddButton").text(Q.text("Controls.FilterPanel.AddFilter")).click(ss.mkdel(this,this.$addButtonClick));this.byId("SearchButton").text(Q.text("Controls.FilterPanel.SearchButton")).click(ss.mkdel(this,this.$searchButtonClick));this.byId("ResetButton").text(Q.text("Controls.FilterPanel.ResetButton")).click(ss.mkdel(this,this.$resetButtonClick))},$searchButtonClick:function(e){e.preventDefault();this.search()},get_hasErrors:function(){return this.$rowsDiv.children().children("div.v").children("span.error").length>0},search:function(){this.$rowsDiv.children().children("div.v").children("span.error").remove();var e=[];var t=null;var s=null;for(var n=0;n<this.$rowsDiv.children().length;n++){try{s=this.$rowsDiv.children().eq(n);var r=this.$getFilteringFor(s);if(ss.isNullOrUndefined(r)){continue}var a=this.$getFieldFor(s);var l=Li.getWidget(i).call(null,s.children("div.o").find("input.op-select")).get_value();if(ss.isNullOrUndefined(l)||l.length===0){throw new ss.ArgumentOutOfRangeException("operator",Q.text("Controls.FilterPanel.InvalidOperator"))}var o={};o.field=a.name;o.operator=l;o.isOr=s.children("div.l").children("a.andor").hasClass("or");o.leftParen=s.children("div.l").children("a.leftparen").hasClass("active");o.rightParen=s.children("div.l").children("a.rightparen").hasClass("active");var u={};r.set_operator({key:l});o.criteria=r.getCriteria(u);o.state=r.saveState();o.displayText=u.$;e.push(o)}catch(d){d=ss.Exception.wrap(d);if(ss.isInstanceOfType(d,ss.ArgumentException)){var c=ss.cast(d,ss.ArgumentException);t=c.get_message();break}else{throw d}}}if(ss.isValue(t)){$("<span/>").addClass("error").attr("title",t).appendTo(s.children("div.v"));s.children("div.v").find("input:first").focus();return}ss.clear(this.get_store().get_items());ss.arrayAddRange(this.get_store().get_items(),e);this.get_store().raiseChanged()},$addButtonClick:function(e){this.$addEmptyRow(true);e.preventDefault()},$resetButtonClick:function(e){e.preventDefault();if(this.get_updateStoreOnReset()){if(this.get_store().get_items().length>0){ss.clear(this.get_store().get_items());this.get_store().raiseChanged()}}this.$rowsDiv.empty();this.$updateButtons();if(this.get_showInitialLine()){this.$addEmptyRow(false)}},$findEmptyRow:function(){var e=null;this.$rowsDiv.children().each(function(t,i){var s=$(i).children("div.f").children("input.field-select").first();if(s.length===0){return true}var n=s.val();if(ss.isNullOrUndefined(n)||n.length===0){e=$(i);return false}return true});return e},$addEmptyRow:function(e){var i=this.$findEmptyRow();if(ss.isValue(i)){i.find("input.field-select").select2("focus");if(e){i.find("input.field-select").select2("open")}return i}var s=this.$rowsDiv.children().last().children("a.andor").hasClass("or");var n=$(it.rowTemplate).appendTo(this.$rowsDiv);var r=n.children("div.l").hide();r.children("a.leftparen, a.rightparen").click(ss.mkdel(this,this.$leftRightParenClick));var a=r.children("a.andor").attr("title",Q.text("Controls.FilterPanel.ChangeAndOr"));if(s){a.addClass("or").text(Q.text("Controls.FilterPanel.Or"))}else{a.text(Q.text("Controls.FilterPanel.And"))}a.click(ss.mkdel(this,this.$andOrClick));n.children("a.delete").attr("title",Q.text("Controls.FilterPanel.RemoveField")).click(ss.mkdel(this,this.$deleteRowClick));var l=new t(n.children("div.f").children("input"),this.get_store().get_fields());Li.changeSelect2(l,ss.mkdel(this,this.$onRowFieldChange));this.$updateParens();this.$updateButtons();n.find("input.field-select").select2("focus");if(e){n.find("input.field-select").select2("open")}return n},$onRowFieldChange:function(e){var t=$(e.target).closest("div.filter-line");this.$rowFieldChange(t);var i=t.children("div.o").find("input.op-select");i.select2("focus")},$rowFieldChange:function(e){e.removeData("Filtering");var i=Li.getWidget(t).call(null,e.children("div.f").find("input.field-select"));var s=i.get_value();var n=ss.isNullOrUndefined(s)||s==="";this.$removeFiltering(e);this.$populateOperatorList(e);this.$rowOperatorChange(e);this.$updateParens();this.$updateButtons()},$removeFiltering:function(e){e.data("Filtering",null);e.data("FilteringField",null)},$populateOperatorList:function(e){e.children("div.o").html("");var t=this.$getFilteringFor(e);if(ss.isNullOrUndefined(t)){return}var s=e.children("div.o").html("<input/>").children().attr("type","hidden").addClass("op-select");var n=t.getOperators();Li.changeSelect2(new i(s,n),ss.mkdel(this,this.$onRowOperatorChange))},$getFieldFor:function(e){if(e.length===0){return null}var i=Li.getWidget(t).call(null,e.children("div.f").find("input.field-select"));if(Q.isEmptyOrNull(i.get_value())){return null}return this.get_store().get_fieldByName()[i.get_value()]},$getFilteringFor:function(e){var t=this.$getFieldFor(e);if(ss.isNullOrUndefined(t)){return null}var i=ss.cast(e.data("Filtering"),_t);if(ss.isValue(i)){return i}var s=et.get(ss.coalesce(t.filteringType,"String"));var n=e.children("div.v");i=ss.cast(ss.createInstance(s),_t);Si.set(i,t.filteringParams);i.set_container(n);i.set_field(t);e.data("Filtering",i);return i},$onRowOperatorChange:function(e){var t=$(e.target).closest("div.filter-line");this.$rowOperatorChange(t);var i=t.children("div.v").find(":input:visible").first();try{i.focus()}catch(s){}},$rowOperatorChange:function(e){if(e.length===0){return}var t=e.children("div.v");t.html("");var s=this.$getFilteringFor(e);if(ss.isNullOrUndefined(s)){return}var n=Li.getWidget(i).call(null,e.children("div.o").find("input.op-select"));if(Q.isEmptyOrNull(n.get_value())){return}var r=Enumerable.from(s.getOperators()).firstOrDefault(function(e){return ss.referenceEquals(e.key,n.get_value())},ss.getDefaultValue(Object));if(ss.isNullOrUndefined(r)){return}s.set_operator(r);s.createEditor()},$deleteRowClick:function(e){e.preventDefault();var t=$(e.target).closest("div.filter-line");t.remove();if(this.$rowsDiv.children().length===0){this.search()}this.$updateParens();this.$updateButtons()},$updateButtons:function(){this.byId("SearchButton").toggle(this.$rowsDiv.children().length>=1&&this.$showSearchButton);this.byId("ResetButton").toggle(this.$rowsDiv.children().length>=1)},$andOrClick:function(e){e.preventDefault();var t=$(e.target).toggleClass("or");t.text(Q.text("Controls.FilterPanel."+(t.hasClass("or")?"Or":"And")))},$leftRightParenClick:function(e){e.preventDefault();$(e.target).toggleClass("active");this.$updateParens()},$updateParens:function(){var e=this.$rowsDiv.children();if(e.length===0){return}e.removeClass("paren-start");e.removeClass("paren-end");e.children("div.l").css("display",e.length===1?"none":"block");e.first().children("div.l").children("a.rightparen, a.andor").css("visibility","hidden");for(var t=1;t<e.length;t++){var i=e.eq(t);i.children("div.l").css("display","block").children("a.lefparen, a.andor").css("visibility","visible")}var s=false;for(var n=0;n<e.length;n++){var r=e.eq(n);var a=r.children("div.l");var l=a.children("a.leftparen");var o=a.children("a.rightparen");if(o.hasClass("active")&&s){s=false;if(n>0){e.eq(n-1).addClass("paren-end")}}if(l.hasClass("active")){s=true;if(n>0){r.addClass("paren-start")}}}}},ss.makeGenericType(nt,[Object]));ss.initClass(st,e,{get_fields:function(){return this.$1$FieldsField},set_fields:function(e){this.$1$FieldsField=e},get_fieldByName:function(){return this.$1$FieldByNameField},set_fieldByName:function(e){this.$1$FieldByNameField=e},get_items:function(){return this.$1$ItemsField},set_items:function(e){this.$1$ItemsField=e},raiseChanged:function(){this.$displayText=null;if(!ss.staticEquals(this.$changed,null)){this.$changed(this,ss.EventArgs.Empty)}},add_changed:function(e){this.$changed=ss.delegateCombine(this.$changed,e)},remove_changed:function(e){this.$changed=ss.delegateRemove(this.$changed,e)},get_activeCriteria:function(){var e=false;var t=[""];var i=false;var s=[""];for(var n=0;n<this.get_items().length;n++){var r=this.get_items()[n];if(r.leftParen||e&&r.rightParen){if(!Serenity.Criteria.isEmpty(t)){if(e){t=Serenity.Criteria.paren(t)}if(i){s=Serenity.Criteria.join(s,"or",t)}else{s=Serenity.Criteria.join(s,"and",t)}t=[""]}e=false}if(r.leftParen){i=r.isOr;e=true}if(r.isOr){t=Serenity.Criteria.join(t,"or",r.criteria)}else{t=Serenity.Criteria.join(t,"and",r.criteria)}}if(!Serenity.Criteria.isEmpty(t)){if(i){s=Serenity.Criteria.join(s,"or",Serenity.Criteria.paren(t))}else{s=Serenity.Criteria.join(s,"and",Serenity.Criteria.paren(t))}}return s},get_displayText:function(){if(ss.isNullOrUndefined(this.$displayText)){var e=false;this.$displayText="";for(var t=0;t<this.get_items().length;t++){var i=this.get_items()[t];if(e&&(i.rightParen||i.leftParen)){this.$displayText+=")";e=false}if(this.$displayText.length>0){this.$displayText+=" "+Q.text("Controls.FilterPanel."+(i.isOr?"Or":"And"))+" "}if(i.leftParen){this.$displayText+="(";e=true}this.$displayText+=i.displayText}if(e){this.$displayText+=")"}}return this.$displayText}});ss.initClass(rt,e,{$storeInitialSize:function(){if(!!this.element.data("flexify-init")){return}var e=this.element;var t=this.options.designWidth;if(ss.isNullOrUndefined(t)){t=this.element.width()}e.data("flexify-width",t);var i=this.element;var s=this.options.designHeight;if(ss.isNullOrUndefined(s)){s=this.element.height()}i.data("flexify-height",s);this.element.data("flexify-init",true);var n=this;this.element.bind("resize."+this.uniqueName,function(e,t){n.$resizeElements()});this.element.bind("resizestop."+this.uniqueName,function(e,t){n.$resizeElements()});var r=this.element.find(".ui-tabs");if(r.length>0){r.bind("tabsactivate."+this.uniqueName,function(){n.$resizeElements()})}if(ss.isValue(this.options.designWidth)||ss.isValue(this.options.designHeight)){n.$resizeElements()}},$getXFactor:function(e){var t=null;if(!ss.staticEquals(this.options.getXFactor,null)){t=this.options.getXFactor(e)}if(ss.isNullOrUndefined(t)){t=e.data("flex-x")}return ss.coalesce(t,1)},$getYFactor:function(e){var t=null;if(!ss.staticEquals(this.options.getYFactor,null)){t=this.options.getYFactor(e)}if(ss.isNullOrUndefined(t)){t=e.data("flex-y")}return ss.coalesce(t,0)},$resizeElements:function(){var e=this.element.width();var t=this.element.data("flexify-width");if(ss.isNullOrUndefined(t)){this.element.data("flexify-width",e);t=e}var i=this.element.height();var s=this.element.data("flexify-height");if(ss.isNullOrUndefined(s)){this.element.data("flexify-height",i);s=i}this.$xDifference=e-ss.unbox(t);this.$yDifference=i-ss.unbox(s);var n=this;var r=this.element;var a=this.element.find(".ui-tabs-panel");if(a.length>0){r=a.filter(":visible")}r.find(".flexify").add(a.filter(".flexify:visible")).each(function(e,t){n.$resizeElement($(t))})},$resizeElement:function(e){var t=this.$getXFactor(e);if(t!==0){var i=e.data("flexify-width");if(ss.isNullOrUndefined(i)){var s=e.width();e.data("flexify-width",s);i=s}e.width(ss.unbox(i)+t*this.$xDifference|0)}var n=this.$getYFactor(e);if(n!==0){var r=e.data("flexify-height");if(ss.isNullOrUndefined(r)){var a=e.height();e.data("flexify-height",a);r=a}e.height(ss.unbox(r)+n*this.$yDifference|0)}if(e.hasClass("require-layout")){e.triggerHandler("layout")}}},Serenity.Widget);ss.initClass(at,e,{});ss.initClass(lt,e,{get_map:function(){return this.$map}},Serenity.Widget);ss.initClass(ot,e,{});ss.initClass(ut,e,{clear:function(){ss.clearKeys(this.$include);this.$updateSelectAll()},selectKeys:function(e){for(var t=0;t<e.length;t++){var i=e[t];this.$include[i]=true}this.$updateSelectAll()},resetCheckedAndRefresh:function(){this.$include={};this.$updateSelectAll();this.$grid.getView().populate()},$updateSelectAll:function(){var e=this.$grid.getElement().find(".select-all-header .slick-column-name .select-all-items");if(ss.isValue(e)){e.toggleClass("checked",ss.getKeyCount(this.$include)>0&&this.$grid.getView().getItems().length===ss.getKeyCount(this.$include))}},getSelectedKeys:function(){return Enumerable.from(Object.keys(this.$include)).toArray()},getSelectedAsInt32:function(){return Enumerable.from(Object.keys(this.$include)).select(function(e){return parseInt(e)}).toArray()},getSelectedAsInt64:function(){return Enumerable.from(Object.keys(this.$include)).select(function(e){return parseInt(e)}).toArray()},setSelectedKeys:function(e){this.clear();for(var t=0;t<e.length;t++){var i=e[t];this.$include[i]=true}this.$updateSelectAll()}});ss.initClass(dt,e,{});ss.initClass(ct,e,{});ss.initClass(ft,e,{});ss.initClass(ht,e,{});ss.initClass(pt,e,{instanceReady:function(e){this.$instanceReady=true;$(e.editor.container.$).addClass(this.element.attr("class"));this.element.addClass("select2-offscreen").css("display","block");e.editor.setData(this.element.val())},getLanguage:function(){var e=ss.coalesce(Q.trimToNull($("html").attr("lang")),"en");if(!!CKEDITOR.lang.languages[e]){return e}if(e.indexOf(String.fromCharCode(45))>=0){e=e.split(String.fromCharCode(45))[0]}if(!!CKEDITOR.lang.languages[e]){return e}return"en"},getConfig:function(){var e=this;return{customConfig:"",language:this.getLanguage(),bodyClass:"s-HtmlContentBody",on:{instanceReady:function(t){e.instanceReady(t)},change:function(t){t.editor.updateElement();e.element.triggerHandler("change")}},toolbarGroups:[{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"insert",groups:["links","insert","blocks","bidi","list","indent"]},{name:"forms",groups:["forms","mode","document","doctools","others","about","tools"]},{name:"colors"},{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"align"},{name:"styles"}],removeButtons:"SpecialChar,Anchor,Subscript,Styles",format_tags:"p;h1;h2;h3;pre",removeDialogTabs:"image:advanced;link:advanced",contentsCss:Q.resolveUrl("~/content/site/site.htmlcontent.css"),entities:false,entities_latin:false,entities_greek:false,autoUpdateElement:true,height:ss.isNullOrUndefined(this.options.rows)||this.options.rows===0?null:ss.Nullable$1.mul(this.options.rows,20)+"px"}
},$getEditorInstance:function(){var e=this.element.attr("id");return CKEDITOR.instances[e]},destroy:function(){var e=this.$getEditorInstance();if(ss.isValue(e)){e.destroy()}Serenity.Widget.prototype.destroy.call(this)},get_value:function(){var e=this.$getEditorInstance();if(this.$instanceReady&&ss.isValue(e)){return e.getData()}else{return this.element.val()}},set_value:function(e){var t=this.$getEditorInstance();this.element.val(e);if(this.$instanceReady&&ss.isValue(t)){t.setData(e)}}},Serenity.Widget,[Qt]);ss.initClass(mt,e,{});ss.initClass(gt,e,{getConfig:function(){var e=pt.prototype.getConfig.call(this);e.removeButtons+=",Cut,Copy,Paste,BulletedList,NumberedList,Indent,Outdent,SpecialChar,Subscript,Superscript,Styles,PasteText,PasteFromWord,Strike,Link,Unlink,CreatePlaceholder,Image,Table,HorizontalRule,Source,Maximize,Format,Font,FontSize,Anchor,Blockquote,CreatePlaceholder,BGColor,JustifyLeft,JustifyCenter,JustifyRight,JustifyBlock,Superscript,RemoveFormat";e.removePlugins+=",elementspath";return e}},pt,[Qt]);ss.initClass(yt,e,{getConfig:function(){var e=pt.prototype.getConfig.call(this);e.removeButtons+=",Image,Table,HorizontalRule,Anchor,Blockquote,CreatePlaceholder,BGColor,JustifyLeft,JustifyCenter,JustifyRight,JustifyBlock,Superscript";return e}},pt,[Qt]);ss.initClass(Ot,e,{addFileButtonText:function(){return Q.text("Controls.ImageUpload.AddFileButton")},getToolButtons:function(){var e=this;var t=[];t.push({title:this.addFileButtonText(),cssClass:"add-file-button",onClick:function(){}});t.push({title:"",hint:Q.text("Controls.ImageUpload.DeleteButtonHint"),cssClass:"delete-button",onClick:function(){e.entity=null;e.populate();e.updateInterface()}});return t},populate:function(){var e=!Q.isTrimmedEmpty(this.options.originalNameProperty);if(ss.isNullOrUndefined(this.entity)){Qi.populateFileSymbols(this.fileSymbols,null,e,this.options.urlPrefix)}else{var t=this.fileSymbols;var i=[];i.push(this.entity);Qi.populateFileSymbols(t,i,e,this.options.urlPrefix)}},updateInterface:function(){var e=this.toolbar.findButton("add-file-button");var t=this.toolbar.findButton("delete-button");e.toggleClass("disabled",this.get_readOnly());t.toggleClass("disabled",this.get_readOnly()||ss.isNullOrUndefined(this.entity))},get_readOnly:function(){return!ss.isNullOrUndefined(this.uploadInput.attr("disabled"))},set_readOnly:function(e){if(this.get_readOnly()!==e){if(e){this.uploadInput.attr("disabled","disabled")}else{this.uploadInput.removeAttr("disabled")}this.updateInterface()}},get_value:function(){if(ss.isNullOrUndefined(this.entity)){return null}var e=$.extend({},this.entity);return e},set_value:function(e){if(ss.isValue(e)){if(ss.isNullOrUndefined(e.Filename)){this.entity=null}else{this.entity=$.extend({},e)}}else{this.entity=null}this.populate();this.updateInterface()},getEditValue:function(e,t){t[e.name]=ss.isNullOrUndefined(this.entity)?null:Q.trimToNull(this.entity.Filename)},setEditValue:function(e,t){var i={};i.Filename=ss.cast(e[t.name],String);i.OriginalName=ss.cast(e[this.options.originalNameProperty],String);this.set_value(i)}},Serenity.Widget,[Et,At,Dt]);ss.initClass(kt,e,{});ss.initClass(wt,e,{});ss.initClass(It,e,{get_value$1:function(){var e=this.element.autoNumeric("get");if(!!Q.isTrimmedEmpty(ss.cast(e,String))){return null}else{return ss.cast(parseInt(ss.cast(e,String),10),ss.Int32)}},set_value$1:function(e){if(ss.isNullOrUndefined(e)||e===""){this.element.val("")}else{this.element.autoNumeric("set",e)}},get_value:function(){return this.get_value$1()},set_value:function(e){this.set_value$1(ss.Int32.trunc(e))}},Serenity.Widget,[$t]);ss.initClass(Ft,e,{});ss.initClass(Nt,e,{getOperators:function(){return this.appendNullableOperators(this.appendComparisonOperators([]))}},ss.makeGenericType(n,[It]),[_t,Vt]);ss.initInterface(Ut,e,{get_required:null,set_required:null});ss.initClass(Bt,e,{});ss.initClass(Mt,e,{},Gt,[At,Et,Qt,Dt]);ss.initClass(qt,e,{getOperators:function(){var e=[];e.push({key:tt.EQ});e.push({key:tt.NE});e.push({key:tt.contains});e.push({key:tt.startsWith});return this.appendNullableOperators(e)},useEditor:function(){return ss.referenceEquals(this.get_operator().key,tt.EQ)||ss.referenceEquals(this.get_operator().key,tt.NE)},useIdField:function(){return this.useEditor()},getEditorText:function(){if(this.useEditor()){return this.editor.get_text()}return r.prototype.getEditorText.call(this)}},ss.makeGenericType(n,[Mt]),[_t,Vt]);ss.initClass(Lt,e,{get_value:function(){this.element.triggerHandler("blur.mask");return this.element.val()},set_value:function(e){this.element.val(e)}},Serenity.Widget,[Qt]);ss.initClass(Rt,e,{});ss.initClass(Wt,e,{});ss.initClass(zt,e,{format:function(e){return zt.format(e.value)}},null,[Pt]);ss.initClass(Ht,e,{addFileButtonText:function(){return Q.text("Controls.ImageUpload.AddFileButton")},getToolButtons:function(){var e=this;var t=[];t.push({title:this.addFileButtonText(),cssClass:"add-file-button",onClick:function(){}});return t},populate:function(){Qi.populateFileSymbols(this.fileSymbols,this.entities,true,this.options.urlPrefix);this.fileSymbols.children().each(ss.mkdel(this,function(e,t){var i=e;$("<a class='delete'></a>").appendTo($(t).children(".filename")).click(ss.mkdel(this,function(e){e.preventDefault();ss.removeAt(this.entities,i);this.populate()}))}))},updateInterface:function(){var e=this.toolbar.findButton("add-file-button");e.toggleClass("disabled",this.get_readOnly())},get_readOnly:function(){return!ss.isNullOrUndefined(this.uploadInput.attr("disabled"))},set_readOnly:function(e){if(this.get_readOnly()!==e){if(e){this.uploadInput.attr("disabled","disabled")}else{this.uploadInput.removeAttr("disabled")}this.updateInterface()}},get_value:function(){return Enumerable.from(this.entities).select(function(e){return $.extend({},e)}).toArray()},set_value:function(e){this.entities=Enumerable.from(e||[]).select(function(e){return $.extend({},e)}).toArray();this.populate();this.updateInterface()},getEditValue:function(e,t){if(this.get_jsonEncodeValue()){t[e.name]=$.toJSON(this.get_value())}else{t[e.name]=this.get_value()}},setEditValue:function(e,t){var i=e[t.name];if(ss.isInstanceOfType(i,String)){var s=ss.coalesce(Q.trimToNull(ss.safeCast(e[t.name],String)),"[]");if(ss.startsWithString(s,"[")&&ss.endsWithString(s,"]")){this.set_value($.parseJSON(s))}else{var n=[];n.push({Filename:s,OriginalName:"UnknownFile"});this.set_value(n)}}else{this.set_value(ss.cast(i,Array))}},get_jsonEncodeValue:function(){return this.$4$JsonEncodeValueField},set_jsonEncodeValue:function(e){this.$4$JsonEncodeValueField=e}},Serenity.Widget,[Et,At,Dt]);ss.initClass(jt,e,{get_displayFormat:function(){return this.$1$DisplayFormatField},set_displayFormat:function(e){this.$1$DisplayFormatField=e},format:function(e){return jt.format(e.value,this.get_displayFormat())}},null,[Pt]);ss.initClass(Kt,e,{});ss.initClass(wi,e,{get_value:function(){return this.element.val()},set_value:function(e){this.element.val(e)}},Serenity.Widget,[Qt]);ss.initClass(Yt,e,{},wi,[Qt]);ss.initClass(Jt,e,{get_value:function(){return this.element.val()},set_value:function(e){this.element.val(e)}},Serenity.Widget,[Qt]);ss.initClass(Xt,e,{validate:function(e){return Xt.$validate(e,this.options.multiple,this.options.internal,this.options.mobile,this.options.allowInternational,this.options.allowExtension)},formatValue:function(){this.element.val(this.getFormattedValue())},getFormattedValue:function(){var e=this.element.val();var t=null;var i=ss.mkdel(this,function(e){if(ss.isNullOrEmptyString(e)||this.options.internal){return t(e)}e=ss.coalesce(e,"").trim();if(ss.startsWithString(e,"+")){return e}if(e.indexOf(String.fromCharCode(47))>0){var i=ss.netSplit(e,[47].map(function(e){return String.fromCharCode(e)}));if(i.length!==2){return e}if(i[0].length<5){return e}var s={};if(!ss.Int32.tryParse(i[1],s)){return e}return i[0]+" / "+s.$.toString()}return t(e)});if(!this.options.internal&&!this.options.mobile){t=Xt.$formatPhoneTurkey}else if(this.options.mobile){t=Xt.$formatMobileTurkey}else if(this.options.internal){t=Xt.$formatPhoneInternal}if(!ss.staticEquals(t,null)){if(this.options.multiple){return Xt.$formatMulti(e,i)}else{return i(e)}}return e},get_value:function(){return this.getFormattedValue()},set_value:function(e){this.element.val(e)}},Serenity.Widget,[Qt]);ss.initClass(Zt,e,{});ss.initClass(ei,e,{});ss.initClass(ti,e,{destroy:function(){if(ss.isValue(this.options.menu)){this.options.menu.remove()}Serenity.Widget.prototype.destroy.call(this)}},Serenity.Widget);ss.initClass(ii,e,{},ti);ss.initClass(si,e,{byId$1:function(e){return $("#"+this.idPrefix+e)},byId:function(e){return function(t){return Li.getWidget(e).call(null,this.byId$1(t))}},w:function(e,t){return Serenity.WX.getWidget(t)($("#"+this.idPrefix+e))}});ss.initClass(ni,e,{initializeAsync:function(){return Serenity.Widget.prototype.initializeAsync.call(this).then(ss.mkdel(this,this.$initPropertyGridAsync),null).then(ss.mkdel(this,function(){this.loadInitialEntity()}),null)},loadInitialEntity:function(){if(ss.isValue(this.propertyGrid)){this.propertyGrid.load(new Object)}},getDialogOptions:function(){var e=Serenity.TemplatedDialog.prototype.getDialogOptions.call(this);e.buttons=this.getDialogButtons();e.width=400;e.title=this.getDialogTitle();return e},getDialogTitle:function(){return""},okClick:function(){if(!this.validateBeforeSave()){return}this.okClickValidated()},okClickValidated:function(){this.dialogClose()},cancelClick:function(){this.dialogClose()},getDialogButtons:function(){var e=[];e.push({text:Q.text("Dialogs.OkButton"),click:ss.mkdel(this,this.okClick)});e.push({text:Q.text("Dialogs.CancelButton"),click:ss.mkdel(this,this.cancelClick)});return e},destroy:function(){if(ss.isValue(this.propertyGrid)){this.propertyGrid.destroy();this.propertyGrid=null}if(ss.isValue(this.validator)){this.byId("Form").remove();this.validator=null}Serenity.TemplatedDialog.prototype.destroy.call(this)},get_entity:function(){return this.$entity},set_entity:function(e){this.$entity=e||new Object},get_entityId:function(){return this.$entityId},set_entityId:function(e){this.$entityId=e},updateTitle:function(){},onDialogOpen:function(){Serenity.TemplatedDialog.prototype.onDialogOpen.call(this)},$initPropertyGrid:function(){var e=this.byId("PropertyGrid");if(e.length<=0){return}var t=this.getPropertyGridOptions();this.propertyGrid=new ai(e,t).init(null);if(this.element.closest(".ui-dialog").hasClass("s-Flexify")){this.propertyGrid.element.children(".categories").flexHeightOnly(1)}},$initPropertyGridAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var e=this.byId("PropertyGrid");if(e.length<=0){return RSVP.resolve()}return this.getPropertyGridOptionsAsync().then(ss.mkdel(this,function(t){this.propertyGrid=new ai(e,t);if(this.element.closest(".ui-dialog").hasClass("s-Flexify")){this.propertyGrid.element.children(".categories").flexHeightOnly(1)}return this.propertyGrid.initialize()}),null)}),null)},getFormKey:function(){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.FormKeyAttribute,true);if(e.length>=1){return e[0].value}else{var t=ss.getTypeFullName(ss.getInstanceType(this));var i=t.indexOf(".");if(i>=0){t=t.substring(i+1)}if(ss.endsWithString(t,"Dialog")){t=t.substr(0,t.length-6)}else if(ss.endsWithString(t,"Panel")){t=t.substr(0,t.length-5)}return t}},getPropertyItems:function(){var e=this.getFormKey();return Q.getForm(e)},getPropertyItemsAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var e=this.getFormKey();return Q.getFormAsync(e)}),null)},getPropertyGridOptions:function(){var e=oi.$ctor();e.idPrefix=this.idPrefix;e.items=this.getPropertyItems();e.mode=0;e.useCategories=false;e.localTextPrefix="Forms."+this.getFormKey()+".";return e},getPropertyGridOptionsAsync:function(){return this.getPropertyItemsAsync().then(ss.mkdel(this,function(e){var t=oi.$ctor();t.idPrefix=this.idPrefix;t.items=e;t.mode=0;t.useCategories=false;t.localTextPrefix="Forms."+this.getFormKey()+".";return t}),null)},validateBeforeSave:function(){return this.validator.form()},getSaveEntity:function(){var e=new Object;if(ss.isValue(this.propertyGrid)){this.propertyGrid.save(e)}return e}},Serenity.TemplatedDialog,[Ct]);ss.initClass(ui,e,{});ss.initClass(ri,e,{},ui);ss.initClass(ai,e,{destroy:function(){if(ss.isValue(this.$editors)){for(var e=0;e<this.$editors.length;e++){this.$editors[e].destroy()}this.$editors=null}this.element.find("a.category-link").unbind("click",ai.$categoryLinkClick).remove();Serenity.Widget.prototype.destroy.call(this)},$createCategoryDiv:function(e,t,i,s){var n=$("<div/>").addClass("category").appendTo(e);var r=$("<div/>").addClass("category-title").append($("<a/>").addClass("category-anchor").text(this.$determineText(i,function(e){return e+"Categories."+i})).attr("name",this.options.idPrefix+"Category"+t[i].toString())).appendTo(n);if(ss.isValue(s)){n.addClass(s===true?"collapsible collapsed":"collapsible");var a=$("<i/>").addClass(s===true?"fa fa-plus":"fa fa-minus").appendTo(r);r.click(function(e){n.toggleClass("collapsed");a.toggleClass("fa-plus").toggleClass("fa-minus")})}return n},$determineText:function(e,t){if(ss.isValue(e)&&!ss.startsWithString(e,"`")){var i=Q.tryGetText(e);if(ss.isValue(i)){return i}}if(ss.isValue(e)&&ss.startsWithString(e,"`")){e=e.substr(1)}if(!Q.isEmptyOrNull(this.options.localTextPrefix)){var s=Q.tryGetText(t(this.options.localTextPrefix));if(ss.isValue(s)){return s}}return e},$createField:function(e,t){var i=$("<div/>").addClass("field").addClass(t.name).data("PropertyItem",t).appendTo(e);if(!ss.isNullOrEmptyString(t.cssClass)){i.addClass(t.cssClass)}var s=this.options.idPrefix+t.name;var n=this.$determineText(t.title,function(e){return e+t.name});var r=this.$determineText(t.hint,function(e){return e+t.name+"_Hint"});var l=this.$determineText(t.placeholder,function(e){return e+t.name+"_Placeholder"});var o=$("<label/>").addClass("caption").attr("for",s);var u=r;if(ss.isNullOrUndefined(u)){u=ss.coalesce(n,"")}var d=o.attr("title",u).html(ss.coalesce(n,"")).appendTo(i);if(t.required===true){$("<sup>*</sup>").attr("title",Q.text("Controls.PropertyGrid.RequiredHint")).prependTo(d)}var c=B.get(ss.coalesce(t.editorType,"String"));var f=ss.getAttributes(c,Serenity.ElementAttribute,true);var h=f.length>0?f[0].value:"<input/>";var p=Serenity.Widget.elementFor(c).addClass("editor").addClass("flexify").attr("id",s).appendTo(i);if(p.is(":input")){p.attr("name",ss.coalesce(t.name,""))}if(!Q.isEmptyOrNull(l)){p.attr("placeholder",l)}var m=t.editorParams;var g=null;var y=ss.getAttributes(c,Serenity.OptionsTypeAttribute,true);if(ss.isValue(y)&&y.length>0){g=y[0].optionsType}var v;if(ss.isValue(g)){m=$.extend(ss.createInstance(g),t.editorParams);v=new c(p,m)}else{m=$.extend(new Object,t.editorParams);v=new c(p,m)}v.initialize();if(ss.isInstanceOfType(v,a)&&(ss.isNullOrUndefined(t.editorParams)||!!!t.editorParams["labelFor"])){d.removeAttr("for")}if(ss.isInstanceOfType(v,mi)&&(ss.isNullOrUndefined(t.editorParams)||!!!t.editorParams["labelFor"])){d.removeAttr("for")}if(ss.isValue(t.maxLength)){ai.$setMaxLength(v,ss.unbox(t.maxLength))}if(ss.isValue(t.editorParams)){Si.set(v,t.editorParams)}$("<div/>").addClass("vx").appendTo(i);$("<div/>").addClass("clear").appendTo(i);return v},$getCategoryOrder:function(e){var t=0;var i={};var s=Q.trimToNull(this.options.categoryOrder);if(ss.isValue(s)){var n=s.split(";");for(var r=0;r<n.length;r++){var a=n[r];var l=Q.trimToNull(a);if(ss.isNullOrUndefined(l)){continue}if(ss.isValue(i[l])){continue}i[l]=t++}}for(var o=0;o<e.length;o++){var u=e[o];var d=u.category;if(ss.isNullOrUndefined(d)){d=ss.coalesce(this.options.defaultCategory,"")}var c=d;if(ss.isNullOrUndefined(i[c])){i[c]=t++}}return i},$createCategoryLinks:function(e,t){var i=0;var s={};var n={};for(var r=0;r<t.length;r++){var a=t[r];var l=a.name;var o=a.category;if(ss.isNullOrUndefined(o)){o=ss.coalesce(this.options.defaultCategory,"")}n[l]=o;s[a.name]=i++}var u=this;var d=this.$getCategoryOrder(t);t.sort(function(e,t){var i=0;var r=n[e.name];var a=n[t.name];if(!ss.referenceEquals(r,a)){var l=d[r];var o=d[a];if(ss.isValue(l)&&ss.isValue(o)){i=ss.unbox(l)-ss.unbox(o)}else if(ss.isValue(l)){i=-1}else if(ss.isValue(o)){i=1}}if(i===0){i=ss.compareStrings(r,a)}if(i===0){i=ss.compare(s[e.name],s[t.name])}return i});var c={};for(var f=0;f<t.length;f++){var h=t[f];var p={$:n[h.name]};if(!ss.keyExists(c,p.$)){var m=ss.getKeyCount(c)+1;c[p.$]=m;if(m>1){$("<span/>").addClass("separator").text("|").prependTo(e)}$("<a/>").addClass("category-link").text(this.$determineText(p.$,ss.mkdel({category:p},function(e){return e+"Categories."+this.category.$}))).attr("tabindex","-1").attr("href","#"+this.options.idPrefix+"Category"+m.toString()).click(ai.$categoryLinkClick).prependTo(e)}}$("<div/>").addClass("clear").appendTo(e);return c},get_editors:function(){return this.$editors},get_items:function(){return this.$items},get_idPrefix:function(){return this.options.idPrefix},get_mode:function(){return this.options.mode},set_mode:function(e){if(this.options.mode!==e){this.options.mode=e;this.$updateInterface()}},load:function(e){for(var t=0;t<this.$editors.length;t++){var i=this.$items[t];var s=this.$editors[t];if(!!(this.get_mode()===0&&!ss.isNullOrUndefined(i.defaultValue)&&typeof e[i.name]==="undefined")){e[i.name]=i.defaultValue}M.loadValue(s,i,e)}},save:function(e){for(var t=0;t<this.$editors.length;t++){var i=this.$items[t];if(i.oneWay!==true&&this.$canModifyItem(i)){var s=this.$editors[t];M.saveValue(s,i,e)}}},$canModifyItem:function(e){if(this.get_mode()===0){if(e.insertable===false){return false}if(ss.isNullOrUndefined(e.insertPermission)){return true}return Q.Authorization.hasPermission(e.insertPermission)}else if(this.get_mode()===1){if(e.updatable===false){return false}if(ss.isNullOrUndefined(e.updatePermission)){return true}return Q.Authorization.hasPermission(e.updatePermission)}return true},$updateInterface:function(){for(var e=0;e<this.$editors.length;e++){var t=this.$items[e];var i=this.$editors[e];var s=t.readOnly===true||!this.$canModifyItem(t);M.setReadOnly(i,s);M.setRequired(i,!s&&!!t.required&&t.editorType!=="Boolean");if(t.visible===false||ss.isValue(t.readPermission)||ss.isValue(t.insertPermission)||ss.isValue(t.updatePermission)||t.hideOnInsert===true||t.hideOnUpdate===true){var n=ss.isValue(t.readPermission)&&!Q.Authorization.hasPermission(t.readPermission)||t.visible===false||this.get_mode()===0&&t.hideOnInsert===true||this.get_mode()===1&&t.hideOnUpdate===true;Li.getGridField(i).toggle(!n)}}},enumerateItems:function(e){for(var t=0;t<this.$editors.length;t++){var i=this.$items[t];var s=this.$editors[t];e(i,s)}}},Serenity.Widget);ss.initEnum(li,e,{insert:0,update:1});ss.initClass(oi,e,{});ss.initClass(di,e,{});ss.initClass(Ni,e,{destroy:function(){if(ss.isValue(this.tabs)){this.tabs.tabs("destroy")}if(ss.isValue(this.toolbar)){this.toolbar.destroy();this.toolbar=null}if(ss.isValue(this.validator)){this.byId("Form").remove();this.validator=null}Serenity.Widget.prototype.destroy.call(this)},initToolbar:function(){var e=this.byId("Toolbar");if(e.length===0){return}var t={buttons:this.getToolbarButtons()};this.toolbar=new Ai(e,t)},getToolbarButtons:function(){return[]},getValidatorOptions:function(){return{}},initValidator:function(){var e=this.byId("Form");if(e.length>0){var t=this.getValidatorOptions();this.validator=e.validate(Q.validateOptions(t))}},resetValidation:function(){if(ss.isValue(this.validator)){this.validator.resetAll()}},validateForm:function(){return ss.isNullOrUndefined(this.validator)||!!this.validator.form()},arrange:function(){this.element.find(".require-layout").filter(":visible").each(function(e,t){$(t).triggerHandler("layout")})},initTabs:function(){var e=this.byId("Tabs");if(e.length===0){return}this.tabs=e.tabs({})}},Serenity.TemplatedWidget);ss.initClass(ci,e,{initializeAsync:function(){return Serenity.Widget.prototype.initializeAsync.call(this).then(ss.mkdel(this,this.$initPropertyGridAsync),null).then(ss.mkdel(this,function(){this.loadInitialEntity()}),null)},loadInitialEntity:function(){if(ss.isValue(this.propertyGrid)){this.propertyGrid.load(new Object)}},destroy:function(){if(ss.isValue(this.propertyGrid)){this.propertyGrid.destroy();this.propertyGrid=null}if(ss.isValue(this.validator)){this.byId("Form").remove();this.validator=null}Ni.prototype.destroy.call(this)},get_entity:function(){return this.$entity},set_entity:function(e){this.$entity=e||new Object},get_entityId:function(){return this.$entityId},set_entityId:function(e){this.$entityId=e},$initPropertyGrid:function(){var e=this.byId("PropertyGrid");if(e.length<=0){return}var t=this.getPropertyGridOptions();this.propertyGrid=new ai(e,t).init(null);if(this.element.closest(".ui-Panel").hasClass("s-Flexify")){this.propertyGrid.element.children(".categories").flexHeightOnly(1)}},$initPropertyGridAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var e=this.byId("PropertyGrid");if(e.length<=0){return RSVP.resolve()}return this.getPropertyGridOptionsAsync().then(ss.mkdel(this,function(t){this.propertyGrid=new ai(e,t);if(this.element.closest(".ui-Panel").hasClass("s-Flexify")){this.propertyGrid.element.children(".categories").flexHeightOnly(1)}return this.propertyGrid.initialize()}),null)}),null)},getFormKey:function(){var e=ss.getAttributes(ss.getInstanceType(this),Serenity.FormKeyAttribute,true);if(e.length>=1){return e[0].value}var t=ss.getTypeFullName(ss.getInstanceType(this));var i=t.indexOf(".");if(i>=0){t=t.substring(i+1)}if(ss.endsWithString(t,"Panel")){t=t.substr(0,t.length-6)}else if(ss.endsWithString(t,"Panel")){t=t.substr(0,t.length-5)}return t},getPropertyItems:function(){var e=this.getFormKey();return Q.getForm(e)},getPropertyItemsAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var e=this.getFormKey();return Q.getFormAsync(e)}),null)},getPropertyGridOptions:function(){var e=oi.$ctor();e.idPrefix=this.idPrefix;e.items=this.getPropertyItems();e.mode=0;e.useCategories=false;e.localTextPrefix="Forms."+this.getFormKey()+".";return e},getPropertyGridOptionsAsync:function(){return this.getPropertyItemsAsync().then(ss.mkdel(this,function(e){var t=oi.$ctor();t.idPrefix=this.idPrefix;t.items=e;t.mode=0;t.useCategories=false;t.localTextPrefix="Forms."+this.getFormKey()+".";return t}),null)},validateBeforeSave:function(){return this.validator.form()},getSaveEntity:function(){var e=new Object;if(ss.isValue(this.propertyGrid)){this.propertyGrid.save(e)}return e}},Ni);ss.initClass(fi,e,{});ss.initClass(hi,e,{$updateInputPlaceHolder:function(){var e=this.element.prevAll(".quick-search-field");if(ss.isValue(this.$field)){e.text(this.$field.title)}else{e.text("")}},checkIfValueChanged:function(){var e=Q.trim(ss.coalesce(this.element.val(),""));if(ss.referenceEquals(e,this.$lastValue)&&(!this.$fieldChanged||Q.isEmptyOrNull(e))){this.$fieldChanged=false;return}this.$fieldChanged=false;if(!!this.$timer){window.clearTimeout(this.$timer)}var t=this;this.$timer=window.setTimeout(function(){t.$searchNow(e)},this.options.typeDelay);this.$lastValue=e},$searchNow:function(e){this.element.parent().toggleClass(ss.coalesce(this.options.filteredParentClass,""),!!(e.length>0));this.element.parent().addClass(ss.coalesce(this.options.loadingParentClass,"")).addClass(ss.coalesce(this.options.loadingParentClass,""));var t=ss.mkdel(this,function(e){this.element.removeClass(ss.coalesce(this.options.loadingParentClass,"")).parent().removeClass(ss.coalesce(this.options.loadingParentClass,""));if(!e){this.element.closest(".s-QuickSearchBar").find(".quick-search-icon i").effect("shake",{distance:2})}});if(!ss.staticEquals(this.options.onSearch,null)){this.options.onSearch(ss.isValue(this.$field)&&!Q.isEmptyOrNull(this.$field.name)?this.$field.name:null,e,t)}else{t(true)}},get_field:function(){return this.$field},set_field:function(e){if(!ss.referenceEquals(this.$field,e)){this.$fieldChanged=true;this.$field=e;this.$updateInputPlaceHolder();this.checkIfValueChanged()}}},Serenity.Widget);ss.initClass(pi,e,{});ss.initClass(mi,e,{$addRadio:function(e,t){var i=$("<label/>").text(t);$('<input type="radio"/>').attr("name",this.uniqueName).attr("id",this.uniqueName+"_"+e).attr("value",e).prependTo(i);i.appendTo(this.element)},get_value:function(){return this.element.find("input:checked").first().val()},set_value:function(e){if(!ss.referenceEquals(e,this.get_value())){var t=this.element.find("input");t.filter(":checked").removeAttr("checked");if(!ss.isNullOrEmptyString(e)){t.filter("[value="+e+"]").attr("checked","checked")}}}},Serenity.Widget,[Qt]);ss.initClass(gi,e,{});ss.initClass(yi,e,{});ss.initClass(vi,e,{get_value:function(){return this.element.find(".g-recaptcha-response").val()},set_value:function(e){}},Serenity.Widget,[Qt]);ss.initClass(Si,e,{});ss.initClass(bi,e,{});ss.initClass(Ci,e,{});ss.initClass($i,e,{emptyItemText:function(){var e=this.element.attr("placeholder");if(ss.isNullOrUndefined(e)){e=Q.text("Controls.SelectEditor.EmptyItemText")}return e},getService:function(){throw new ss.NotImplementedException},query:function(e,t){var i={blockUI:false,service:this.getService()+"/List",request:e,onSuccess:function(e){t(e)}};this.executeQuery(i)},executeQuery:function(e){Q.serviceCall(e)},queryByKey:function(e,t){var i={blockUI:false,service:this.getService()+"/Retrieve",request:{EntityId:e},onSuccess:function(e){t(e.Entity)}};this.executeQueryByKey(i)},executeQueryByKey:function(e){Q.serviceCall(e)},getItemKey:null,getItemText:null,getTypeDelay:function(){return 500},getSelect2Options:function(){var e=this.emptyItemText();var t=0;return{minimumResultsForSearch:10,placeHolder:!Q.isEmptyOrNull(e)?e:null,allowClear:ss.isValue(e),query:ss.mkdel(this,function(e){var i={ContainsText:Q.trimToNull(e.term),Skip:(e.page-1)*this.pageSize,Take:this.pageSize+1};if(t!==0){window.clearTimeout(t)}t=window.setTimeout(ss.mkdel(this,function(){this.query(i,ss.mkdel(this,function(t){e.callback({results:Enumerable.from(t.Entities).take(this.pageSize).select(ss.mkdel(this,function(e){return{id:this.getItemKey(e),text:this.getItemText(e),source:e}})).toArray(),more:t.Entities.length>=this.pageSize})}))}),this.getTypeDelay())}),initSelection:ss.mkdel(this,function(e,t){var i=e.val();if(Q.isEmptyOrNull(i)){t(null);return}this.queryByKey(i,ss.mkdel(this,function(e){t(ss.isNullOrUndefined(e)?null:{id:this.getItemKey(e),text:this.getItemText(e),source:e})}))})}},addInplaceCreate:function(e){var t=this;$("<a><b/></a>").addClass("inplace-button inplace-create").attr("title",e).insertAfter(this.element).click(function(e){t.inplaceCreateClick(e)});this.get_select2Container().add(this.element).addClass("has-inplace-button")},inplaceCreateClick:function(e){},get_select2Container:function(){return this.element.prevAll(".select2-container")},get_value:function(){return ss.safeCast(this.element.select2("val"),String)},set_value:function(e){if(!ss.referenceEquals(e,this.get_value())){this.element.select2("val",e).triggerHandler("change",[true])}}},Serenity.Widget,[Qt]);ss.initClass(xi,e,{});ss.initClass(Oi,e,{});ss.initClass(ki,e,{});ss.initClass(Ii,e,{getOperators:function(){var e=[];e.push({key:tt.contains});e.push({key:tt.startsWith});e.push({key:tt.EQ});e.push({key:tt.NE});e.push({key:tt.BW});return this.appendNullableOperators(e)},validateEditorValue:function(e){if(e.length===0){return e}return r.prototype.validateEditorValue.call(this,e)}},r,[_t,Vt]);ss.initClass(Fi,e,{});ss.initClass(Vi,e,{get_value:function(){return this.element.val()},set_value:function(e){this.element.val(e)}},Serenity.Widget,[Qt]);ss.initClass(Di,e,{get_value:function(){var e=Q.toId(this.element.val());var t=Q.toId(this.$minutes.val());if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(t)){return null}return ss.unbox(e)*60+ss.unbox(t)},set_value:function(e){if(ss.isNullOrUndefined(e)){if(this.options.noEmptyOption){this.element.val(this.options.startHour.toString());this.$minutes.val("0")}else{this.element.val("");this.$minutes.val("0")}}else{this.element.val(Math.floor(ss.unbox(e)/60).toString());this.$minutes.val((ss.unbox(e)%60).toString())}}},Serenity.Widget,[$t]);ss.initClass(Ai,e,{$createButton:function(e,t){var i=ss.coalesce(t.cssClass,"");if(t.separator===true){$('<div class="separator"></div>').appendTo(e)}var s=$('<div class="tool-button"><div class="button-outer"><span class="button-inner"></span></div></div>').appendTo(e);if(i.length>0){s.addClass(i)}if(!Q.isEmptyOrNull(t.hint)){s.attr("title",t.hint)}s.click(function(e){if(s.hasClass("disabled")){return}t.onClick(e)});var n=t.title;if(t.htmlEncode!==false){n=Q.htmlEncode(t.title)}if(!ss.isNullOrEmptyString(t.icon)){s.addClass("icon-tool-button");var r=t.icon;if(ss.startsWithString(r,"fa-")){r="fa "+r}else if(ss.startsWithString(r,"glyphicon-")){r="glyphicon "+r}n="<i class='"+r+"'></i> "+n}if(ss.isNullOrUndefined(n)||n.length===0){s.addClass("no-text")}else{s.find("span").html(n)}if(!!(!ss.isNullOrEmptyString(t.hotkey)&&ss.isValue(window.window.Mousetrap))){Mousetrap(this.options.hotkeyContext||window.document.documentElement).bind(t.hotkey,function(e,i){if(s.is(":visible")){s.triggerHandler("click")}return t.hotkeyAllowDefault})}},destroy:function(){this.element.find("div.tool-button").unbind("click");Serenity.Widget.prototype.destroy.call(this)},findButton:function(e){if(ss.isValue(e)&&ss.startsWithString(e,".")){e=e.substr(1)}return $("div.tool-button."+e,this.element)}},Serenity.Widget);ss.initClass(Pi,e,{});ss.initClass(Qi,e,{});ss.initClass(Ui,e,{},wi,[Qt]);ss.initClass(Bi,e,{format:function(e){var t=!ss.isNullOrEmptyString(this.get_urlProperty())?ss.coalesce(e.item[this.get_urlProperty()],"").toString():ss.coalesce(e.value,"").toString();if(ss.isNullOrEmptyString(t)){return""}if(!ss.isNullOrEmptyString(this.get_urlFormat())){t=ss.formatString(this.get_urlFormat(),t)}if(ss.isValue(t)&&ss.startsWithString(t,"~/")){t=Q.resolveUrl(t)}var i=!ss.isNullOrEmptyString(this.get_displayProperty())?ss.coalesce(e.item[this.get_displayProperty()],"").toString():ss.coalesce(e.value,"").toString();if(!ss.isNullOrEmptyString(this.get_displayFormat())){i=ss.formatString(this.get_displayFormat(),i)}var s="<a href='"+Q.htmlEncode(t)+"'";if(!ss.isNullOrEmptyString(this.get_target())){s+=" target='"+this.get_target()+"'"}s+=">"+Q.htmlEncode(i)+"</a>";return s},get_displayProperty:function(){return this.$1$DisplayPropertyField},set_displayProperty:function(e){this.$1$DisplayPropertyField=e},get_displayFormat:function(){return this.$1$DisplayFormatField},set_displayFormat:function(e){this.$1$DisplayFormatField=e},get_urlProperty:function(){return this.$1$UrlPropertyField},set_urlProperty:function(e){this.$1$UrlPropertyField=e},get_urlFormat:function(){return this.$1$UrlFormatField},set_urlFormat:function(e){this.$1$UrlFormatField=e},get_target:function(){return this.$1$TargetField},set_target:function(e){this.$1$TargetField=e}},null,[Pt]);ss.initClass(Mi,e,{});ss.initClass(Gi,e,{});ss.initClass(qi,e,{});ss.initClass(Li,e,{});ss.initClass(Ri,e,{createPropertyGrid:function(){if(ss.isValue(this.$propertyGrid)){this.byId("PropertyGrid").html("").attr("class","");this.$propertyGrid=null}var e=this.byId("PropertyGrid");var t=oi.$ctor();t.idPrefix=this.idPrefix;t.useCategories=true;t.items=this.$propertyItems;this.$propertyGrid=new ai(e,t).init(null)},loadReport:function(e){Q.serviceCall({service:"Report/Retrieve",request:{ReportKey:e},onSuccess:ss.mkdel(this,function(t){this.$reportKey=ss.coalesce(t.ReportKey,e);this.$propertyItems=t.Properties||[];this.element.dialog().dialog("option","title",t.Title);this.createPropertyGrid();var i=this.$propertyGrid;var s=t.InitialSettings;if(ss.isNullOrUndefined(s)){s=new Object}i.load(s);this.toolbar.findButton("print-preview-button").toggle(!t.IsDataOnlyReport);this.toolbar.findButton("export-pdf-button").toggle(!t.IsDataOnlyReport);this.toolbar.findButton("export-docx-button").toggle(!t.IsDataOnlyReport);this.dialogOpen()})})},executeReport:function(e,t){if(!this.validateForm()){return}var i=new Object;
this.$propertyGrid.save(i);Q.postToService({service:"Report/Execute",request:{ReportKey:this.$reportKey,DesignId:"Default",ExportType:t,Parameters:i},target:e})},getToolbarButtons:function(){var e=[];e.push({title:"Önizleme",cssClass:"print-preview-button",onClick:ss.mkdel(this,function(){this.executeReport("_blank",null)})});e.push({title:"PDF",cssClass:"export-pdf-button",onClick:ss.mkdel(this,function(){this.executeReport("","Pdf")})});e.push({title:"Excel",cssClass:"export-xlsx-button",onClick:ss.mkdel(this,function(){this.executeReport("","Xlsx")})});e.push({title:"Word",cssClass:"export-docx-button",onClick:ss.mkdel(this,function(){this.executeReport("","Docx")})});return e}},Serenity.TemplatedDialog,[Ct]);ss.initClass(Wi,e,{$updateMatchFlags:function(e){var t=$("#ReportList").find("li").removeClass("non-match");e=Q.trimToNull(e);if(ss.isNullOrUndefined(e)){t.children("ul").hide();t.show().removeClass("expanded");return}var i=ss.netSplit(e,[44,32].map(function(e){return String.fromCharCode(e)}),null,1);for(var s=0;s<i.length;s++){i[s]=Q.trimToNull(Select2.util.stripDiacritics(i[s]).toUpperCase())}var n=t.filter(".report-item");n.each(function(e,t){var s=$(t);var n=Select2.util.stripDiacritics(ss.coalesce(s.text(),"").toUpperCase());for(var r=0;r<i.length;r++){var a=i[r];if(ss.isValue(a)&&!(n.indexOf(a)!==-1)){s.addClass("non-match");break}}});var r=n.not(".non-match");var a=r.parents("li").add(r);var l=t.not(a);l.hide().addClass("non-match");a.show();if(a.length<=100){t.children("ul").show();t.addClass("expanded")}},$categoryClick:function(e){var t=$(e.target).closest("li");if(t.hasClass("expanded")){t.find("ul").hide("fast");t.removeClass("expanded");t.find("li").removeClass("expanded")}else{t.addClass("expanded");t.children("ul").show("fast");if(t.children("ul").children("li").length===1&&!t.children("ul").children("li").hasClass("expanded")){t.children("ul").children("li").children(".line").click()}}},$reportLinkClick:function(e){e.preventDefault();var t=new Ri({reportKey:$(e.target).data("key")})}},Serenity.Widget);ss.initClass(zi,e,{});ss.setMetadata(s,{attr:[new Serenity.EditorAttribute,new Serenity.OptionsTypeAttribute(Object)]});ss.setMetadata(a,{attr:[new Serenity.EditorAttribute,new zi("Checkbox"),new Serenity.ElementAttribute('<input type="checkbox"/>')]});ss.setMetadata(o,{members:[{attr:[new Serenity.OptionAttribute],name:"FalseText",type:16,returnType:String,getter:{name:"get_FalseText",type:8,sname:"get_falseText",returnType:String,params:[]},setter:{name:"set_FalseText",type:8,sname:"set_falseText",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"TrueText",type:16,returnType:String,getter:{name:"get_TrueText",type:8,sname:"get_trueText",returnType:String,params:[]},setter:{name:"set_TrueText",type:8,sname:"set_trueText",returnType:Object,params:[String]}}]});ss.setMetadata(f,{attr:[new Serenity.EditorAttribute,new zi("Checkbox'lı Liste"),new Serenity.OptionsTypeAttribute(h),new Serenity.ElementAttribute("<ul/>")]});ss.setMetadata(h,{members:[{attr:[new ft],name:"Items",type:16,returnType:Array,getter:{name:"get_Items",type:8,params:[],returnType:Array,fget:"items"},setter:{name:"set_Items",type:8,params:[Array],returnType:Object,fset:"items"},fname:"items"},{attr:[new zi("Tümünü Seç Metni")],name:"SelectAllOptionText",type:16,returnType:String,getter:{name:"get_SelectAllOptionText",type:8,params:[],returnType:String,fget:"selectAllOptionText"},setter:{name:"set_SelectAllOptionText",type:8,params:[String],returnType:Object,fset:"selectAllOptionText"},fname:"selectAllOptionText"}]});ss.setMetadata(p,{attr:[new Serenity.ElementAttribute("<div/>"),new Serenity.IdPropertyAttribute("id")]});ss.setMetadata(v,{attr:[new Serenity.EditorAttribute,new zi("Tarih"),new Serenity.ElementAttribute('<input type="text"/>')],members:[{attr:[new Serenity.OptionAttribute],name:"MaxValue",type:16,returnType:String,getter:{name:"get_MaxValue",type:8,sname:"get_maxValue",returnType:String,params:[]},setter:{name:"set_MaxValue",type:8,sname:"set_maxValue",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"MinValue",type:16,returnType:String,getter:{name:"get_MinValue",type:8,sname:"get_minValue",returnType:String,params:[]},setter:{name:"set_MinValue",type:8,sname:"set_minValue",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"SqlMinMax",type:16,returnType:Boolean,getter:{name:"get_SqlMinMax",type:8,sname:"get_sqlMinMax",returnType:Boolean,params:[]},setter:{name:"set_SqlMinMax",type:8,sname:"set_sqlMinMax",returnType:Object,params:[Boolean]}}]});ss.setMetadata(b,{members:[{attr:[new Serenity.OptionAttribute],name:"DisplayFormat",type:16,returnType:String,getter:{name:"get_DisplayFormat",type:8,sname:"get_displayFormat",returnType:String,params:[]},setter:{name:"set_DisplayFormat",type:8,sname:"set_displayFormat",returnType:Object,params:[String]}}]});ss.setMetadata(C,{attr:[new Serenity.EditorAttribute,new zi("Date/Time"),new Serenity.ElementAttribute('<input type="text"/>')],members:[{attr:[new Serenity.OptionAttribute],name:"MaxValue",type:16,returnType:String,getter:{name:"get_MaxValue",type:8,sname:"get_maxValue",returnType:String,params:[]},setter:{name:"set_MaxValue",type:8,sname:"set_maxValue",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"MinValue",type:16,returnType:String,getter:{name:"get_MinValue",type:8,sname:"get_minValue",returnType:String,params:[]},setter:{name:"set_MinValue",type:8,sname:"set_minValue",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"SqlMinMax",type:16,returnType:Boolean,getter:{name:"get_SqlMinMax",type:8,sname:"get_sqlMinMax",returnType:Boolean,params:[]},setter:{name:"set_SqlMinMax",type:8,sname:"set_sqlMinMax",returnType:Object,params:[Boolean]}}]});ss.setMetadata(E,{attr:[new Serenity.EditorAttribute,new zi("Yıl"),new Serenity.OptionsTypeAttribute(x),new Serenity.ElementAttribute('<input type="hidden"/>')]});ss.setMetadata(O,{attr:[new Serenity.EditorAttribute,new zi("Ondalıklı Sayı"),new Serenity.OptionsTypeAttribute(k),new Serenity.ElementAttribute('<input type="text"/>')]});ss.setMetadata(k,{members:[{attr:[new zi("Ondalık"),new A("Integer")],name:"Decimals",type:16,returnType:ss.makeGenericType(ss.Nullable$1,[ss.Int32]),getter:{name:"get_Decimals",type:8,params:[],returnType:ss.makeGenericType(ss.Nullable$1,[ss.Int32]),fget:"decimals"},setter:{name:"set_Decimals",type:8,params:[ss.makeGenericType(ss.Nullable$1,[ss.Int32])],returnType:Object,fset:"decimals"},fname:"decimals"},{attr:[new zi("Max Değer")],name:"MaxValue",type:16,returnType:String,getter:{name:"get_MaxValue",type:8,params:[],returnType:String,fget:"maxValue"},setter:{name:"set_MaxValue",type:8,params:[String],returnType:Object,fset:"maxValue"},fname:"maxValue"},{attr:[new zi("Min Değer")],name:"MinValue",type:16,returnType:String,getter:{name:"get_MinValue",type:8,params:[],returnType:String,fget:"minValue"},setter:{name:"set_MinValue",type:8,params:[String],returnType:Object,fset:"minValue"},fname:"minValue"},{attr:[new zi("Ondalıkları Sıfırla Doldur"),new A("Boolean")],name:"PadDecimals",type:16,returnType:ss.makeGenericType(ss.Nullable$1,[Boolean]),getter:{name:"get_PadDecimals",type:8,params:[],returnType:ss.makeGenericType(ss.Nullable$1,[Boolean]),fget:"padDecimals"},setter:{name:"set_PadDecimals",type:8,params:[ss.makeGenericType(ss.Nullable$1,[Boolean])],returnType:Object,fset:"padDecimals"},fname:"padDecimals"}]});ss.setMetadata(V,{members:[{attr:[new Serenity.OptionAttribute],name:"EditorType",type:16,returnType:String,getter:{name:"get_EditorType",type:8,sname:"get_editorType",returnType:String,params:[]},setter:{name:"set_EditorType",type:8,sname:"set_editorType",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"UseLike",type:16,returnType:Boolean,getter:{name:"get_UseLike",type:8,sname:"get_useLike",returnType:Boolean,params:[]},setter:{name:"set_UseLike",type:8,sname:"set_useLike",returnType:Object,params:[Boolean]}},{attr:[new Serenity.OptionAttribute],name:"UseRelative",type:16,returnType:Boolean,getter:{name:"get_UseRelative",type:8,sname:"get_useRelative",returnType:Boolean,params:[]},setter:{name:"set_UseRelative",type:8,sname:"set_useRelative",returnType:Object,params:[Boolean]}}]});ss.setMetadata(D,{attrAllowMultiple:true});ss.setMetadata(U,{attr:[new Serenity.EditorAttribute,new zi("Editör Tipi"),new Serenity.ElementAttribute('<input type="hidden" />')]});ss.setMetadata(G,{attr:[new Serenity.EditorAttribute,new zi("E-posta"),new Serenity.ElementAttribute('<input type="text"/>')]});ss.setMetadata(q,{members:[{attr:[new zi("Etki Alanı")],name:"Domain",type:16,returnType:String,getter:{name:"get_Domain",type:8,params:[],returnType:String,fget:"domain"},setter:{name:"set_Domain",type:8,params:[String],returnType:Object,fset:"domain"},fname:"domain"},{attr:[new zi("Etki Alanı Salt Okunur")],name:"ReadOnlyDomain",type:16,returnType:Boolean,getter:{name:"get_ReadOnlyDomain",type:8,params:[],returnType:Boolean,fget:"readOnlyDomain"},setter:{name:"set_ReadOnlyDomain",type:8,params:[Boolean],returnType:Object,fset:"readOnlyDomain"},fname:"readOnlyDomain"}]});ss.setMetadata(W,{attr:[new Serenity.EditorAttribute,new zi("Enumeration"),new Serenity.OptionsTypeAttribute(z),new Serenity.ElementAttribute('<input type="hidden"/>')]});ss.setMetadata(z,{members:[{attr:[new zi("Enum Type Key")],name:"EnumKey",type:16,returnType:String,getter:{name:"get_EnumKey",type:8,params:[],returnType:String,fget:"enumKey"},setter:{name:"set_EnumKey",type:8,params:[String],returnType:Object,fset:"enumKey"},fname:"enumKey"},{attr:[new zi("Enum Type Key"),new ft],name:"EnumType",type:16,returnType:Function,getter:{name:"get_EnumType",type:8,params:[],returnType:Function,fget:"enumType"},setter:{name:"set_EnumType",type:8,params:[Function],returnType:Object,fset:"enumType"},fname:"enumType"}]});ss.setMetadata(j,{members:[{attr:[new Serenity.OptionAttribute],name:"EnumKey",type:16,returnType:String,getter:{name:"get_EnumKey",type:8,sname:"get_enumKey",returnType:String,params:[]},setter:{name:"set_EnumKey",type:8,sname:"set_enumKey",returnType:Object,params:[String]}}]});ss.setMetadata(Y,{members:[{attr:[new Serenity.OptionAttribute],name:"DisplayFormat",type:16,returnType:String,getter:{name:"get_DisplayFormat",type:8,sname:"get_displayFormat",returnType:String,params:[]},setter:{name:"set_DisplayFormat",type:8,sname:"set_displayFormat",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"OriginalNameProperty",type:16,returnType:String,getter:{name:"get_OriginalNameProperty",type:8,sname:"get_originalNameProperty",returnType:String,params:[]},setter:{name:"set_OriginalNameProperty",type:8,sname:"set_originalNameProperty",returnType:Object,params:[String]}}]});ss.setMetadata(lt,{attr:[new Serenity.ElementAttribute("<div/>")]});ss.setMetadata(pt,{attr:[new Serenity.EditorAttribute,new zi("Html İçerik"),new Serenity.OptionsTypeAttribute(mt),new Serenity.ElementAttribute("<textarea />")]});ss.setMetadata(mt,{members:[{attr:[new ft],name:"Cols",type:16,returnType:ss.makeGenericType(ss.Nullable$1,[ss.Int32]),getter:{name:"get_Cols",type:8,params:[],returnType:ss.makeGenericType(ss.Nullable$1,[ss.Int32]),fget:"cols"},setter:{name:"set_Cols",type:8,params:[ss.makeGenericType(ss.Nullable$1,[ss.Int32])],returnType:Object,fset:"cols"},fname:"cols"},{attr:[new ft],name:"Rows",type:16,returnType:ss.makeGenericType(ss.Nullable$1,[ss.Int32]),getter:{name:"get_Rows",type:8,params:[],returnType:ss.makeGenericType(ss.Nullable$1,[ss.Int32]),fget:"rows"},setter:{name:"set_Rows",type:8,params:[ss.makeGenericType(ss.Nullable$1,[ss.Int32])],returnType:Object,fset:"rows"},fname:"rows"}]});ss.setMetadata(gt,{attr:[new Serenity.EditorAttribute,new zi("Html Content (Font Style and Color Only)"),new Serenity.OptionsTypeAttribute(mt),new Serenity.ElementAttribute("<textarea />")]});ss.setMetadata(yt,{attr:[new Serenity.EditorAttribute,new zi("Html Content (Report Compatible Limited Set)"),new Serenity.OptionsTypeAttribute(mt),new Serenity.ElementAttribute("<textarea />")]});ss.setMetadata(Ot,{attr:[new Serenity.EditorAttribute,new zi("Image Upload"),new Serenity.OptionsTypeAttribute(kt),new Serenity.ElementAttribute("<div/>")]});ss.setMetadata(kt,{members:[{attr:[new zi("Allow Non Image Files")],name:"AllowNonImage",type:16,returnType:Boolean,getter:{name:"get_AllowNonImage",type:8,params:[],returnType:Boolean,fget:"allowNonImage"},setter:{name:"set_AllowNonImage",type:8,params:[Boolean],returnType:Object,fset:"allowNonImage"},fname:"allowNonImage"},{attr:[new zi("Max Height")],name:"MaxHeight",type:16,returnType:ss.Int32,getter:{name:"get_MaxHeight",type:8,params:[],returnType:ss.Int32,fget:"maxHeight"},setter:{name:"set_MaxHeight",type:8,params:[ss.Int32],returnType:Object,fset:"maxHeight"},fname:"maxHeight"},{attr:[new zi("Max Size")],name:"MaxSize",type:16,returnType:ss.Int32,getter:{name:"get_MaxSize",type:8,params:[],returnType:ss.Int32,fget:"maxSize"},setter:{name:"set_MaxSize",type:8,params:[ss.Int32],returnType:Object,fset:"maxSize"},fname:"maxSize"},{attr:[new zi("Min Width")],name:"MaxWidth",type:16,returnType:ss.Int32,getter:{name:"get_MaxWidth",type:8,params:[],returnType:ss.Int32,fget:"maxWidth"},setter:{name:"set_MaxWidth",type:8,params:[ss.Int32],returnType:Object,fset:"maxWidth"},fname:"maxWidth"},{attr:[new zi("Max Height")],name:"MinHeight",type:16,returnType:ss.Int32,getter:{name:"get_MinHeight",type:8,params:[],returnType:ss.Int32,fget:"minHeight"},setter:{name:"set_MinHeight",type:8,params:[ss.Int32],returnType:Object,fset:"minHeight"},fname:"minHeight"},{attr:[new zi("Min Size")],name:"MinSize",type:16,returnType:ss.Int32,getter:{name:"get_MinSize",type:8,params:[],returnType:ss.Int32,fget:"minSize"},setter:{name:"set_MinSize",type:8,params:[ss.Int32],returnType:Object,fset:"minSize"},fname:"minSize"},{attr:[new zi("Min Width")],name:"MinWidth",type:16,returnType:ss.Int32,getter:{name:"get_MinWidth",type:8,params:[],returnType:ss.Int32,fget:"minWidth"},setter:{name:"set_MinWidth",type:8,params:[ss.Int32],returnType:Object,fset:"minWidth"},fname:"minWidth"},{attr:[new zi("Original Name Property")],name:"OriginalNameProperty",type:16,returnType:String,getter:{name:"get_OriginalNameProperty",type:8,params:[],returnType:String,fget:"originalNameProperty"},setter:{name:"set_OriginalNameProperty",type:8,params:[String],returnType:Object,fset:"originalNameProperty"},fname:"originalNameProperty"},{attr:[new zi("UrlPrefix")],name:"UrlPrefix",type:16,returnType:String,getter:{name:"get_UrlPrefix",type:8,params:[],returnType:String,fget:"urlPrefix"},setter:{name:"set_UrlPrefix",type:8,params:[String],returnType:Object,fset:"urlPrefix"},fname:"urlPrefix"}]});ss.setMetadata(It,{attr:[new Serenity.EditorAttribute,new zi("Tamsayı"),new Serenity.OptionsTypeAttribute(Ft),new Serenity.ElementAttribute('<input type="text"/>')]});ss.setMetadata(Mt,{attr:[new Serenity.EditorAttribute,new Serenity.OptionsTypeAttribute(Object)]});ss.setMetadata(Gt,{attr:[new Serenity.ElementAttribute('<input type="hidden"/>')],members:[{attr:[new Serenity.OptionAttribute],name:"CascadeField",type:16,returnType:String,getter:{name:"get_CascadeField",type:8,sname:"get_cascadeField",returnType:String,params:[]},setter:{name:"set_CascadeField",type:8,sname:"set_cascadeField",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"CascadeFrom",type:16,returnType:String,getter:{name:"get_CascadeFrom",type:8,sname:"get_cascadeFrom",returnType:String,params:[]},setter:{name:"set_CascadeFrom",type:8,sname:"set_cascadeFrom",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"CascadeValue",type:16,returnType:Object,getter:{name:"get_CascadeValue",type:8,sname:"get_cascadeValue",returnType:Object,params:[]},setter:{name:"set_CascadeValue",type:8,sname:"set_cascadeValue",returnType:Object,params:[Object]}},{attr:[new Serenity.OptionAttribute],name:"FilterField",type:16,returnType:String,getter:{name:"get_FilterField",type:8,sname:"get_filterField",returnType:String,params:[]},setter:{name:"set_FilterField",type:8,sname:"set_filterField",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"FilterValue",type:16,returnType:Object,getter:{name:"get_FilterValue",type:8,sname:"get_filterValue",returnType:Object,params:[]},setter:{name:"set_FilterValue",type:8,sname:"set_filterValue",returnType:Object,params:[Object]}}]});ss.setMetadata(Lt,{attr:[new Serenity.EditorAttribute,new zi("Maskeli Giriş"),new Serenity.OptionsTypeAttribute(Rt),new Serenity.ElementAttribute('<input type="text"/>')]});ss.setMetadata(Rt,{members:[{attr:[new zi("Giriş Maskesi")],name:"Mask",type:16,returnType:String,getter:{name:"get_Mask",type:8,params:[],returnType:String,fget:"mask"},setter:{name:"set_Mask",type:8,params:[String],returnType:Object,fset:"mask"},fname:"mask"},{attr:[new zi("Yer Tutucu Karakter")],name:"Placeholder",type:16,returnType:String,getter:{name:"get_Placeholder",type:8,params:[],returnType:String,fget:"placeholder"},setter:{name:"set_Placeholder",type:8,params:[String],returnType:Object,fset:"placeholder"},fname:"placeholder"}]});ss.setMetadata(Ht,{attr:[new Serenity.EditorAttribute,new zi("MultipleImage Upload"),new Serenity.OptionsTypeAttribute(kt),new Serenity.ElementAttribute("<div/>")],members:[{attr:[new Serenity.OptionAttribute],name:"JsonEncodeValue",type:16,returnType:Boolean,getter:{name:"get_JsonEncodeValue",type:8,sname:"get_jsonEncodeValue",returnType:Boolean,params:[]},setter:{name:"set_JsonEncodeValue",type:8,sname:"set_jsonEncodeValue",returnType:Object,params:[Boolean]}}]});ss.setMetadata(jt,{members:[{attr:[new Serenity.OptionAttribute],name:"DisplayFormat",type:16,returnType:String,getter:{name:"get_DisplayFormat",type:8,sname:"get_displayFormat",returnType:String,params:[]},setter:{name:"set_DisplayFormat",type:8,sname:"set_displayFormat",returnType:Object,params:[String]}}]});ss.setMetadata(Yt,{attr:[new Serenity.EditorAttribute,new zi("Şifre")]});ss.setMetadata(Jt,{attr:[new Serenity.EditorAttribute,new zi("Kişi İsim"),new Serenity.ElementAttribute('<input type="text"/>')]});ss.setMetadata(Xt,{attr:[new Serenity.EditorAttribute,new zi("Telefon"),new Serenity.OptionsTypeAttribute(Zt),new Serenity.ElementAttribute('<input type="text"/>')]});ss.setMetadata(Zt,{members:[{attr:[new zi("Dahili Girişine İzin Ver")],name:"AllowExtension",type:16,returnType:Boolean,getter:{name:"get_AllowExtension",type:8,params:[],returnType:Boolean,fget:"allowExtension"},setter:{name:"set_AllowExtension",type:8,params:[Boolean],returnType:Object,fset:"allowExtension"},fname:"allowExtension"},{attr:[new zi("Uluslararası Telefon Girişine İzin Ver")],name:"AllowInternational",type:16,returnType:Boolean,getter:{name:"get_AllowInternational",type:8,params:[],returnType:Boolean,fget:"allowInternational"},setter:{name:"set_AllowInternational",type:8,params:[Boolean],returnType:Object,fset:"allowInternational"},fname:"allowInternational"},{attr:[new zi("Dahili Telefon")],name:"Internal",type:16,returnType:Boolean,getter:{name:"get_Internal",type:8,params:[],returnType:Boolean,fget:"internal"},setter:{name:"set_Internal",type:8,params:[Boolean],returnType:Object,fset:"internal"},fname:"internal"},{attr:[new zi("Cep Telefonu")],name:"Mobile",type:16,returnType:Boolean,getter:{name:"get_Mobile",type:8,params:[],returnType:Boolean,fget:"mobile"},setter:{name:"set_Mobile",type:8,params:[Boolean],returnType:Object,fset:"mobile"},fname:"mobile"},{attr:[new zi("Birden Çok Girişe İzin Ver")],name:"Multiple",type:16,returnType:Boolean,getter:{name:"get_Multiple",type:8,params:[],returnType:Boolean,fget:"multiple"},setter:{name:"set_Multiple",type:8,params:[Boolean],returnType:Object,fset:"multiple"},fname:"multiple"}]});ss.setMetadata(mi,{attr:[new Serenity.EditorAttribute,new zi("Radio Button"),new Serenity.ElementAttribute("<div/>")]});ss.setMetadata(vi,{attr:[new Serenity.EditorAttribute,new Serenity.ElementAttribute("<div />")]});ss.setMetadata($i,{attr:[new Serenity.ElementAttribute('<input type="hidden"/>')]});ss.setMetadata(Ti,{attr:[new Serenity.ElementAttribute('<input type="hidden"/>')]});ss.setMetadata(_i,{attr:[new Serenity.EditorAttribute,new zi("Açılır Liste"),new Serenity.OptionsTypeAttribute(Ei),new Serenity.ElementAttribute('<input type="hidden"/>')]});ss.setMetadata(Ei,{members:[{attr:[new zi("Boş Eleman Metni")],name:"EmptyOptionText",type:16,returnType:String,getter:{name:"get_EmptyOptionText",type:8,params:[],returnType:String,fget:"emptyOptionText"},setter:{name:"set_EmptyOptionText",type:8,params:[String],returnType:Object,fset:"emptyOptionText"},fname:"emptyOptionText"},{attr:[new ft],name:"Items",type:16,returnType:Array,getter:{name:"get_Items",type:8,params:[],returnType:Array,fget:"items"},setter:{name:"set_Items",type:8,params:[Array],returnType:Object,fset:"items"},fname:"items"}]});ss.setMetadata(wi,{attr:[new Serenity.EditorAttribute,new zi("Metin"),new Serenity.ElementAttribute('<input type="text"/>')]});ss.setMetadata(Ni,{attr:[new Serenity.ElementAttribute("<div/>")]});ss.setMetadata(Vi,{attr:[new Serenity.EditorAttribute,new zi("Çok Satırlı Metin"),new Serenity.OptionsTypeAttribute(Object),new Serenity.ElementAttribute("<textarea />")]});ss.setMetadata(Di,{attr:[new Serenity.EditorAttribute,new zi("Zaman"),new Serenity.OptionsTypeAttribute(Object),new Serenity.ElementAttribute("<select/>")]});ss.setMetadata(Ui,{attr:[new Serenity.EditorAttribute,new zi("URL")]});ss.setMetadata(Bi,{members:[{attr:[new Serenity.OptionAttribute],name:"DisplayFormat",type:16,returnType:String,getter:{name:"get_DisplayFormat",type:8,sname:"get_displayFormat",returnType:String,params:[]},setter:{name:"set_DisplayFormat",type:8,sname:"set_displayFormat",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"DisplayProperty",type:16,returnType:String,getter:{name:"get_DisplayProperty",type:8,sname:"get_displayProperty",returnType:String,params:[]},setter:{name:"set_DisplayProperty",type:8,sname:"set_displayProperty",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"Target",type:16,returnType:String,getter:{name:"get_Target",type:8,sname:"get_target",returnType:String,params:[]},setter:{name:"set_Target",type:8,sname:"set_target",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"UrlFormat",type:16,returnType:String,getter:{name:"get_UrlFormat",type:8,sname:"get_urlFormat",returnType:String,params:[]},setter:{name:"set_UrlFormat",type:8,sname:"set_urlFormat",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"UrlProperty",type:16,returnType:String,getter:{name:"get_UrlProperty",type:8,sname:"get_urlProperty",returnType:String,params:[]},setter:{name:"set_UrlProperty",type:8,sname:"set_urlProperty",returnType:Object,params:[String]}}]});(function(){Serenity.Widget.prototype["changeSelect2"]=function(e){var t=this;t.element.bind("change."+t.uniqueName,function(t,i){if(!!(Li.hasOriginalEvent(t)||!i)){e(t)}})};Serenity.Widget.prototype["change"]=function(e){var t=this;t.element.bind("change."+t.uniqueName,e)};Serenity.Widget.prototype["getGridField"]=function(){return this.element.closest(".field")};$.fn.tryGetWidget=function(e){var t=this;var i;if(ss.isAssignableFrom(Serenity.Widget,e)){var s=Li.getWidgetName(e);i=t.data(s);if(ss.isValue(i)&&!ss.isAssignableFrom(e,ss.getInstanceType(i))){i=null}if(ss.isValue(i)){return i}}var n=t.data();if(ss.isNullOrUndefined(n)){return null}var r=ss.getEnumerator(Object.keys(n));try{while(r.moveNext()){var a=r.current();i=n[a];if(ss.isValue(i)&&ss.isAssignableFrom(e,ss.getInstanceType(i))){return i}}}finally{r.dispose()}return null};$.fn.getWidget=function(e){var t=this;if(ss.isNullOrUndefined(t)){throw new ss.ArgumentNullException("element")}if(t.length===0){throw new ss.Exception(ss.formatString("Searching for widget of type '{0}' on a non-existent element! ({1})",ss.getTypeFullName(e),t.selector))}var i=t.tryGetWidget(e);if(ss.isNullOrUndefined(i)){throw new ss.Exception(ss.formatString("Element has no widget of type '{0}'!",ss.getTypeFullName(e)))}return i}})();(function(){M.$dummy={name:"_"}})();(function(){Q.prop(Ti,"value");Q.prop(Ti,"values");Q.prop(Ti,"readOnly")})();(function(){N.$knownTypes={}})();(function(){Q.prop(Gt,"cascadeField");Q.prop(Gt,"cascadeFrom");Q.prop(Gt,"cascadeValue");Q.prop(Gt,"filterField");Q.prop(Gt,"filterValue")})();(function(){tt.isTrue="true";tt.isFalse="false";tt.contains="contains";tt.startsWith="startswith";tt.EQ="eq";tt.NE="ne";tt.GT="gt";tt.GE="ge";tt.LT="lt";tt.LE="le";tt.BW="bw";tt.IN="in";tt.isNull="isnull";tt.isNotNull="isnotnull";tt.toCriteriaOperator=null;tt.toCriteriaOperator={};tt.toCriteriaOperator[tt.EQ]="=";tt.toCriteriaOperator[tt.NE]="!=";tt.toCriteriaOperator[tt.GT]=">";tt.toCriteriaOperator[tt.GE]=">=";tt.toCriteriaOperator[tt.LT]="<";tt.toCriteriaOperator[tt.LE]="<="})();(function(){Q.prop(wi,"value")})();(function(){Q.prop(a,"value")})();(function(){et.$knownTypes=null})();(function(){Serenity.Widget.prototype["addValidationRule"]=function(e,t){return Gi.addValidationRule(this.element,e,t)}})();(function(){Q.prop(v,"value");Q.prop(v,"valueAsDate")})();(function(){K.$knownTypes=null})();(function(){it.panelTemplate="<div id='~_Rows' class='filter-lines'></div><div id='~_Buttons' class='buttons'><button id='~_AddButton' class='btn btn-primary add'></button><button id='~_SearchButton' class='btn btn-success search'></button><button id='~_ResetButton' class='btn btn-danger reset'></button></div><div style='clear: both'></div>";it.rowTemplate="<div class='filter-line'><a class='delete'><span></span></a><div class='l'><a class='rightparen' href='#'>)</a><a class='andor' href='#'></a><a class='leftparen' href='#'>(</a></div><div class='f'><input type='hidden' class='field-select'></div><div class='o'></div><div class='v'></div><div style='clear: both'></div></div>"})();(function(){at.$knownTypes=null})();(function(){Q.prop(C,"value");Q.prop(C,"valueAsDate")})();(function(){y.defaultPersistanceStorage=null;y.defaultRowHeight=0;y.defaultHeaderHeight=0;y.defaultRowHeight=27;y.defaultHeaderHeight=30})();(function(){Q.prop(p,"value")})();(function(){Q.prop(O,"value")})();(function(){F.$enterKeyCode=13})();(function(){B.$knownTypes=null})();(function(){fi.$registeredTypes=null})();(function(){U.$editorTypeList=null})();(function(){Q.prop(G,"value")})();(function(){Q.prop(mi,"value")})();(function(){ai.$knownEditorTypes=null;ai.$knownEditorTypes={}})();(function(){Q.prop(pt,"value")})();(function(){Q.prop(Ot,"value")})();(function(){Q.prop(It,"value")})();(function(){Q.prop(Lt,"value")})();(function(){Q.prop(Ht,"value")})();(function(){Q.prop(Xt,"value")})();(function(){Q.prop($i,"value")})();(function(){Q.prop(Vi,"value")})();(function(){Q.prop(Di,"value")})()})();



(function(e){e.fn.cropzoom=function(t){return this.each(function(){var o=null;var i=null;var a=null;var s=null;var n=null;var r={width:500,height:375,bgColor:"#000",overlayColor:"#000",selector:{x:0,y:0,w:229,h:100,aspectRatio:false,centered:false,borderColor:"yellow",borderColorHover:"red",bgInfoLayer:"#FFF",infoFontSize:10,infoFontColor:"blue",showPositionsOnDrag:true,showDimetionsOnDrag:true,maxHeight:null,maxWidth:null,startWithOverlay:false,hideOverlayOnDragAndResize:true,onSelectorDrag:null,onSelectorDragStop:null,onSelectorResize:null,onSelectorResizeStop:null},image:{source:"",rotation:0,width:0,height:0,minZoom:10,maxZoom:150,startZoom:0,x:0,y:0,useStartZoomAsMinZoom:false,snapToContainer:false,onZoom:null,onRotate:null,onImageDrag:null},enableRotation:true,enableZoom:true,zoomSteps:1,rotationSteps:5,expose:{slidersOrientation:"vertical",zoomElement:"",rotationElement:"",elementMovement:"",movementSteps:5}};var l=e.extend(true,r,t);if(!e.isFunction(e.fn.draggable)||!e.isFunction(e.fn.resizable)||!e.isFunction(e.fn.slider)){alert("You must include ui.draggable, ui.resizable and ui.slider to use cropZoom");return}if(l.image.source==""||l.image.width==0||l.image.height==0){alert("You must set the source, width and height of the image element");return}o=e(this);M("options",l);o.empty();o.css({width:l.width,height:l.height,"background-color":l.bgColor,overflow:"hidden",position:"relative",border:"2px solid #333"});M("image",{h:l.image.height,w:l.image.width,posY:l.image.y,posX:l.image.x,scaleX:0,scaleY:0,rotation:l.image.rotation,source:l.image.source,bounds:[0,0,0,0],id:"image_to_crop_"+o[0].id});c();g();M("selector",{x:l.selector.x,y:l.selector.y,w:l.selector.maxWidth!=null?l.selector.w>l.selector.maxWidth?l.selector.maxWidth:l.selector.w:l.selector.w,h:l.selector.maxHeight!=null?l.selector.h>l.selector.maxHeight?l.selector.maxHeight:l.selector.h:l.selector.h});$container=e("<div />").attr("id","k").css({width:l.width,height:l.height,position:"absolute"});s=e("<img />");s.attr("src",l.image.source);e(s).css({position:"absolute",left:Y("image").posX,top:Y("image").posY,width:Y("image").w,height:Y("image").h});var m=h();if(m=="png"||m=="gif")s[0].style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+l.image.source+"',sizingMethod='scale');";$container.append(s);o.append($container);u();e(s).draggable({refreshPositions:true,drag:function(e,t){Y("image").posY=t.position.top;Y("image").posX=t.position.left;if(l.image.snapToContainer)d(t);else u();if(l.image.onImageDrag!=null)l.image.onImageDrag(s)},stop:function(e,t){if(l.image.snapToContainer)d(t)}});w();o.find(".ui-icon-gripsmall-diagonal-se").css({background:"#FFF",border:"1px solid #000",width:8,height:8});y();if(l.selector.startWithOverlay){var p={position:{top:a.position().top,left:a.position().left}};S(p)}if(l.enableZoom)v();if(l.enableRotation)f();if(l.expose.elementMovement!="")O();function d(e){if(e.position.top>0)Y("image").posY=0;if(e.position.left>0)Y("image").posX=0;var t=-(Y("image").h-e.helper.parent().parent().height()),o=-(Y("image").w-e.helper.parent().parent().width());if(e.position.top<t)Y("image").posY=t;if(e.position.left<o)Y("image").posX=o;u()}function h(){var e=l.image.source.split(".");return e[e.length-1]}function c(){Y("image").scaleX=l.width/Y("image").w;Y("image").scaleY=l.height/Y("image").h}function g(){if(l.image.startZoom!=0){var e=l.image.width*Math.abs(l.image.startZoom)/100;var t=l.image.height*Math.abs(l.image.startZoom)/100;Y("image").h=t;Y("image").w=e;if(Y("image").posY!=0&&Y("image").posX!=0){if(Y("image").h>l.height)Y("image").posY=Math.abs(l.height/2-Y("image").h/2);else Y("image").posY=l.height/2-Y("image").h/2;if(Y("image").w>l.width)Y("image").posX=Math.abs(l.width/2-Y("image").w/2);else Y("image").posX=l.width/2-Y("image").w/2}}else{var o=Y("image").scaleX;var i=Y("image").scaleY;if(i<o){Y("image").h=l.height;Y("image").w=Math.round(Y("image").w*i)}else{Y("image").h=Math.round(Y("image").h*o);Y("image").w=l.width}}if(Y("image").w<l.width&&Y("image").h<l.height){l.image.snapToContainer=false}u()}function u(){e(function(){X();rotation="rotate("+Y("image").rotation+"deg)";e(s).css({transform:rotation,"-webkit-transform":rotation,"-ms-transform":rotation,msTransform:rotation,top:Y("image").posY,left:Y("image").posX})})}function f(){var t=e("<div />").attr("id","rotationContainer").mouseover(function(){e(this).css("opacity",1)}).mouseout(function(){e(this).css("opacity",.6)});var i=e("<div />").attr("id","rotationMin").html("0");var a=e("<div />").attr("id","rotationMax").html("360");var s=e("<div />").attr("id","rotationSlider");var n="vertical";var r=Math.abs(360-l.image.rotation);if(l.expose.slidersOrientation=="horizontal"){n="horizontal";r=l.image.rotation}s.slider({orientation:n,value:r,range:"max",min:0,max:360,step:l.rotationSteps>360||l.rotationSteps<0?1:l.rotationSteps,slide:function(e,t){Y("image").rotation=r==360?Math.abs(360-t.value):Math.abs(t.value);u();if(l.image.onRotate!=null)l.image.onRotate(s,Y("image").rotation)}});t.append(i);t.append(s);t.append(a);if(l.expose.rotationElement!=""){s.addClass(l.expose.slidersOrientation);t.addClass(l.expose.slidersOrientation);i.addClass(l.expose.slidersOrientation);a.addClass(l.expose.slidersOrientation);e(l.expose.rotationElement).empty().append(t)}else{s.addClass("vertical");t.addClass("vertical");i.addClass("vertical");a.addClass("vertical");t.css({position:"absolute",top:5,left:5,opacity:.6});o.append(t)}}function v(){var t=e("<div />").attr("id","zoomContainer").mouseover(function(){e(this).css("opacity",1)}).mouseout(function(){e(this).css("opacity",.6)});var i=e("<div />").attr("id","zoomMin").html("<b>-</b>");var a=e("<div />").attr("id","zoomMax").html("<b>+</b>");var n=e("<div />").attr("id","zoomSlider");n.slider({orientation:l.expose.zoomElement!=""?l.expose.slidersOrientation:"vertical",value:l.image.startZoom!=0?l.image.startZoom:x(Y("image")),min:l.image.useStartZoomAsMinZoom?l.image.startZoom:l.image.minZoom,max:l.image.maxZoom,step:l.zoomSteps>l.image.maxZoom||l.zoomSteps<0?1:l.zoomSteps,slide:function(t,o){var i=l.expose.slidersOrientation=="vertical"?l.image.maxZoom-o.value:o.value;var a=l.image.width*Math.abs(i)/100;var n=l.image.height*Math.abs(i)/100;e(s).css({width:a+"px",height:n+"px"});var r=Y("image").w/2-a/2;var m=Y("image").h/2-n/2;var p=r>0?Y("image").posX+Math.abs(r):Y("image").posX-Math.abs(r);var d=m>0?Y("image").posY+Math.abs(m):Y("image").posY-Math.abs(m);Y("image").posX=p;Y("image").posY=d;Y("image").w=a;Y("image").h=n;c();u();if(l.image.onZoom!=null){l.image.onZoom(s,Y("image"))}}});if(l.slidersOrientation=="vertical"){t.append(a);t.append(n);t.append(i)}else{t.append(i);t.append(n);t.append(a)}if(l.expose.zoomElement!=""){i.addClass(l.expose.slidersOrientation);a.addClass(l.expose.slidersOrientation);n.addClass(l.expose.slidersOrientation);t.addClass(l.expose.slidersOrientation);e(l.expose.zoomElement).empty().append(t)}else{i.addClass("vertical");a.addClass("vertical");n.addClass("vertical");t.addClass("vertical");t.css({position:"absolute",top:5,right:5,opacity:.6});o.append(t)}}function x(){var e=0;if(Y("image").w>Y("image").h){e=l.image.maxZoom-Y("image").w*100/l.image.width}else{e=l.image.maxZoom-Y("image").h*100/l.image.height}return e}function w(){if(l.selector.centered){Y("selector").y=l.height/2-Y("selector").h/2;Y("selector").x=l.width/2-Y("selector").w/2}a=e("<div/>").attr("id",o[0].id+"_selector").css({width:Y("selector").w,height:Y("selector").h,top:Y("selector").y+"px",left:Y("selector").x+"px",border:"1px dashed "+l.selector.borderColor,position:"absolute",cursor:"move"}).mouseover(function(){e(this).css({border:"1px dashed "+l.selector.borderColorHover})}).mouseout(function(){e(this).css({border:"1px dashed "+l.selector.borderColor})});a.draggable({containment:"parent",iframeFix:true,refreshPositions:true,drag:function(e,t){Y("selector").x=t.position.left;Y("selector").y=t.position.top;S(t);b();if(l.selector.onSelectorDrag!=null)l.selector.onSelectorDrag(a,Y("selector"))},start:function(e,t){if(l.selector.hideOverlayOnDragAndResize)C()},stop:function(e,t){if(l.selector.hideOverlayOnDragAndResize)z();if(l.selector.onSelectorDragStop!=null)l.selector.onSelectorDragStop(a,Y("selector"))}});a.resizable({aspectRatio:l.selector.aspectRatio,maxHeight:l.selector.maxHeight,maxWidth:l.selector.maxWidth,minHeight:l.selector.h,minWidth:l.selector.w,containment:"parent",resize:function(e,t){Y("selector").w=a.width();Y("selector").h=a.height();S(t);b();if(l.selector.onSelectorResize!=null)l.selector.onSelectorResize(a,Y("selector"))},start:function(e,t){if(l.selector.hideOverlayOnDragAndResize)C()},stop:function(e,t){if(l.selector.hideOverlayOnDragAndResize)z();if(l.selector.onSelectorResizeStop!=null)l.selector.onSelectorResizeStop(a,Y("selector"))}});b(a);o.append(a)}function b(){var t=null;var o=false;if(a.find("#infoSelector").length>0){t=a.find("#infoSelector")}else{t=e("<div />").attr("id","infoSelector").css({position:"absolute",top:0,left:0,background:l.selector.bgInfoLayer,opacity:.6,"font-size":l.selector.infoFontSize+"px","font-family":"Arial",color:l.selector.infoFontColor,width:"100%"})}if(l.selector.showPositionsOnDrag){t.html("X:"+Math.round(Y("selector").x)+"px - Y:"+Math.round(Y("selector").y)+"px");o=true}if(l.selector.showDimetionsOnDrag){if(o){t.html(t.html()+" | W:"+Y("selector").w+"px - H:"+Y("selector").h+"px")}else{t.html("W:"+Y("selector").w+"px - H:"+Y("selector").h+"px")}}a.append(t)}function y(){var t=["t","b","l","r"];e.each(t,function(){var t=e("<div />").attr("id",this).css({overflow:"hidden",background:l.overlayColor,opacity:.6,position:"absolute","z-index":2,visibility:"visible"});o.append(t)})}function S(e){o.find("#t").css({width:l.width,height:e.position.top,left:0,top:0});o.find("#b").css({width:l.width,height:l.height,top:e.position.top+a.height()+"px",left:0});o.find("#l").css({left:0,top:e.position.top,width:e.position.left,height:a.height()});o.find("#r").css({top:e.position.top,left:e.position.left+a.width()+"px",width:l.width,height:a.height()+"px"})}o.makeOverlayPositions=S;function C(){o.find("#t").hide();o.find("#b").hide();o.find("#l").hide();o.find("#r").hide()}function z(){o.find("#t").show();o.find("#b").show();o.find("#l").show();o.find("#r").show()}function M(e,t){o.data(e,t)}function Y(e){return o.data(e)}function X(){var e=Y("image").rotation*Math.PI/180;var t=Math.sin(e);var o=Math.cos(e);var i=o*Y("image").w;var a=t*Y("image").w;var s=-t*Y("image").h;var n=o*Y("image").h;var r=o*Y("image").w-t*Y("image").h;var l=t*Y("image").w+o*Y("image").h;var m=Math.min(0,i,s,r);var p=Math.max(0,i,s,r);var d=Math.min(0,a,n,l);var h=Math.max(0,a,n,l);Y("image").rotW=p-m;Y("image").rotH=h-d;Y("image").rotY=d;Y("image").rotX=m}function O(){var t=e("<table>                                    <tr>                                    <td></td>                                    <td></td>                                    <td></td>                                    </tr>                                    <tr>                                    <td></td>                                    <td></td>                                    <td></td>                                    </tr>                                    <tr>                                    <td></td>                                    <td></td>                                    <td></td>                                    </tr>                                    </table>");var o=[];o.push(e("<div />").addClass("mvn_no mvn"));o.push(e("<div />").addClass("mvn_n mvn"));o.push(e("<div />").addClass("mvn_ne mvn"));o.push(e("<div />").addClass("mvn_o mvn"));o.push(e("<div />").addClass("mvn_c"));o.push(e("<div />").addClass("mvn_e mvn"));o.push(e("<div />").addClass("mvn_so mvn"));o.push(e("<div />").addClass("mvn_s mvn"));o.push(e("<div />").addClass("mvn_se mvn"));for(var a=0;a<o.length;a++){o[a].mousedown(function(){_(this)}).mouseup(function(){clearTimeout(i)}).mouseout(function(){clearTimeout(i)});t.find("td:eq("+a+")").append(o[a])}e(l.expose.elementMovement).empty().append(t)}function _(t){if(e(t).hasClass("mvn_no")){Y("image").posX=Y("image").posX-l.expose.movementSteps;Y("image").posY=Y("image").posY-l.expose.movementSteps}else if(e(t).hasClass("mvn_n")){Y("image").posY=Y("image").posY-l.expose.movementSteps}else if(e(t).hasClass("mvn_ne")){Y("image").posX=Y("image").posX+l.expose.movementSteps;Y("image").posY=Y("image").posY-l.expose.movementSteps}else if(e(t).hasClass("mvn_o")){Y("image").posX=Y("image").posX-l.expose.movementSteps}else if(e(t).hasClass("mvn_c")){Y("image").posX=l.width/2-Y("image").w/2;Y("image").posY=l.height/2-Y("image").h/2}else if(e(t).hasClass("mvn_e")){Y("image").posX=Y("image").posX+l.expose.movementSteps}else if(e(t).hasClass("mvn_so")){Y("image").posX=Y("image").posX-l.expose.movementSteps;Y("image").posY=Y("image").posY+l.expose.movementSteps}else if(e(t).hasClass("mvn_s")){Y("image").posY=Y("image").posY+l.expose.movementSteps}else if(e(t).hasClass("mvn_se")){Y("image").posX=Y("image").posX+l.expose.movementSteps;Y("image").posY=Y("image").posY+l.expose.movementSteps}if(l.image.snapToContainer){if(Y("image").posY>0){Y("image").posY=0}if(Y("image").posX>0){Y("image").posX=0}var a=-(Y("image").h-o.height());var s=-(Y("image").w-o.width());if(Y("image").posY<a){Y("image").posY=a}if(Y("image").posX<s){Y("image").posX=s}}u();i=setTimeout(function(){_(t)},100)}e.fn.cropzoom.updateOverlayPosition=function(e){o.makeOverlayPositions(e)};e.fn.cropzoom.getParameters=function(t,o){var i=t.data("image");var a=t.data("selector");var s={viewPortW:t.width(),viewPortH:t.height(),imageX:i.posX,imageY:i.posY,imageRotate:i.rotation,imageW:i.w,imageH:i.h,imageSource:i.source,selectorX:a.x,selectorY:a.y,selectorW:a.w,selectorH:a.h};return e.extend(s,o)};e.fn.cropzoom.getSelf=function(){return o};return this})};e.fn.extend({cropZoomSetSelector:function(t,o,i,a,s){var n=e(this);n.data("selector",{x:t,y:o,w:i,h:a});var r={position:{top:o,left:t}};if(s!=undefined&&s==true){n.find("#"+n[0].id+"_selector").animate({top:o,left:t,width:i,height:a},"slow",function(){if(n.data("options").selector.startWithOverlay){n.cropzoom.updateOverlayPosition(r)}})}else{n.find("#"+n[0].id+"_selector").css({top:o,left:t,width:i,height:a});if(e(this).data("options").selector.startWithOverlay){n.cropzoom.updateOverlayPosition(r)}}},cropZoomRestore:function(){var t=e(this);var o=t.data("options");t.empty();t.data("image",{});t.data("selector",{});if(o.expose.zoomElement!=""){e(o.expose.zoomElement).empty()}if(o.expose.rotationElement!=""){e(o.expose.rotationElement).empty()}if(o.expose.elementMovement!=""){e(o.expose.elementMovement).empty()}t.cropzoom(o)},cropZoomSend:function(t,o,i,a){var s=e(this);var n="";e.ajax({url:t,type:o,data:s.cropzoom.getParameters(s,i),success:function(e){s.data("imageResult",e);if(a!==undefined&&a!=null)a(e)}})}})})(jQuery);(function(e){e.support.touch="ontouchend"in document;if(!e.support.touch){return}var t=e.ui.mouse.prototype,o=t._mouseInit,i;function a(e,t){if(e.originalEvent.touches.length>1){return}e.preventDefault();var o=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,true,true,window,1,o.screenX,o.screenY,o.clientX,o.clientY,false,false,false,false,0,null);e.target.dispatchEvent(i)}t._touchStart=function(e){var t=this;if(i||!t._mouseCapture(e.originalEvent.changedTouches[0])){return}i=true;t._touchMoved=false;a(e,"mouseover");a(e,"mousemove");a(e,"mousedown")};t._touchMove=function(e){if(!i){return}this._touchMoved=true;a(e,"mousemove")};t._touchEnd=function(e){if(!i){return}a(e,"mouseup");a(e,"mouseout");if(!this._touchMoved){a(e,"click")}i=false};t._mouseInit=function(){var t=this;t.element.bind("touchstart",e.proxy(t,"_touchStart")).bind("touchmove",e.proxy(t,"_touchMove")).bind("touchend",e.proxy(t,"_touchEnd"));o.call(t)}})(jQuery);



(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery","jquery.ui.widget"],e)}else{e(window.jQuery)}})(function(e){"use strict";e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))"+"|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)"+"|(w(eb)?OSBrowser)|(webOS)"+"|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled"));e.support.xhrFileUpload=!!(window.ProgressEvent&&window.FileReader);e.support.xhrFormDataFileUpload=!!window.FormData;e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:undefined,replaceFileInput:true,paramName:undefined,singleFileUploads:true,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:false,limitConcurrentUploads:undefined,forceIframeTransport:false,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:true,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:true,progressInterval:100,bitrateInterval:500,autoUpload:true,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,i){t=this.messages[t]||t.toString();if(i){e.each(i,function(e,i){t=t.replace("{"+e+"}",i)})}return t},formData:function(e){return e.serializeArray()},add:function(t,i){if(t.isDefaultPrevented()){return false}if(i.autoUpload||i.autoUpload!==false&&e(this).fileupload("option","autoUpload")){i.process().done(function(){i.submit()})}},processData:false,contentType:false,cache:false},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime();this.loaded=0;this.bitrate=0;this.getBitrate=function(e,t,i){var r=e-this.timestamp;if(!this.bitrate||!i||r>i){this.bitrate=(t-this.loaded)*(1e3/r)*8;this.loaded=t;this.timestamp=e}return this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;if(e.type(t.formData)==="function"){return t.formData(t.form)}if(e.isArray(t.formData)){return t.formData}if(e.type(t.formData)==="object"){i=[];e.each(t.formData,function(e,t){i.push({name:e,value:t})});return i}return[]},_getTotal:function(t){var i=0;e.each(t,function(e,t){i+=t.size||1});return i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};if(t._progress){e.extend(t._progress,i)}else{t._progress=i}},_initResponseObject:function(e){var t;if(e._response){for(t in e._response){if(e._response.hasOwnProperty(t)){delete e._response[t]}}}else{e._response={}}},_onProgress:function(t,i){if(t.lengthComputable){var r=Date.now?Date.now():(new Date).getTime(),n;if(i._time&&i.progressInterval&&r-i._time<i.progressInterval&&t.loaded!==t.total){return}i._time=r;n=Math.floor(t.loaded/t.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0);this._progress.loaded+=n-i._progress.loaded;this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,i.bitrateInterval);i._progress.loaded=i.loaded=n;i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(r,n,i.bitrateInterval);this._trigger("progress",e.Event("progress",{delegatedEvent:t}),i);this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var i=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();if(r.upload){e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable;e.loaded=r.loaded;e.total=r.total;i._onProgress(e,t)});t.xhr=function(){return r}}},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var i=this,r,n=t.files[0],s=t.multipart||!e.support.xhrFileUpload,o=e.type(t.paramName)==="array"?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers);if(t.contentRange){t.headers["Content-Range"]=t.contentRange}if(!s||t.blob||!this._isInstanceOf("File",n)){t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(n.name)+'"'}if(!s){t.contentType=n.type||"application/octet-stream";t.data=t.blob||n}else if(e.support.xhrFormDataFileUpload){if(t.postMessage){r=this._getFormData(t);if(t.blob){r.push({name:o,value:t.blob})}else{e.each(t.files,function(i,n){r.push({name:e.type(t.paramName)==="array"&&t.paramName[i]||o,value:n})})}}else{if(i._isInstanceOf("FormData",t.formData)){r=t.formData}else{r=new FormData;e.each(this._getFormData(t),function(e,t){r.append(t.name,t.value)})}if(t.blob){r.append(o,t.blob,n.name)}else{e.each(t.files,function(n,s){if(i._isInstanceOf("File",s)||i._isInstanceOf("Blob",s)){r.append(e.type(t.paramName)==="array"&&t.paramName[n]||o,s,s.uploadName||s.name)}})}}t.data=r}t.blob=null},_initIframeSettings:function(t){var i=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||"");t.formData=this._getFormData(t);if(t.redirect&&i&&i!==location.host){t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})}},_initDataSettings:function(e){if(this._isXHRUpload(e)){if(!this._chunkedUpload(e,true)){if(!e.data){this._initXHRData(e)}this._initProgressListener(e)}if(e.postMessage){e.dataType="postmessage "+(e.dataType||"")}}else{this._initIframeSettings(e)}},_getParamName:function(t){var i=e(t.fileInput),r=t.paramName;if(!r){r=[];i.each(function(){var t=e(this),i=t.prop("name")||"files[]",n=(t.prop("files")||[1]).length;while(n){r.push(i);n-=1}});if(!r.length){r=[i.prop("name")||"files[]"]}}else if(!e.isArray(r)){r=[r]}return r},_initFormSettings:function(t){if(!t.form||!t.form.length){t.form=e(t.fileInput.prop("form"));if(!t.form.length){t.form=e(this.options.fileInput.prop("form"))}}t.paramName=this._getParamName(t);if(!t.url){t.url=t.form.prop("action")||location.href}t.type=(t.type||e.type(t.form.prop("method"))==="string"&&t.form.prop("method")||"").toUpperCase();if(t.type!=="POST"&&t.type!=="PUT"&&t.type!=="PATCH"){t.type="POST"}if(!t.formAcceptCharset){t.formAcceptCharset=t.form.attr("accept-charset")}},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);this._initFormSettings(i);this._initDataSettings(i);return i},_getDeferredState:function(e){if(e.state){return e.state()}if(e.isResolved()){return"resolved"}if(e.isRejected()){return"rejected"}return"pending"},_enhancePromise:function(e){e.success=e.done;e.error=e.fail;e.complete=e.always;return e},_getXHRPromise:function(t,i,r){var n=e.Deferred(),s=n.promise();i=i||this.options.context||s;if(t===true){n.resolveWith(i,r)}else if(t===false){n.rejectWith(i,r)}s.abort=n.promise;return this._enhancePromise(s)},_addConvenienceMethods:function(t,i){var r=this,n=function(t){return e.Deferred().resolveWith(r,t).promise()};i.process=function(t,s){if(t||s){i._processQueue=this._processQueue=(this._processQueue||n([this])).pipe(function(){if(i.errorThrown){return e.Deferred().rejectWith(r,[i]).promise()}return n(arguments)}).pipe(t,s)}return this._processQueue||n([this])};i.submit=function(){if(this.state()!=="pending"){i.jqXHR=this.jqXHR=r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==false&&r._onSend(t,this)}return this.jqXHR||r._getXHRPromise()};i.abort=function(){if(this.jqXHR){return this.jqXHR.abort()}this.errorThrown="abort";r._trigger("fail",null,this);return r._getXHRPromise(false)};i.state=function(){if(this.jqXHR){return r._getDeferredState(this.jqXHR)}if(this._processQueue){return r._getDeferredState(this._processQueue)}};i.processing=function(){return!this.jqXHR&&this._processQueue&&r._getDeferredState(this._processQueue)==="pending"};i.progress=function(){return this._progress};i.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),r=i&&i.length>1&&parseInt(i[1],10);return r&&r+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var r=this,n=t.files[0],s=n.size,o=t.uploadedBytes,a=t.maxChunkSize||s,l=this._blobSlice,p=e.Deferred(),f=p.promise(),u,d;if(!(this._isXHRUpload(t)&&l&&(o||a<s))||t.data){return false}if(i){return true}if(o>=s){n.error=t.i18n("uploadedBytes");return this._getXHRPromise(false,t.context,[null,"error",n.error])}d=function(){var i=e.extend({},t),f=i._progress.loaded;i.blob=l.call(n,o,o+a,n.type);i.chunkSize=i.blob.size;i.contentRange="bytes "+o+"-"+(o+i.chunkSize-1)+"/"+s;r._initXHRData(i);r._initProgressListener(i);u=(r._trigger("chunksend",null,i)!==false&&e.ajax(i)||r._getXHRPromise(false,i.context)).done(function(n,a,l){o=r._getUploadedBytes(l)||o+i.chunkSize;if(f+i.chunkSize-i._progress.loaded){r._onProgress(e.Event("progress",{lengthComputable:true,loaded:o-i.uploadedBytes,total:o-i.uploadedBytes}),i)}t.uploadedBytes=i.uploadedBytes=o;i.result=n;i.textStatus=a;i.jqXHR=l;r._trigger("chunkdone",null,i);r._trigger("chunkalways",null,i);if(o<s){d()}else{p.resolveWith(i.context,[n,a,l])}}).fail(function(e,t,n){i.jqXHR=e;i.textStatus=t;i.errorThrown=n;r._trigger("chunkfail",null,i);r._trigger("chunkalways",null,i);p.rejectWith(i.context,[e,t,n])})};this._enhancePromise(f);f.abort=function(){return u.abort()};d();return f},_beforeSend:function(e,t){if(this._active===0){this._trigger("start");this._bitrateTimer=new this._BitrateTimer;this._progress.loaded=this._progress.total=0;this._progress.bitrate=0}this._initResponseObject(t);this._initProgressObject(t);t._progress.loaded=t.loaded=t.uploadedBytes||0;t._progress.total=t.total=this._getTotal(t.files)||1;t._progress.bitrate=t.bitrate=0;this._active+=1;this._progress.loaded+=t.loaded;this._progress.total+=t.total},_onDone:function(t,i,r,n){var s=n._progress.total,o=n._response;if(n._progress.loaded<s){this._onProgress(e.Event("progress",{lengthComputable:true,loaded:s,total:s}),n)}o.result=n.result=t;o.textStatus=n.textStatus=i;o.jqXHR=n.jqXHR=r;this._trigger("done",null,n)},_onFail:function(e,t,i,r){var n=r._response;if(r.recalculateProgress){this._progress.loaded-=r._progress.loaded;this._progress.total-=r._progress.total}n.jqXHR=r.jqXHR=e;n.textStatus=r.textStatus=t;n.errorThrown=r.errorThrown=i;this._trigger("fail",null,r)},_onAlways:function(e,t,i,r){this._trigger("always",null,r)},_onSend:function(t,i){if(!i.submit){this._addConvenienceMethods(t,i)}var r=this,n,s,o,a,l=r._getAJAXSettings(i),p=function(){r._sending+=1;l._bitrateTimer=new r._BitrateTimer;n=n||((s||r._trigger("send",e.Event("send",{delegatedEvent:t}),l)===false)&&r._getXHRPromise(false,l.context,s)||r._chunkedUpload(l)||e.ajax(l)).done(function(e,t,i){r._onDone(e,t,i,l)}).fail(function(e,t,i){r._onFail(e,t,i,l)}).always(function(e,t,i){r._onAlways(e,t,i,l);r._sending-=1;r._active-=1;if(l.limitConcurrentUploads&&l.limitConcurrentUploads>r._sending){var n=r._slots.shift();while(n){if(r._getDeferredState(n)==="pending"){n.resolve();break}n=r._slots.shift()}}if(r._active===0){r._trigger("stop")}});return n};this._beforeSend(t,l);if(this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending){if(this.options.limitConcurrentUploads>1){o=e.Deferred();this._slots.push(o);a=o.pipe(p)}else{this._sequence=this._sequence.pipe(p,p);a=this._sequence}a.abort=function(){s=[undefined,"abort","abort"];if(!n){if(o){o.rejectWith(l.context,s)}return p()}return n.abort()};return this._enhancePromise(a)}return p()},_onAdd:function(t,i){var r=this,n=true,s=e.extend({},this.options,i),o=i.files,a=o.length,l=s.limitMultiFileUploads,p=s.limitMultiFileUploadSize,f=s.limitMultiFileUploadSizeOverhead,u=0,d=this._getParamName(s),h,c,g,_,m=0;if(p&&(!a||o[0].size===undefined)){p=undefined}if(!(s.singleFileUploads||l||p)||!this._isXHRUpload(s)){g=[o];h=[d]}else if(!(s.singleFileUploads||p)&&l){g=[];h=[];for(_=0;_<a;_+=l){g.push(o.slice(_,_+l));c=d.slice(_,_+l);if(!c.length){c=d}h.push(c)}}else if(!s.singleFileUploads&&p){g=[];h=[];for(_=0;_<a;_=_+1){u+=o[_].size+f;if(_+1===a||u+o[_+1].size+f>p||l&&_+1-m>=l){g.push(o.slice(m,_+1));c=d.slice(m,_+1);if(!c.length){c=d}h.push(c);m=_+1;u=0}}}else{h=d}i.originalFiles=o;e.each(g||o,function(s,o){var a=e.extend({},i);a.files=g?o:[o];a.paramName=h[s];r._initResponseObject(a);r._initProgressObject(a);r._addConvenienceMethods(t,a);n=r._trigger("add",e.Event("add",{delegatedEvent:t}),a);return n});return n},_replaceFileInput:function(t){var i=t.clone(true);e("<form></form>").append(i)[0].reset();t.after(i).detach();e.cleanData(t.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(e,r){if(r===t[0]){return i[0]}return r});if(t[0]===this.element[0]){this.element=i}},_handleFileTreeEntry:function(t,i){var r=this,n=e.Deferred(),s=function(e){if(e&&!e.entry){e.entry=t}n.resolve([e])},o;i=i||"";if(t.isFile){if(t._file){t._file.relativePath=i;n.resolve(t._file)}else{t.file(function(e){e.relativePath=i;n.resolve(e)},s)}}else if(t.isDirectory){o=t.createReader();o.readEntries(function(e){r._handleFileTreeEntries(e,i+t.name+"/").done(function(e){n.resolve(e)}).fail(s)},s)}else{n.resolve([])}return n.promise()},_handleFileTreeEntries:function(t,i){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;if(i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)){return this._handleFileTreeEntries(e.map(i,function(e){var t;if(e.webkitGetAsEntry){t=e.webkitGetAsEntry();if(t){t._file=e.getAsFile()}return t}return e.getAsEntry()}))}return e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var i=t.prop("webkitEntries")||t.prop("entries"),r,n;if(i&&i.length){return this._handleFileTreeEntries(i)}r=e.makeArray(t.prop("files"));if(!r.length){n=t.prop("value");if(!n){return e.Deferred().resolve([]).promise()}r=[{name:n.replace(/^.*\\/,"")}]}else if(r[0].name===undefined&&r[0].fileName){e.each(r,function(e,t){t.name=t.fileName;t.size=t.fileSize})}return e.Deferred().resolve(r).promise()},_getFileInputFiles:function(t){if(!(t instanceof e)||t.length===1){return this._getSingleFileInputFiles(t)}return e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_onChange:function(t){var i=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(n){r.files=n;if(i.options.replaceFileInput){i._replaceFileInput(r.fileInput)}if(i._trigger("change",e.Event("change",{delegatedEvent:t}),r)!==false){i._onAdd(t,r)}})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};if(i&&i.length){e.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();if(i){r.files.push(i)}});if(this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)!==false){this._onAdd(t,r)}}},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=this,r=t.dataTransfer,n={};if(r&&r.files&&r.files.length){t.preventDefault();this._getDroppedFiles(r).always(function(r){n.files=r;if(i._trigger("drop",e.Event("drop",{delegatedEvent:t}),n)!==false){i._onAdd(t,n)}})}},_onDragOver:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=t.dataTransfer;if(i&&e.inArray("Files",i.types)!==-1&&this._trigger("dragover",e.Event("dragover",{delegatedEvent:t}))!==false){t.preventDefault();i.dropEffect="copy"}},_initEventHandlers:function(){if(this._isXHRUpload(this.options)){this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop});this._on(this.options.pasteZone,{paste:this._onPaste})}if(e.support.fileInput){this._on(this.options.fileInput,{change:this._onChange})}},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop");this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change")},_setOption:function(t,i){var r=e.inArray(t,this._specialOptions)!==-1;if(r){this._destroyEventHandlers()}this._super(t,i);if(r){this._initSpecialOptions();this._initEventHandlers()}},_initSpecialOptions:function(){var t=this.options;if(t.fileInput===undefined){t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]')}else if(!(t.fileInput instanceof e)){t.fileInput=e(t.fileInput)}if(!(t.dropZone instanceof e)){t.dropZone=e(t.dropZone)}if(!(t.pasteZone instanceof e)){t.pasteZone=e(t.pasteZone)}},_getRegExp:function(e){var t=e.split("/"),i=t.pop();t.shift();return new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return t!=="url"&&e.type(i)==="string"&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options;e.each(e(this.element[0].cloneNode(false)).data(),function(e,r){if(t._isRegExpOption(e,r)){r=t._getRegExp(r)}i[e]=r})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(true);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;if(!t||this.options.disabled){return}if(t.fileInput&&!t.files){this._getFileInputFiles(t.fileInput).always(function(e){t.files=e;i._onAdd(null,t)})}else{t.files=e.makeArray(t.files);this._onAdd(null,t)}},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i=this,r=e.Deferred(),n=r.promise(),s,o;n.abort=function(){o=true;if(s){return s.abort()}r.reject(null,"abort","abort");return n};this._getFileInputFiles(t.fileInput).always(function(e){if(o){return}if(!e.length){r.reject();return}t.files=e;s=i._onSend(null,t).then(function(e,t,i){r.resolve(e,t,i)},function(e,t,i){r.reject(e,t,i)})});return this._enhancePromise(n)}t.files=e.makeArray(t.files);if(t.files.length){return this._onSend(null,t)}}return this._getXHRPromise(false,t&&t.context)}})});



(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(window.jQuery)}})(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(r){if(r.async){var n=r.initialIframeSrc||"javascript:false;",a,i,o;return{send:function(p,f){a=e('<form style="display:none;"></form>');a.attr("accept-charset",r.formAcceptCharset);o=/\?/.test(r.url)?"&":"?";if(r.type==="DELETE"){r.url=r.url+o+"_method=DELETE";r.type="POST"}else if(r.type==="PUT"){r.url=r.url+o+"_method=PUT";r.type="POST"}else if(r.type==="PATCH"){r.url=r.url+o+"_method=PATCH";r.type="POST"}t+=1;i=e('<iframe src="'+n+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(r.paramName)?r.paramName:[r.paramName];i.unbind("load").bind("load",function(){var t;try{t=i.contents();if(!t.length||!t[0].firstChild){throw new Error}}catch(r){t=undefined}f(200,"success",{iframe:t});e('<iframe src="'+n+'"></iframe>').appendTo(a);window.setTimeout(function(){a.remove()},0)});a.prop("target",i.prop("name")).prop("action",r.url).prop("method",r.type);if(r.formData){e.each(r.formData,function(t,r){e('<input type="hidden"/>').prop("name",r.name).val(r.value).appendTo(a)})}if(r.fileInput&&r.fileInput.length&&r.type==="POST"){t=r.fileInput.clone();r.fileInput.after(function(e){return t[e]});if(r.paramName){r.fileInput.each(function(t){e(this).prop("name",o[t]||r.paramName)})}a.append(r.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data");r.fileInput.removeAttr("form")}a.submit();if(t&&t.length){r.fileInput.each(function(r,n){var a=e(t[r]);e(n).prop("name",a.prop("name")).attr("form",a.attr("form"));a.replaceWith(n)})}});a.append(i).appendTo(document.body)},abort:function(){if(i){i.unbind("load").prop("src",n)}if(a){a.remove()}}}}});e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var r=t&&t[0];return r&&e.isXMLDoc(r)?r:e.parseXML(r.XMLDocument&&r.XMLDocument.xml||e(r.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})});



/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.8
 *
 */
(function(e){e.fn.extend({slimScroll:function(f){var a=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},f);this.each(function(){function v(d){if(r){d=d||window.event;
var c=0;d.wheelDelta&&(c=-d.wheelDelta/120);d.detail&&(c=d.detail/3);e(d.target||d.srcTarget||d.srcElement).closest("."+a.wrapperClass).is(b.parent())&&n(c,!0);d.preventDefault&&!k&&d.preventDefault();k||(d.returnValue=!1)}}function n(d,g,e){k=!1;var f=b.outerHeight()-c.outerHeight();g&&(g=parseInt(c.css("top"))+d*parseInt(a.wheelStep)/100*c.outerHeight(),g=Math.min(Math.max(g,0),f),g=0<d?Math.ceil(g):Math.floor(g),c.css({top:g+"px"}));l=parseInt(c.css("top"))/(b.outerHeight()-c.outerHeight());g=
l*(b[0].scrollHeight-b.outerHeight());e&&(g=d,d=g/b[0].scrollHeight*b.outerHeight(),d=Math.min(Math.max(d,0),f),c.css({top:d+"px"}));b.scrollTop(g);b.trigger("slimscrolling",~~g);w();p()}function x(){u=Math.max(b.outerHeight()/b[0].scrollHeight*b.outerHeight(),30);c.css({height:u+"px"});var a=u==b.outerHeight()?"none":"block";c.css({display:a})}function w(){x();clearTimeout(B);l==~~l?(k=a.allowPageScroll,C!=l&&b.trigger("slimscroll",0==~~l?"top":"bottom")):k=!1;C=l;u>=b.outerHeight()?k=!0:(c.stop(!0,
!0).fadeIn("fast"),a.railVisible&&m.stop(!0,!0).fadeIn("fast"))}function p(){a.alwaysVisible||(B=setTimeout(function(){a.disableFadeOut&&r||y||z||(c.fadeOut("slow"),m.fadeOut("slow"))},1E3))}var r,y,z,B,A,u,l,C,k=!1,b=e(this);if(b.parent().hasClass(a.wrapperClass)){var q=b.scrollTop(),c=b.siblings("."+a.barClass),m=b.siblings("."+a.railClass);x();if(e.isPlainObject(f)){if("height"in f&&"auto"==f.height){b.parent().css("height","auto");b.css("height","auto");var h=b.parent().parent().height();b.parent().css("height",
h);b.css("height",h)}else"height"in f&&(h=f.height,b.parent().css("height",h),b.css("height",h));if("scrollTo"in f)q=parseInt(a.scrollTo);else if("scrollBy"in f)q+=parseInt(a.scrollBy);else if("destroy"in f){c.remove();m.remove();b.unwrap();return}n(q,!1,!0)}}else if(!(e.isPlainObject(f)&&"destroy"in f)){a.height="auto"==a.height?b.parent().height():a.height;q=e("<div></div>").addClass(a.wrapperClass).css({position:"relative",overflow:"hidden",width:a.width,height:a.height});b.css({overflow:"hidden",
width:a.width,height:a.height});var m=e("<div></div>").addClass(a.railClass).css({width:a.size,height:"100%",position:"absolute",top:0,display:a.alwaysVisible&&a.railVisible?"block":"none","border-radius":a.railBorderRadius,background:a.railColor,opacity:a.railOpacity,zIndex:90}),c=e("<div></div>").addClass(a.barClass).css({background:a.color,width:a.size,position:"absolute",top:0,opacity:a.opacity,display:a.alwaysVisible?"block":"none","border-radius":a.borderRadius,BorderRadius:a.borderRadius,MozBorderRadius:a.borderRadius,
WebkitBorderRadius:a.borderRadius,zIndex:99}),h="right"==a.position?{right:a.distance}:{left:a.distance};m.css(h);c.css(h);b.wrap(q);b.parent().append(c);b.parent().append(m);a.railDraggable&&c.bind("mousedown",function(a){var b=e(document);z=!0;t=parseFloat(c.css("top"));pageY=a.pageY;b.bind("mousemove.slimscroll",function(a){currTop=t+a.pageY-pageY;c.css("top",currTop);n(0,c.position().top,!1)});b.bind("mouseup.slimscroll",function(a){z=!1;p();b.unbind(".slimscroll")});return!1}).bind("selectstart.slimscroll",
function(a){a.stopPropagation();a.preventDefault();return!1});m.hover(function(){w()},function(){p()});c.hover(function(){y=!0},function(){y=!1});b.hover(function(){r=!0;w();p()},function(){r=!1;p()});b.bind("touchstart",function(a,b){a.originalEvent.touches.length&&(A=a.originalEvent.touches[0].pageY)});b.bind("touchmove",function(b){k||b.originalEvent.preventDefault();b.originalEvent.touches.length&&(n((A-b.originalEvent.touches[0].pageY)/a.touchScrollStep,!0),A=b.originalEvent.touches[0].pageY)});
x();"bottom"===a.start?(c.css({top:b.outerHeight()-c.outerHeight()}),n(0,!0)):"top"!==a.start&&(n(e(a.start).position().top,null,!0),a.alwaysVisible||c.hide());window.addEventListener?(this.addEventListener("DOMMouseScroll",v,!1),this.addEventListener("mousewheel",v,!1)):document.attachEvent("onmousewheel",v)}});return this}});e.fn.extend({slimscroll:e.fn.slimScroll})})(jQuery);



/* mousetrap v1.5.3 craig.is/killing/mice */
(function(C,r,g){function t(a,b,h){a.addEventListener?a.addEventListener(b,h,!1):a.attachEvent("on"+b,h)}function x(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);a.shiftKey||(b=b.toLowerCase());return b}return l[a.which]?l[a.which]:p[a.which]?p[a.which]:String.fromCharCode(a.which).toLowerCase()}function D(a){var b=[];a.shiftKey&&b.push("shift");a.altKey&&b.push("alt");a.ctrlKey&&b.push("ctrl");a.metaKey&&b.push("meta");return b}function u(a){return"shift"==a||"ctrl"==a||"alt"==a||
"meta"==a}function y(a,b){var h,c,e,g=[];h=a;"+"===h?h=["+"]:(h=h.replace(/\+{2}/g,"+plus"),h=h.split("+"));for(e=0;e<h.length;++e)c=h[e],z[c]&&(c=z[c]),b&&"keypress"!=b&&A[c]&&(c=A[c],g.push("shift")),u(c)&&g.push(c);h=c;e=b;if(!e){if(!k){k={};for(var m in l)95<m&&112>m||l.hasOwnProperty(m)&&(k[l[m]]=m)}e=k[h]?"keydown":"keypress"}"keypress"==e&&g.length&&(e="keydown");return{key:c,modifiers:g,action:e}}function B(a,b){return null===a||a===r?!1:a===b?!0:B(a.parentNode,b)}function c(a){function b(a){a=
a||{};var b=!1,n;for(n in q)a[n]?b=!0:q[n]=0;b||(v=!1)}function h(a,b,n,f,c,h){var g,e,l=[],m=n.type;if(!d._callbacks[a])return[];"keyup"==m&&u(a)&&(b=[a]);for(g=0;g<d._callbacks[a].length;++g)if(e=d._callbacks[a][g],(f||!e.seq||q[e.seq]==e.level)&&m==e.action){var k;(k="keypress"==m&&!n.metaKey&&!n.ctrlKey)||(k=e.modifiers,k=b.sort().join(",")===k.sort().join(","));k&&(k=f&&e.seq==f&&e.level==h,(!f&&e.combo==c||k)&&d._callbacks[a].splice(g,1),l.push(e))}return l}function g(a,b,n,f){d.stopCallback(b,
b.target||b.srcElement,n,f)||!1!==a(b,n)||(b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation?b.stopPropagation():b.cancelBubble=!0)}function e(a){"number"!==typeof a.which&&(a.which=a.keyCode);var b=x(a);b&&("keyup"==a.type&&w===b?w=!1:d.handleKey(b,D(a),a))}function l(a,c,n,f){function e(c){return function(){v=c;++q[a];clearTimeout(k);k=setTimeout(b,1E3)}}function h(c){g(n,c,a);"keyup"!==f&&(w=x(c));setTimeout(b,10)}for(var d=q[a]=0;d<c.length;++d){var p=d+1===c.length?h:e(f||
y(c[d+1]).action);m(c[d],p,f,a,d)}}function m(a,b,c,f,e){d._directMap[a+":"+c]=b;a=a.replace(/\s+/g," ");var g=a.split(" ");1<g.length?l(a,g,b,c):(c=y(a,c),d._callbacks[c.key]=d._callbacks[c.key]||[],h(c.key,c.modifiers,{type:c.action},f,a,e),d._callbacks[c.key][f?"unshift":"push"]({callback:b,modifiers:c.modifiers,action:c.action,seq:f,level:e,combo:a}))}var d=this;a=a||r;if(!(d instanceof c))return new c(a);d.target=a;d._callbacks={};d._directMap={};var q={},k,w=!1,p=!1,v=!1;d._handleKey=function(a,
c,e){var f=h(a,c,e),d;c={};var k=0,l=!1;for(d=0;d<f.length;++d)f[d].seq&&(k=Math.max(k,f[d].level));for(d=0;d<f.length;++d)f[d].seq?f[d].level==k&&(l=!0,c[f[d].seq]=1,g(f[d].callback,e,f[d].combo,f[d].seq)):l||g(f[d].callback,e,f[d].combo);f="keypress"==e.type&&p;e.type!=v||u(a)||f||b(c);p=l&&"keydown"==e.type};d._bindMultiple=function(a,b,c){for(var d=0;d<a.length;++d)m(a[d],b,c)};t(a,"keypress",e);t(a,"keydown",e);t(a,"keyup",e)}var l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",
20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},p={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},A={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},z={option:"alt",command:"meta","return":"enter",
escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},k;for(g=1;20>g;++g)l[111+g]="f"+g;for(g=0;9>=g;++g)l[g+96]=g;c.prototype.bind=function(a,b,c){a=a instanceof Array?a:[a];this._bindMultiple.call(this,a,b,c);return this};c.prototype.unbind=function(a,b){return this.bind.call(this,a,function(){},b)};c.prototype.trigger=function(a,b){if(this._directMap[a+":"+b])this._directMap[a+":"+b]({},a);return this};c.prototype.reset=function(){this._callbacks={};this._directMap=
{};return this};c.prototype.stopCallback=function(a,b){return-1<(" "+b.className+" ").indexOf(" mousetrap ")||B(b,this.target)?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable};c.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)};c.init=function(){var a=c(r),b;for(b in a)"_"!==b.charAt(0)&&(c[b]=function(b){return function(){return a[b].apply(a,arguments)}}(b))};c.init();C.Mousetrap=c;"undefined"!==typeof module&&module.exports&&(module.exports=
c);"function"===typeof define&&define.amd&&define(function(){return c})})(window,document);




!function(){"use strict";function e(t,o){function i(e,t){return function(){return e.apply(t,arguments)}}var r;if(o=o||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=o.touchBoundary||10,this.layer=t,this.tapDelay=o.tapDelay||200,this.tapTimeout=o.tapTimeout||700,!e.notNeeded(t)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,c=0,l=a.length;l>c;c++)s[a[c]]=i(s[a[c]],s);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,o){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,o):i.call(t,e,n,o)},t.addEventListener=function(e,n,o){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),o):i.call(t,e,n,o)}),"function"==typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(e){r(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,o=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,i=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=o&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(o&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,o;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),o=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;o&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,r;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],o){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!i){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,a,s,c,l,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(l=e.changedTouches[0],u=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=u.tagName.toLowerCase(),"label"===s){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-a>100||o&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),o&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return o&&!i&&(c=u.fastClickScrollParent,c&&c.fastClickLastScrollTop!==c.scrollTop)?!0:(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,o,i,r;if("undefined"==typeof window.ontouchstart)return!0;if(o=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(o>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction)},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}();



